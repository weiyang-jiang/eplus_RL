<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Building Controls Virtual Test Bed: utilSocket.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Building Controls Virtual Test Bed
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('util_2utilSocket_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">util/utilSocket.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;arpa/inet.h&gt;</code><br/>
<code>#include &lt;sys/socket.h&gt;</code><br/>
<code>#include &lt;netdb.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="defines_8h_source.html">defines.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for util/utilSocket.h:</div>
<div class="dyncontent">
<div class="center"><img src="util_2utilSocket_8h__incl.gif" border="0" usemap="#utilSocket_8h" alt=""/></div>
<map name="utilSocket_8h" id="utilSocket_8h">
<area shape="rect" id="node12" href="defines_8h.html" title="Define statements used by the BCVTB C methods. " alt="" coords="965,80,1039,107"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="util_2utilSocket_8h__dep__incl.gif" border="0" usemap="#utilSocket_8hdep" alt=""/></div>
<map name="utilSocket_8hdep" id="utilSocket_8hdep">
<area shape="rect" id="node2" href="util_2utilSocket_8c.html" title="utilSocket.c" alt="" coords="5,80,96,107"/></map>
</div>
</div>
<p><a href="util_2utilSocket_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acaf400df9a74b3295697ca29cc9261cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#acaf400df9a74b3295697ca29cc9261cb">HEADER_LENGTH</a>&#160;&#160;&#160;54</td></tr>
<tr class="separator:acaf400df9a74b3295697ca29cc9261cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab07c740ca0a9083a1dfab2d5db37f229"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#ab07c740ca0a9083a1dfab2d5db37f229">save_append</a> (char **buffer, const char *toAdd, int *bufLen)</td></tr>
<tr class="memdesc:ab07c740ca0a9083a1dfab2d5db37f229"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a character array to another character array.  <a href="#ab07c740ca0a9083a1dfab2d5db37f229">More...</a><br/></td></tr>
<tr class="separator:ab07c740ca0a9083a1dfab2d5db37f229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea0b20102e82736ba4ba1e91c8c352c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#afea0b20102e82736ba4ba1e91c8c352c">assembleBuffer</a> (int flag, int nDbl, int nInt, int nBoo, double curSimTim, double dblVal[], int intVal[], int booVal[], char **buffer, int *bufLen)</td></tr>
<tr class="memdesc:afea0b20102e82736ba4ba1e91c8c352c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembles the buffer that will be exchanged through the IPC.  <a href="#afea0b20102e82736ba4ba1e91c8c352c">More...</a><br/></td></tr>
<tr class="separator:afea0b20102e82736ba4ba1e91c8c352c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc58a7d459f3d855b2e5fa6a211cf30b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#acc58a7d459f3d855b2e5fa6a211cf30b">getIntCheckError</a> (const char *nptr, char **endptr, const int base, int *val)</td></tr>
<tr class="memdesc:acc58a7d459f3d855b2e5fa6a211cf30b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an integer and does the required error checking.  <a href="#acc58a7d459f3d855b2e5fa6a211cf30b">More...</a><br/></td></tr>
<tr class="separator:acc58a7d459f3d855b2e5fa6a211cf30b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d3a232c1d097ab5a7bbc026387f9ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#ac8d3a232c1d097ab5a7bbc026387f9ac">getDoubleCheckError</a> (const char *nptr, char **endptr, double *val)</td></tr>
<tr class="memdesc:ac8d3a232c1d097ab5a7bbc026387f9ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a double and does the required error checking.  <a href="#ac8d3a232c1d097ab5a7bbc026387f9ac">More...</a><br/></td></tr>
<tr class="separator:ac8d3a232c1d097ab5a7bbc026387f9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1522b70895791adf23d980a0b5fe8ffb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a1522b70895791adf23d980a0b5fe8ffb">disassembleHeaderBuffer</a> (const char *buffer, char **endptr, const int base, int *fla, int *nDbl, int *nInt, int *nBoo)</td></tr>
<tr class="memdesc:a1522b70895791adf23d980a0b5fe8ffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disassembles the header of the buffer that has been received through the IPC.  <a href="#a1522b70895791adf23d980a0b5fe8ffb">More...</a><br/></td></tr>
<tr class="separator:a1522b70895791adf23d980a0b5fe8ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ba857cb26e8e36b99a0e1f014d1c58"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#ab5ba857cb26e8e36b99a0e1f014d1c58">disassembleBuffer</a> (const char *buffer, int *fla, int *nDbl, int *nInt, int *nBoo, double *curSimTim, double dblVal[], int intVal[], int booVal[])</td></tr>
<tr class="memdesc:ab5ba857cb26e8e36b99a0e1f014d1c58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disassembles the buffer that has been received through the IPC.  <a href="#ab5ba857cb26e8e36b99a0e1f014d1c58">More...</a><br/></td></tr>
<tr class="separator:ab5ba857cb26e8e36b99a0e1f014d1c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ab523374bd149fd3aa95c012201a21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#aa9ab523374bd149fd3aa95c012201a21">getsocketportnumber</a> (const char *const docname)</td></tr>
<tr class="memdesc:aa9ab523374bd149fd3aa95c012201a21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the port number for the BSD socket communication.  <a href="#aa9ab523374bd149fd3aa95c012201a21">More...</a><br/></td></tr>
<tr class="separator:aa9ab523374bd149fd3aa95c012201a21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a159d6751c806452d2562fd9693ccc60a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a159d6751c806452d2562fd9693ccc60a">getsockethost</a> (const char *const docname, char *const hostname)</td></tr>
<tr class="memdesc:a159d6751c806452d2562fd9693ccc60a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the hostname for the BSD socket communication.  <a href="#a159d6751c806452d2562fd9693ccc60a">More...</a><br/></td></tr>
<tr class="separator:a159d6751c806452d2562fd9693ccc60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22dca8baf3cef82bf795f788174a0a77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a22dca8baf3cef82bf795f788174a0a77">getmainversionnumber</a> ()</td></tr>
<tr class="memdesc:a22dca8baf3cef82bf795f788174a0a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the main version number of the client.  <a href="#a22dca8baf3cef82bf795f788174a0a77">More...</a><br/></td></tr>
<tr class="separator:a22dca8baf3cef82bf795f788174a0a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208c7e2df7ba4e9191b605a513e68e97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a208c7e2df7ba4e9191b605a513e68e97">establishclientsocket</a> (const char *const docname)</td></tr>
<tr class="memdesc:a208c7e2df7ba4e9191b605a513e68e97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes a connection to the socket.  <a href="#a208c7e2df7ba4e9191b605a513e68e97">More...</a><br/></td></tr>
<tr class="separator:a208c7e2df7ba4e9191b605a513e68e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade04e143333da050de6b7336964169a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#ade04e143333da050de6b7336964169a9">writetosocket</a> (const int *<a class="el" href="establishClientSocket_8m.html#a4fb6a738bd03cd2771f10bc8789ec812">sockfd</a>, const int *flaWri, const int *<a class="el" href="exchangeDoublesWithSocket_8m.html#ab640a555b0a60841f49b37a044a1ae9f">nDblWri</a>, const int *nIntWri, const int *nBooWri, double *curSimTim, double dblValWri[], int intValWri[], int booValWri[])</td></tr>
<tr class="memdesc:ade04e143333da050de6b7336964169a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes data to the socket.  <a href="#ade04e143333da050de6b7336964169a9">More...</a><br/></td></tr>
<tr class="separator:ade04e143333da050de6b7336964169a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d4e728be5ab67164dc8f8d0a9ab8aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#ac2d4e728be5ab67164dc8f8d0a9ab8aa">sendclientmessage</a> (const int *<a class="el" href="establishClientSocket_8m.html#a4fb6a738bd03cd2771f10bc8789ec812">sockfd</a>, const int *flaWri)</td></tr>
<tr class="memdesc:ac2d4e728be5ab67164dc8f8d0a9ab8aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a message flag to the socket stream.  <a href="#ac2d4e728be5ab67164dc8f8d0a9ab8aa">More...</a><br/></td></tr>
<tr class="separator:ac2d4e728be5ab67164dc8f8d0a9ab8aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0119d64df999ee5aeab9b164e67f7728"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a0119d64df999ee5aeab9b164e67f7728">sendclienterror</a> (const int *<a class="el" href="establishClientSocket_8m.html#a4fb6a738bd03cd2771f10bc8789ec812">sockfd</a>, const int *flaWri)</td></tr>
<tr class="memdesc:a0119d64df999ee5aeab9b164e67f7728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an error flag to the socket stream.  <a href="#a0119d64df999ee5aeab9b164e67f7728">More...</a><br/></td></tr>
<tr class="separator:a0119d64df999ee5aeab9b164e67f7728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aef05e474063cdf7a15054690614dbb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a5aef05e474063cdf7a15054690614dbb">getRequiredReadBufferLength</a> (const int *<a class="el" href="establishClientSocket_8m.html#a4fb6a738bd03cd2771f10bc8789ec812">sockfd</a>)</td></tr>
<tr class="memdesc:a5aef05e474063cdf7a15054690614dbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the required socket buffer length by reading from the socket how many data it contains.  <a href="#a5aef05e474063cdf7a15054690614dbb">More...</a><br/></td></tr>
<tr class="separator:a5aef05e474063cdf7a15054690614dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe7352f806ac984097727adec5bf235"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#afbe7352f806ac984097727adec5bf235">getrequiredbufferlength</a> (const int nDbl, const int nInt, const int nBoo)</td></tr>
<tr class="memdesc:afbe7352f806ac984097727adec5bf235"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the required socket buffer length.  <a href="#afbe7352f806ac984097727adec5bf235">More...</a><br/></td></tr>
<tr class="separator:afbe7352f806ac984097727adec5bf235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39e9e4f39d9fc0fcbd01ed05443d387c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a39e9e4f39d9fc0fcbd01ed05443d387c">readfromsocket</a> (const int *<a class="el" href="establishClientSocket_8m.html#a4fb6a738bd03cd2771f10bc8789ec812">sockfd</a>, int *<a class="el" href="exchangeDoublesWithSocket_8m.html#a3bfb9d16b31087573b3eb43e4b9ffc6b">flaRea</a>, int *nDblRea, int *nIntRea, int *nBooRea, double *curSimTim, double <a class="el" href="exchangeDoublesWithSocket_8m.html#aea0e4533126a266932054172e46077d4">dblValRea</a>[], int intValRea[], int booValRea[])</td></tr>
<tr class="memdesc:a39e9e4f39d9fc0fcbd01ed05443d387c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data from the socket.  <a href="#a39e9e4f39d9fc0fcbd01ed05443d387c">More...</a><br/></td></tr>
<tr class="separator:a39e9e4f39d9fc0fcbd01ed05443d387c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae3a2edbf4d48bc3dd014ca506fe7a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a3ae3a2edbf4d48bc3dd014ca506fe7a2">readbufferfromsocket</a> (const int *<a class="el" href="establishClientSocket_8m.html#a4fb6a738bd03cd2771f10bc8789ec812">sockfd</a>, char *buffer, int *bufLen)</td></tr>
<tr class="memdesc:a3ae3a2edbf4d48bc3dd014ca506fe7a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a character buffer from the socket.  <a href="#a3ae3a2edbf4d48bc3dd014ca506fe7a2">More...</a><br/></td></tr>
<tr class="separator:a3ae3a2edbf4d48bc3dd014ca506fe7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a690b87527da1d8e73381da939b8bc527"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a690b87527da1d8e73381da939b8bc527">exchangewithsocket</a> (const int *<a class="el" href="establishClientSocket_8m.html#a4fb6a738bd03cd2771f10bc8789ec812">sockfd</a>, const int *flaWri, int *<a class="el" href="exchangeDoublesWithSocket_8m.html#a3bfb9d16b31087573b3eb43e4b9ffc6b">flaRea</a>, const int *<a class="el" href="exchangeDoublesWithSocket_8m.html#ab640a555b0a60841f49b37a044a1ae9f">nDblWri</a>, const int *nIntWri, const int *nBooWri, int *nDblRea, int *nIntRea, int *nBooRea, double *simTimWri, double dblValWri[], int intValWri[], int booValWri[], double *<a class="el" href="exchangeDoublesWithSocket_8m.html#a940e44fa84b5e4997e48a664372013c3">simTimRea</a>, double <a class="el" href="exchangeDoublesWithSocket_8m.html#aea0e4533126a266932054172e46077d4">dblValRea</a>[], int intValRea[], int booValRea[])</td></tr>
<tr class="memdesc:a690b87527da1d8e73381da939b8bc527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exchanges data with the socket.  <a href="#a690b87527da1d8e73381da939b8bc527">More...</a><br/></td></tr>
<tr class="separator:a690b87527da1d8e73381da939b8bc527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150c0c79d1d95fbccd260b8a7d438f42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a150c0c79d1d95fbccd260b8a7d438f42">exchangedoubleswithsocket</a> (const int *<a class="el" href="establishClientSocket_8m.html#a4fb6a738bd03cd2771f10bc8789ec812">sockfd</a>, const int *flaWri, int *<a class="el" href="exchangeDoublesWithSocket_8m.html#a3bfb9d16b31087573b3eb43e4b9ffc6b">flaRea</a>, const int *<a class="el" href="exchangeDoublesWithSocket_8m.html#ab640a555b0a60841f49b37a044a1ae9f">nDblWri</a>, int *nDblRea, double *simTimWri, double dblValWri[], double *<a class="el" href="exchangeDoublesWithSocket_8m.html#a940e44fa84b5e4997e48a664372013c3">simTimRea</a>, double <a class="el" href="exchangeDoublesWithSocket_8m.html#aea0e4533126a266932054172e46077d4">dblValRea</a>[])</td></tr>
<tr class="memdesc:a150c0c79d1d95fbccd260b8a7d438f42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exchanges data with the socket.  <a href="#a150c0c79d1d95fbccd260b8a7d438f42">More...</a><br/></td></tr>
<tr class="separator:a150c0c79d1d95fbccd260b8a7d438f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfab98006de3e526f01c6b0cdbb32fff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#abfab98006de3e526f01c6b0cdbb32fff">exchangedoubleswithsocketFMU</a> (const int *<a class="el" href="establishClientSocket_8m.html#a4fb6a738bd03cd2771f10bc8789ec812">sockfd</a>, const int *flaWri, int *<a class="el" href="exchangeDoublesWithSocket_8m.html#a3bfb9d16b31087573b3eb43e4b9ffc6b">flaRea</a>, const int *<a class="el" href="exchangeDoublesWithSocket_8m.html#ab640a555b0a60841f49b37a044a1ae9f">nDblWri</a>, int *nDblRea, double *simTimWri, double dblValWri[], double *<a class="el" href="exchangeDoublesWithSocket_8m.html#a940e44fa84b5e4997e48a664372013c3">simTimRea</a>, double <a class="el" href="exchangeDoublesWithSocket_8m.html#aea0e4533126a266932054172e46077d4">dblValRea</a>[], const int *flaExport)</td></tr>
<tr class="memdesc:abfab98006de3e526f01c6b0cdbb32fff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exchanges data with the socket.  <a href="#abfab98006de3e526f01c6b0cdbb32fff">More...</a><br/></td></tr>
<tr class="separator:abfab98006de3e526f01c6b0cdbb32fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3944aa705881f7ef69ef099a389f1856"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#a3944aa705881f7ef69ef099a389f1856">closeipc</a> (int *<a class="el" href="establishClientSocket_8m.html#a4fb6a738bd03cd2771f10bc8789ec812">sockfd</a>)</td></tr>
<tr class="memdesc:a3944aa705881f7ef69ef099a389f1856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the inter process communication socket.  <a href="#a3944aa705881f7ef69ef099a389f1856">More...</a><br/></td></tr>
<tr class="separator:a3944aa705881f7ef69ef099a389f1856"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac8ce1ee83f4235b6b5840cc66f320b75"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#ac8ce1ee83f4235b6b5840cc66f320b75">f1</a> = NULL</td></tr>
<tr class="separator:ac8ce1ee83f4235b6b5840cc66f320b75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad969355f92f97874266531418bd7b43f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#ad969355f92f97874266531418bd7b43f">REQUIRED_READ_LENGTH</a> = 0</td></tr>
<tr class="separator:ad969355f92f97874266531418bd7b43f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf350614b038bc28b13b7fb879769f9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#abf350614b038bc28b13b7fb879769f9e">REQUIRED_WRITE_LENGTH</a> = 0</td></tr>
<tr class="separator:abf350614b038bc28b13b7fb879769f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b34e0d6485600b8e1f82b98c3cc976"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_2utilSocket_8h.html#ab5b34e0d6485600b8e1f82b98c3cc976">SERVER_VERSION</a> = 0</td></tr>
<tr class="memdesc:ab5b34e0d6485600b8e1f82b98c3cc976"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be overwritten to contain the version number of the server.  <a href="#ab5b34e0d6485600b8e1f82b98c3cc976">More...</a><br/></td></tr>
<tr class="separator:ab5b34e0d6485600b8e1f82b98c3cc976"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="acaf400df9a74b3295697ca29cc9261cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HEADER_LENGTH&#160;&#160;&#160;54</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="util_2utilSocket_8h_source.html#l00137">137</a> of file <a class="el" href="util_2utilSocket_8h_source.html">util/utilSocket.h</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00867">getrequiredbufferlength()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00830">getRequiredReadBufferLength()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afea0b20102e82736ba4ba1e91c8c352c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int assembleBuffer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nDbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nInt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nBoo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curSimTim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dblVal</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intVal</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>booVal</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bufLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assembles the buffer that will be exchanged through the IPC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>The communication flag. </td></tr>
    <tr><td class="paramname">nDbl</td><td>The number of double values. </td></tr>
    <tr><td class="paramname">nInt</td><td>The number of integer values. </td></tr>
    <tr><td class="paramname">nBoo</td><td>The number of boolean values. </td></tr>
    <tr><td class="paramname">dblVal</td><td>The array that stores the double values. </td></tr>
    <tr><td class="paramname">intVal</td><td>The array that stores the integer values. </td></tr>
    <tr><td class="paramname">booVal</td><td>The array that stores the boolean values. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer into which the values will be written. </td></tr>
    <tr><td class="paramname">bufLen</td><td>The buffer length prior and after the call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error occurred. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00159">159</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="compile_8m_source.html#l00069">i</a>, <a class="el" href="defines_8h_source.html#l00037">MAINVERSION</a>, <a class="el" href="closeIPC_8m_source.html#l00001">retVal</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00125">save_append()</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00670">writetosocket()</a>.</p>

</div>
</div>
<a class="anchor" id="a3944aa705881f7ef69ef099a389f1856"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int closeipc </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sockfd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the inter process communication socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return value of the <code>close</code> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l01193">1193</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab5ba857cb26e8e36b99a0e1f014d1c58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int disassembleBuffer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fla</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nDbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nInt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nBoo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>curSimTim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dblVal</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intVal</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>booVal</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disassembles the buffer that has been received through the IPC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The buffer that contains the values to be parsed. </td></tr>
    <tr><td class="paramname">flag</td><td>The communication flag. </td></tr>
    <tr><td class="paramname">nDbl</td><td>The number of double values received. </td></tr>
    <tr><td class="paramname">nInt</td><td>The number of integer values received. </td></tr>
    <tr><td class="paramname">nBoo</td><td>The number of boolean values received. </td></tr>
    <tr><td class="paramname">dblVal</td><td>The array that stores the double values. </td></tr>
    <tr><td class="paramname">intVal</td><td>The array that stores the integer values. </td></tr>
    <tr><td class="paramname">booVal</td><td>The array that stores the boolean values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error occurred. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00343">343</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="util_2utilSocket_8c_source.html#l00297">disassembleHeaderBuffer()</a>, <a class="el" href="util_2utilSocket_8h_source.html#l00136">f1</a>, <a class="el" href="processError_8m.html#a2135b7b39c9bf55de463094163b795da">fprintf()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00264">getDoubleCheckError()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00227">getIntCheckError()</a>, <a class="el" href="compile_8m_source.html#l00069">i</a>, and <a class="el" href="closeIPC_8m_source.html#l00001">retVal</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00899">readfromsocket()</a>.</p>

</div>
</div>
<a class="anchor" id="a1522b70895791adf23d980a0b5fe8ffb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int disassembleHeaderBuffer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>endptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fla</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nDbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nInt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nBoo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disassembles the header of the buffer that has been received through the IPC. </p>
<p>This method is separated from disassemblebuffer since in the first call, we only need to peek at the header to assign a long enough buffer for the read operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The buffer that contains the values to be parsed. </td></tr>
    <tr><td class="paramname">flag</td><td>The communication flag. </td></tr>
    <tr><td class="paramname">nDbl</td><td>The number of double values received. </td></tr>
    <tr><td class="paramname">nInt</td><td>The number of integer values received. </td></tr>
    <tr><td class="paramname">nBoo</td><td>The number of boolean values received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error occurred. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00297">297</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="util_2utilSocket_8c_source.html#l00227">getIntCheckError()</a>, <a class="el" href="compile_8m_source.html#l00069">i</a>, <a class="el" href="closeIPC_8m_source.html#l00001">retVal</a>, and <a class="el" href="util_2utilSocket_8h_source.html#l00143">SERVER_VERSION</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00343">disassembleBuffer()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00830">getRequiredReadBufferLength()</a>.</p>

</div>
</div>
<a class="anchor" id="a208c7e2df7ba4e9191b605a513e68e97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int establishclientsocket </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>docname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes a connection to the socket. </p>
<p>This method establishes the client socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">docname</td><td>Name of xml file that contains the socket information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The socket file descripter, or a negative value if an error occured.</dd></dl>
<p>This method establishes the client socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">docname</td><td>Name of xml file that contains the socket information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Negative one. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00468">468</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

</div>
</div>
<a class="anchor" id="a150c0c79d1d95fbccd260b8a7d438f42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int exchangedoubleswithsocket </td>
          <td>(</td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>flaWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>flaRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>nDblWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nDblRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>simTimWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dblValWri</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>simTimRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dblValRea</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exchanges data with the socket. </p>
<p>Clients can call this method to exchange data through the socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter </td></tr>
    <tr><td class="paramname">flaWri</td><td>Communication flag to write to the socket stream. </td></tr>
    <tr><td class="paramname">flaRea</td><td>Communication flag read from the socket stream. </td></tr>
    <tr><td class="paramname">nDblWri</td><td>Number of double values to write. </td></tr>
    <tr><td class="paramname">nDblRea</td><td>Number of double values to read. </td></tr>
    <tr><td class="paramname">simTimWri</td><td>Current simulation time in seconds to write. </td></tr>
    <tr><td class="paramname">dblValWri</td><td>Double values to write. </td></tr>
    <tr><td class="paramname">simTimRea</td><td>Current simulation time in seconds read from socket. </td></tr>
    <tr><td class="paramname">dblValRea</td><td>Double values read from socket. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>int establishclientsocket(uint16_t *portNo) </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The exit value of <code>send</code> or <code>read</code>, or a negative value if an error occured. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l01119">1119</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

</div>
</div>
<a class="anchor" id="abfab98006de3e526f01c6b0cdbb32fff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int exchangedoubleswithsocketFMU </td>
          <td>(</td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>flaWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>flaRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>nDblWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nDblRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>simTimWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dblValWri</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>simTimRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dblValRea</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>flaExport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exchanges data with the socket. </p>
<p>Clients can call this method to exchange data through the socket. This methods differs from the exchangedoubleswithsocket. It has a flag that is used to set a global variable in readbufferfromsocket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter </td></tr>
    <tr><td class="paramname">flaWri</td><td>Communication flag to write to the socket stream. </td></tr>
    <tr><td class="paramname">flaRea</td><td>Communication flag read from the socket stream. </td></tr>
    <tr><td class="paramname">nDblWri</td><td>Number of double values to write. </td></tr>
    <tr><td class="paramname">nDblRea</td><td>Number of double values to read. </td></tr>
    <tr><td class="paramname">simTimWri</td><td>Current simulation time in seconds to write. </td></tr>
    <tr><td class="paramname">dblValWri</td><td>Double values to write. </td></tr>
    <tr><td class="paramname">simTimRea</td><td>Current simulation time in seconds read from socket. </td></tr>
    <tr><td class="paramname">dblValRea</td><td>Double values read from socket. </td></tr>
    <tr><td class="paramname">flaexport</td><td>Flag for FMUExport. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>int establishclientsocket(uint16_t *portNo) </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The exit value of <code>send</code> or <code>read</code>, or a negative value if an error occured. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l01160">1160</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="util_2utilSocket_8c_source.html#l01049">exchangewithsocket()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00111">FMUEXPORT</a>.</p>

</div>
</div>
<a class="anchor" id="a690b87527da1d8e73381da939b8bc527"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int exchangewithsocket </td>
          <td>(</td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>flaWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>flaRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>nDblWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>nIntWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>nBooWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nDblRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nIntRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nBooRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>simTimWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dblValWri</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intValWri</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>booValWri</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>simTimRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dblValRea</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intValRea</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>booValRea</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exchanges data with the socket. </p>
<p>Clients can call this method to exchange data through the socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter </td></tr>
    <tr><td class="paramname">flaWri</td><td>Communication flag to write to the socket stream. </td></tr>
    <tr><td class="paramname">flaRea</td><td>Communication flag read from the socket stream. </td></tr>
    <tr><td class="paramname">nDblWri</td><td>Number of double values to write. </td></tr>
    <tr><td class="paramname">nIntWri</td><td>Number of integer values to write. </td></tr>
    <tr><td class="paramname">nBooWri</td><td>Number of boolean values to write. </td></tr>
    <tr><td class="paramname">nDblRea</td><td>Number of double values to read. </td></tr>
    <tr><td class="paramname">nIntRea</td><td>Number of integer values to read. </td></tr>
    <tr><td class="paramname">nBooRea</td><td>Number of boolean values to read. </td></tr>
    <tr><td class="paramname">simTimWri</td><td>Current simulation time in seconds to write. </td></tr>
    <tr><td class="paramname">dblValWri</td><td>Double values to write. </td></tr>
    <tr><td class="paramname">intValWri</td><td>Integer values to write. </td></tr>
    <tr><td class="paramname">boolValWri</td><td>Boolean values to write. </td></tr>
    <tr><td class="paramname">simTimRea</td><td>Current simulation time in seconds read from socket. </td></tr>
    <tr><td class="paramname">dblValRea</td><td>Double values read from socket. </td></tr>
    <tr><td class="paramname">intValRea</td><td>Integer values read from socket. </td></tr>
    <tr><td class="paramname">boolValRea</td><td>Boolean values read from socket. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>int establishclientsocket(uint16_t *portNo) </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The exit value of <code>send</code> or <code>read</code>, or a negative value if an error occured. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l01049">1049</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="util_2utilSocket_8h_source.html#l00136">f1</a>, <a class="el" href="processError_8m.html#a2135b7b39c9bf55de463094163b795da">fprintf()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00867">getrequiredbufferlength()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00899">readfromsocket()</a>, <a class="el" href="util_2utilSocket_8h_source.html#l00139">REQUIRED_WRITE_LENGTH</a>, <a class="el" href="closeIPC_8m_source.html#l00001">retVal</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00670">writetosocket()</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l01119">exchangedoubleswithsocket()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l01160">exchangedoubleswithsocketFMU()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8d3a232c1d097ab5a7bbc026387f9ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getDoubleCheckError </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>nptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>endptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a double and does the required error checking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nptr</td><td>Pointer to character buffer that contains the number. </td></tr>
    <tr><td class="paramname">endptr</td><td>After return, this variable contains a pointer to the character after the last character of the number. </td></tr>
    <tr><td class="paramname">The</td><td>value contained in the character buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error occurred. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00264">264</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="processError_8m.html#a2135b7b39c9bf55de463094163b795da">fprintf()</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00343">disassembleBuffer()</a>.</p>

</div>
</div>
<a class="anchor" id="acc58a7d459f3d855b2e5fa6a211cf30b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getIntCheckError </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>nptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>endptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets an integer and does the required error checking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nptr</td><td>Pointer to character buffer that contains the number. </td></tr>
    <tr><td class="paramname">endptr</td><td>After return, this variable contains a pointer to the character after the last character of the number. </td></tr>
    <tr><td class="paramname">base</td><td>Base for the integer. </td></tr>
    <tr><td class="paramname">The</td><td>value contained in the character buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error occurred. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00227">227</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="util_2utilSocket_8c_source.html#l00111">FMUEXPORT</a>, and <a class="el" href="processError_8m.html#a2135b7b39c9bf55de463094163b795da">fprintf()</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00343">disassembleBuffer()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00297">disassembleHeaderBuffer()</a>.</p>

</div>
</div>
<a class="anchor" id="a22dca8baf3cef82bf795f788174a0a77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getmainversionnumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the main version number of the client. </p>
<p>This method returns the version number. <a class="el" href="structA.html" title="structure to keep track of the parent elements ">A</a> negative return value is used in a dummy dll to check in EnergyPlus whether the <a class="el" href="namespaceBCVTB.html">BCVTB</a> has been installed.</p>
<dl class="section return"><dt>Returns</dt><dd>The main version number, or a negative value if an error occured.</dd></dl>
<p>Returns the main version number of the client.</p>
<p>This method returns the version number of the client. <a class="el" href="structA.html" title="structure to keep track of the parent elements ">A</a> negative return value is used in a dummy dll to check in EnergyPlus whether the <a class="el" href="namespaceBCVTB.html">BCVTB</a> has been installed.</p>
<dl class="section return"><dt>Returns</dt><dd>The main version number, or a negative value if an error occured.</dd></dl>
<p>Returns the main version number of the client.</p>
<p>This method returns the version number. <a class="el" href="structA.html" title="structure to keep track of the parent elements ">A</a> negative return value is used in a dummy dll to check in EnergyPlus whether the <a class="el" href="namespaceBCVTB.html">BCVTB</a> has been installed.</p>
<dl class="section return"><dt>Returns</dt><dd>Negative one. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00443">443</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

</div>
</div>
<a class="anchor" id="afbe7352f806ac984097727adec5bf235"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getrequiredbufferlength </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nDbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nInt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nBoo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the required socket buffer length. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nDbl</td><td>Number of double values to read or write. </td></tr>
    <tr><td class="paramname">nInt</td><td>Number of integer values to read or write. </td></tr>
    <tr><td class="paramname">nBoo</td><td>Number of boolean values to read or write.</td></tr>
    <tr><td class="paramname">nDbl</td><td>Number of double values to read or write. </td></tr>
    <tr><td class="paramname">nInt</td><td>Number of integer values to read or write. </td></tr>
    <tr><td class="paramname">nBoo</td><td>Number of boolean values to read or write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nCha The nunber of characters needed to store the buffer </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00867">867</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="processError_8m.html#a2135b7b39c9bf55de463094163b795da">fprintf()</a>, <a class="el" href="util_2utilSocket_8h_source.html#l00137">HEADER_LENGTH</a>, and <a class="el" href="closeIPC_8m_source.html#l00001">retVal</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l01049">exchangewithsocket()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00830">getRequiredReadBufferLength()</a>.</p>

</div>
</div>
<a class="anchor" id="a5aef05e474063cdf7a15054690614dbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getRequiredReadBufferLength </td>
          <td>(</td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>sockfd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the required socket buffer length by reading from the socket how many data it contains. </p>
<p>This method also set the global variable <code>SERVER_VERSION</code> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nCha The nunber of characters needed to store the buffer </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00830">830</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="util_2utilSocket_8c_source.html#l00297">disassembleHeaderBuffer()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00867">getrequiredbufferlength()</a>, <a class="el" href="util_2utilSocket_8h_source.html#l00137">HEADER_LENGTH</a>, and <a class="el" href="closeIPC_8m_source.html#l00001">retVal</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00899">readfromsocket()</a>.</p>

</div>
</div>
<a class="anchor" id="a159d6751c806452d2562fd9693ccc60a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getsockethost </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>docname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *const&#160;</td>
          <td class="paramname"><em>hostname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the hostname for the BSD socket communication. </p>
<p>This method parses the xml file for the socket host name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">docname</td><td>Name of xml file. </td></tr>
    <tr><td class="paramname">hostname</td><td>The hostname will be written to this argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if an error occured. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00454">454</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="defines_8h_source.html#l00026">BUFFER_LENGTH</a>, <a class="el" href="util_2utilXml_8c_source.html#l00828">getxmlvalue()</a>, <a class="el" href="compile_8m_source.html#l00069">i</a>, and <a class="el" href="getBCVTBLibName_8m_source.html#l00001">r</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00468">establishclientsocket()</a>.</p>

</div>
</div>
<a class="anchor" id="aa9ab523374bd149fd3aa95c012201a21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getsocketportnumber </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>docname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the port number for the BSD socket communication. </p>
<p>This method parses the xml file for the socket number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">docname</td><td>Name of xml file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the socket port number if successful, or -1 if an error occured.</dd></dl>
<p>This method parses the xml file for the socket number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">docname</td><td>Name of xml file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Negative one. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00413">413</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3ae3a2edbf4d48bc3dd014ca506fe7a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int readbufferfromsocket </td>
          <td>(</td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bufLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a character buffer from the socket. </p>
<p>This method is called by <code>readfromsocket</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>The socket file descripter. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer into which the values will be written. </td></tr>
    <tr><td class="paramname">bufLen</td><td>The buffer length prior to the call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The exit value of the <code>read</code> command. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00977">977</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="util_2utilSocket_8h_source.html#l00136">f1</a>, <a class="el" href="processError_8m.html#a2135b7b39c9bf55de463094163b795da">fprintf()</a>, <a class="el" href="util_2utilSocket_8h_source.html#l00138">REQUIRED_READ_LENGTH</a>, <a class="el" href="closeIPC_8m_source.html#l00001">retVal</a>, and <a class="el" href="util_2utilSocket_8h_source.html#l00143">SERVER_VERSION</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00899">readfromsocket()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00785">sendclientmessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a39e9e4f39d9fc0fcbd01ed05443d387c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int readfromsocket </td>
          <td>(</td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>flaRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nDblRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nIntRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nBooRea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>curSimTim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dblValRea</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intValRea</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>booValRea</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads data from the socket. </p>
<p>Clients can call this method to exchange data through the socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter </td></tr>
    <tr><td class="paramname">flaRea</td><td>Communication flag read from the socket stream. </td></tr>
    <tr><td class="paramname">nDblRea</td><td>Number of double values to read. </td></tr>
    <tr><td class="paramname">nIntRea</td><td>Number of integer values to read. </td></tr>
    <tr><td class="paramname">nBooRea</td><td>Number of boolean values to read. </td></tr>
    <tr><td class="paramname">curSimTim</td><td>Current simulation time in seconds read from socket. </td></tr>
    <tr><td class="paramname">dblValRea</td><td>Double values read from socket. </td></tr>
    <tr><td class="paramname">intValRea</td><td>Integer values read from socket. </td></tr>
    <tr><td class="paramname">boolValRea</td><td>Boolean values read from socket. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>int establishclientsocket(uint16_t *portNo) </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00899">899</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="util_2utilSocket_8c_source.html#l00343">disassembleBuffer()</a>, <a class="el" href="util_2utilSocket_8h_source.html#l00136">f1</a>, <a class="el" href="processError_8m.html#a2135b7b39c9bf55de463094163b795da">fprintf()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00830">getRequiredReadBufferLength()</a>, <a class="el" href="compile_8m_source.html#l00069">i</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00977">readbufferfromsocket()</a>, <a class="el" href="util_2utilSocket_8h_source.html#l00138">REQUIRED_READ_LENGTH</a>, and <a class="el" href="closeIPC_8m_source.html#l00001">retVal</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l01049">exchangewithsocket()</a>.</p>

</div>
</div>
<a class="anchor" id="ab07c740ca0a9083a1dfab2d5db37f229"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int save_append </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>toAdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bufLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Appends a character array to another character array. </p>
<p>The array size of <code>buffer</code> may be extended by this function to prevent a buffer overflow. If <code>realloc</code> fails to allocate new memory, then this function calls <code>perror</code>(...) and returns <code>EXIT_FAILURE</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The buffer to which the character array will be added. </td></tr>
    <tr><td class="paramname">toAdd</td><td>The character array that will be appended to <code>buffer</code> </td></tr>
    <tr><td class="paramname">bufLen</td><td>The length of the character array <code>buffer</code>. This parameter will be set to the new size of <code>buffer</code> if memory was reallocated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error occurred. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00125">125</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="util_2utilSocket_8h_source.html#l00136">f1</a>, and <a class="el" href="processError_8m.html#a2135b7b39c9bf55de463094163b795da">fprintf()</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00159">assembleBuffer()</a>.</p>

</div>
</div>
<a class="anchor" id="a0119d64df999ee5aeab9b164e67f7728"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendclienterror </td>
          <td>(</td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>flaWri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes an error flag to the socket stream. </p>
<p>This method should be used by clients if they experience an error and need to terminate the socket connection.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>Use <code>sendclientmessage</code> instead</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter </td></tr>
    <tr><td class="paramname">flaWri</td><td>should be set to a negative value. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8h_source.html#l00322">322</a> of file <a class="el" href="util_2utilSocket_8h_source.html">util/utilSocket.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2d4e728be5ab67164dc8f8d0a9ab8aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendclientmessage </td>
          <td>(</td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>flaWri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a message flag to the socket stream. </p>
<p>This method should be used by clients if they need to send a flag to the <a class="el" href="namespaceBCVTB.html">BCVTB</a>.</p>
<p>The flag flaWri is defined as follows: +1: simulation reached end time. -1: simulation terminates due to an (unspecified) error. -10: simulation terminates due to error during initialization. -20: simulation terminates due to error during time integration.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter </td></tr>
    <tr><td class="paramname">flaWri</td><td>Flag to be sent to the <a class="el" href="namespaceBCVTB.html">BCVTB</a></td></tr>
  </table>
  </dd>
</dl>
<p>This method should be used by clients if they need to send a flag to the <a class="el" href="namespaceBCVTB.html">BCVTB</a>.</p>
<p>The flag flaWri is defined as follows: +1: simulation reached end time. -1: simulation terminates due to an (unspecified) error. -10: simulation terminates due to error during initialization. -20: simulation terminates due to error during time integration.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>Use <code>sendclientmessage</code> instead</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter </td></tr>
    <tr><td class="paramname">flaWri</td><td>Flag to be sent to the <a class="el" href="namespaceBCVTB.html">BCVTB</a></td></tr>
  </table>
  </dd>
</dl>
<p>This method should be used by clients if they need to send a flag to the <a class="el" href="namespaceBCVTB.html">BCVTB</a>.</p>
<p>The flag flaWri is defined as follows: +1: simulation reached end time. -1: simulation terminates due to an (unspecified) error. -10: simulation terminates due to error during initialization. -20: simulation terminates due to error during time integration.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter </td></tr>
    <tr><td class="paramname">flaWri</td><td>Flag to be sent to the <a class="el" href="namespaceBCVTB.html">BCVTB</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Negative one. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00785">785</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8h_source.html#l00322">sendclienterror()</a>.</p>

</div>
</div>
<a class="anchor" id="ade04e143333da050de6b7336964169a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int writetosocket </td>
          <td>(</td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>flaWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>nDblWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>nIntWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>nBooWri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>curSimTim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dblValWri</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intValWri</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>booValWri</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes data to the socket. </p>
<p>Clients can call this method to write data to the socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>Socket file descripter </td></tr>
    <tr><td class="paramname">flaWri</td><td>Communication flag to write to the socket stream. </td></tr>
    <tr><td class="paramname">nDblWri</td><td>Number of double values to write. </td></tr>
    <tr><td class="paramname">nIntWri</td><td>Number of integer values to write. </td></tr>
    <tr><td class="paramname">nBooWri</td><td>Number of boolean values to write. </td></tr>
    <tr><td class="paramname">curSimTim</td><td>Current simulation time in seconds. </td></tr>
    <tr><td class="paramname">dblValWri</td><td>Double values to write. </td></tr>
    <tr><td class="paramname">intValWri</td><td>Integer values to write. </td></tr>
    <tr><td class="paramname">boolValWri</td><td>Boolean values to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>int establishclientsocket(uint16_t *portNo) </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The exit value of <code>send</code>, or a negative value if an error occured. </dd></dl>

<p>Definition at line <a class="el" href="util_2utilSocket_8c_source.html#l00670">670</a> of file <a class="el" href="util_2utilSocket_8c_source.html">util/utilSocket.c</a>.</p>

<p>References <a class="el" href="util_2utilSocket_8c_source.html#l00159">assembleBuffer()</a>, <a class="el" href="util_2utilSocket_8h_source.html#l00136">f1</a>, <a class="el" href="processError_8m.html#a2135b7b39c9bf55de463094163b795da">fprintf()</a>, <a class="el" href="util_2utilSocket_8h_source.html#l00139">REQUIRED_WRITE_LENGTH</a>, and <a class="el" href="closeIPC_8m_source.html#l00001">retVal</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l01049">exchangewithsocket()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00785">sendclientmessage()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ac8ce1ee83f4235b6b5840cc66f320b75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* f1 = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="util_2utilSocket_8h_source.html#l00136">136</a> of file <a class="el" href="util_2utilSocket_8h_source.html">util/utilSocket.h</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00343">disassembleBuffer()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00468">establishclientsocket()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l01049">exchangewithsocket()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00413">getsocketportnumber()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00977">readbufferfromsocket()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00899">readfromsocket()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00125">save_append()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00785">sendclientmessage()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00670">writetosocket()</a>.</p>

</div>
</div>
<a class="anchor" id="ad969355f92f97874266531418bd7b43f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int REQUIRED_READ_LENGTH = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="util_2utilSocket_8h_source.html#l00138">138</a> of file <a class="el" href="util_2utilSocket_8h_source.html">util/utilSocket.h</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00468">establishclientsocket()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00977">readbufferfromsocket()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l00899">readfromsocket()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00785">sendclientmessage()</a>.</p>

</div>
</div>
<a class="anchor" id="abf350614b038bc28b13b7fb879769f9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int REQUIRED_WRITE_LENGTH = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="util_2utilSocket_8h_source.html#l00139">139</a> of file <a class="el" href="util_2utilSocket_8h_source.html">util/utilSocket.h</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00468">establishclientsocket()</a>, <a class="el" href="util_2utilSocket_8c_source.html#l01049">exchangewithsocket()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00670">writetosocket()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5b34e0d6485600b8e1f82b98c3cc976"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SERVER_VERSION = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will be overwritten to contain the version number of the server. </p>

<p>Definition at line <a class="el" href="util_2utilSocket_8h_source.html#l00143">143</a> of file <a class="el" href="util_2utilSocket_8h_source.html">util/utilSocket.h</a>.</p>

<p>Referenced by <a class="el" href="util_2utilSocket_8c_source.html#l00297">disassembleHeaderBuffer()</a>, and <a class="el" href="util_2utilSocket_8c_source.html#l00977">readbufferfromsocket()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_158140ff656f78de6c470107cebb8f00.html">util</a></li><li class="navelem"><a class="el" href="util_2utilSocket_8h.html">utilSocket.h</a></li>
    <li class="footer">Generated on Wed Apr 20 2016 10:24:20 for Building Controls Virtual Test Bed by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
