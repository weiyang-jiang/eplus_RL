<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Building Controls Virtual Test Bed: BACnetWriter.java Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Building Controls Virtual Test Bed
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('BACnetWriter_8java_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">BACnetWriter.java</div>  </div>
</div><!--header-->
<div class="contents">
<a href="BACnetWriter_8java.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Write to a BACnet device</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">********************************************************************</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">Copyright Notice</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">----------------</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">Building Controls Virtual Test Bed (BCVTB) Copyright (c) 2008-2009, The</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">Regents of the University of California, through Lawrence Berkeley</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">National Laboratory (subject to receipt of any required approvals from</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">the U.S. Dept. of Energy). All rights reserved.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">If you have questions about your rights to use or distribute this</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">software, please contact Berkeley Lab&#39;s Technology Transfer Department</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">at TTD@lbl.gov</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">NOTICE.  This software was developed under partial funding from the U.S.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">Department of Energy.  As such, the U.S. Government has been granted for</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">itself and others acting on its behalf a paid-up, nonexclusive,</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">irrevocable, worldwide license in the Software to reproduce, prepare</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">derivative works, and perform publicly and display publicly.  Beginning</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">five (5) years after the date permission to assert copyright is obtained</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">from the U.S. Department of Energy, and subject to any subsequent five</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">(5) year renewals, the U.S. Government is granted for itself and others</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">acting on its behalf a paid-up, nonexclusive, irrevocable, worldwide</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">license in the Software to reproduce, prepare derivative works,</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">distribute copies to the public, perform publicly and display publicly,</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">and to permit others to do so.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">Modified BSD License agreement</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">------------------------------</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">Building Controls Virtual Test Bed (BCVTB) Copyright (c) 2008-2009, The</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">Regents of the University of California, through Lawrence Berkeley</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">National Laboratory (subject to receipt of any required approvals from</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">the U.S. Dept. of Energy).  All rights reserved.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">   1. Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">      notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">   2. Redistributions in binary form must reproduce the above copyright</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">      notice, this list of conditions and the following disclaimer in</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">      the documentation and/or other materials provided with the</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">      distribution.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">   3. Neither the name of the University of California, Lawrence</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">      Berkeley National Laboratory, U.S. Dept. of Energy nor the names</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">      of its contributors may be used to endorse or promote products</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">      derived from this software without specific prior written permission. </span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.%</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">You are under no obligation whatsoever to provide any bug fixes,</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">patches, or upgrades to the features, functionality or performance of</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">the source code (&quot;Enhancements&quot;) to anyone; however, if you choose to</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">make your Enhancements available either publicly, or directly to</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">Lawrence Berkeley National Laboratory, without imposing a separate</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">written license agreement for such Enhancements, then you hereby grant</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">the following license: a non-exclusive, royalty-free perpetual license</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">to install, use, modify, prepare derivative works, incorporate into</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">other computer software, distribute, and sublicense such enhancements or</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">derivative works thereof, in binary and source code form.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">********************************************************************</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">package </span>bacnet.actor;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">import</span> <a class="code" href="classbacnet_1_1util_1_1BACnetObject.html">bacnet.util.BACnetObject</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">import</span> <a class="code" href="classbacnet_1_1util_1_1BACnetPropertyValue.html">bacnet.util.BACnetPropertyValue</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">import</span> <a class="code" href="classbacnet_1_1util_1_1BACnetObjectType.html">bacnet.util.BACnetObjectType</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">import</span> <a class="code" href="classbacnet_1_1util_1_1BACnetCompleteProperty.html">bacnet.util.BACnetCompleteProperty</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">import</span> <a class="code" href="classbacnet_1_1util_1_1BACnet.html">bacnet.util.BACnet</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">import</span> ptolemy.kernel.CompositeEntity;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keyword">import</span> ptolemy.kernel.util.IllegalActionException;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">import</span> ptolemy.kernel.util.NameDuplicationException;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">import</span> ptolemy.kernel.util.InternalErrorException;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">import</span> ptolemy.kernel.util.Settable;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">import</span> ptolemy.actor.TypedIOPort;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">import</span> ptolemy.data.type.ArrayType;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">import</span> ptolemy.data.ArrayToken;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">import</span> ptolemy.data.type.BaseType;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">import</span> ptolemy.data.Token;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">import</span> ptolemy.data.IntToken;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">import</span> ptolemy.data.StringToken;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keyword">import</span> ptolemy.data.ArrayToken;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword">import</span> ptolemy.data.BooleanToken;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keyword">import</span> ptolemy.data.expr.Parameter;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="keyword">import</span> java.io.File;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">import</span> java.util.ArrayList;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">import</span> java.util.HashMap;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">import</span> java.io.IOException;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">import</span> org.xml.sax.SAXException;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">import</span> javax.xml.parsers.ParserConfigurationException;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">import</span> javax.naming.OperationNotSupportedException;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword">import</span> org.xml.sax.SAXParseException;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">//BacnetWriter</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html">  124</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html">BACnetWriter</a> <span class="keyword">extends</span> <a class="code" href="classbacnet_1_1util_1_1BACnet.html">BACnet</a> {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#a1812f9ddf673c03952449111ea851874">  134</a></span>&#160;    <span class="keyword">public</span> <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a1812f9ddf673c03952449111ea851874">BACnetWriter</a>(CompositeEntity container, String name)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">throws</span> IllegalActionException,NameDuplicationException {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    super(container, name);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="comment">/*Use input port to receive Ptolemy input tokens</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a87f76da4b4d35065c5dc14efb594c76b">input</a> = <span class="keyword">new</span> TypedIOPort(<span class="keyword">this</span>, <span class="stringliteral">&quot;input&quot;</span>, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    input.setMultiport(<span class="keyword">true</span>);    </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">/*Use input token consumption rate to check whether there are tokens</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">     * in the input port, used in prefire() </span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a50f17baebc7913d099facc527dee8678">input_tokenConsumptionRate</a> = <span class="keyword">new</span> Parameter(<a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a87f76da4b4d35065c5dc14efb594c76b">input</a>, <span class="stringliteral">&quot;tokenConsumptionRate&quot;</span>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        input_tokenConsumptionRate.setExpression(<span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        input_tokenConsumptionRate.setVisibility(Settable.NOT_EDITABLE);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        input_tokenConsumptionRate.setTypeEquals(BaseType.INT);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        input_tokenConsumptionRate.setPersistent(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;       }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#ade0f0f72697ff738b683bd8670558a43">  164</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#ade0f0f72697ff738b683bd8670558a43">prefire</a>() throws IllegalActionException {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        Token rateToken = input_tokenConsumptionRate.getToken();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="compile_8m.html#abcb5211dc00997f6e04c42f013f79575">required</a> = ((IntToken) rateToken).intValue();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="comment">// Derived classes may convert the input port to a multiport.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; input.getWidth(); <a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a87f76da4b4d35065c5dc14efb594c76b">input</a>.hasToken(<a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>, required)) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <span class="keywordflow">if</span> (_debugging) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    _debug(<span class="stringliteral">&quot;Called prefire(), &quot;</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                            + <span class="stringliteral">&quot; input tokenConsumptionRate = &quot;</span> + required</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                            + <span class="stringliteral">&quot;, input.hasToken(&quot;</span> + <a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> + <span class="stringliteral">&quot;, &quot;</span> + required</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                            + <span class="stringliteral">&quot;) is false, prefire() returning false&quot;</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span> super.prefire();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;     </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#a99ff846a28c640221460c042c547e94c">  193</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a99ff846a28c640221460c042c547e94c">checkNumberOfInput</a>() throws IllegalActionException</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keyword">final</span> <span class="keywordtype">int</span> size = input.getWidth();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keyword">final</span> <span class="keywordtype">int</span> num = prop_arr.size();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="keywordflow">if</span>(size != num){</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;          String em = <span class="stringliteral">&quot;The number of input &#39;&quot;</span> + size + <span class="stringliteral">&quot;&#39; is &quot;</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;          <span class="keywordflow">if</span>(size &gt; num)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;          em += <span class="stringliteral">&quot;bigger &quot;</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;          em += <span class="stringliteral">&quot;less &quot;</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;          em += <span class="stringliteral">&quot;than the number&quot;</span> </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;              + <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a3fc166a1976b47cfa285fec9ab9c2996">LS</a> + <span class="stringliteral">&quot;of properties found in the configuration file &#39;&quot;</span> + num +<span class="stringliteral">&quot;&#39;.&quot;</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;          <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalActionException(em);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      }   </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#aca17cfe2c35a68fb087d716b52e0e237">  215</a></span>&#160;    <span class="keyword">public</span> Token[] <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#aca17cfe2c35a68fb087d716b52e0e237">consumeToken</a>() throws IllegalActionException</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keyword">final</span> <span class="keywordtype">int</span> n = input.getWidth();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    Token inp[] = <span class="keyword">new</span> Token[n];</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>=0;<a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>&lt;n;<a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        inp[<a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>]= <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a87f76da4b4d35065c5dc14efb594c76b">input</a>.get(<a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">return</span> inp;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#af6f4d48bc3bf4bd36e65e8d2e2e5f30a">  229</a></span>&#160;    <span class="keyword">public</span> ArrayList&lt;BACnetCompleteProperty&gt; <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#af6f4d48bc3bf4bd36e65e8d2e2e5f30a">addPropertyValue</a>(Token[] inp) <span class="keywordflow">throws</span> IllegalActionException</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    ArrayList&lt;BACnetCompleteProperty&gt; proparr = <span class="keyword">new</span> ArrayList&lt;BACnetCompleteProperty&gt;();</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; prop_arr.size(); <a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="classbacnet_1_1util_1_1BACnetCompleteProperty.html">BACnetCompleteProperty</a> bcp = prop_arr.get(<a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordtype">int</span> dev_inst_str = bcp.getDeviceInstance();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        String obj_type = bcp.getObjectType();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordtype">int</span> obj_inst = bcp.getObjectInstance();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        String pro_name = bcp.getPropertyName();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        String pro_value = inp[<a class="code" href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>].toString();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        String apptag = bcp.getApplicationTag();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        String priority = bcp.getPropertyPriority();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        String index = bcp.getPropertyIndex();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="classbacnet_1_1util_1_1BACnetCompleteProperty.html">BACnetCompleteProperty</a> bcp_new = <span class="keyword">new</span> <a class="code" href="classbacnet_1_1util_1_1BACnetCompleteProperty.html">BACnetCompleteProperty</a>(dev_inst_str,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                        obj_type,obj_inst,pro_name,pro_value,</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        apptag,priority,index);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        proparr.add(bcp_new);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span> proparr;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#a415ceb10b66c6ab797999e954cf20ca8">  259</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a415ceb10b66c6ab797999e954cf20ca8">initialize</a>() throws IllegalActionException</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    super.initialize();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;       <span class="comment">/* Check if application tag is part of the standard,</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">      if priority and index are integers</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;       <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a124a6c2848df1fb67aa1f6a669322de2">validateAttributes</a>();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;       <span class="comment">/* Check if number of tokens from Ptolemy is equal to</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">      the number of properties read from the configuration file </span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;       <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a99ff846a28c640221460c042c547e94c">checkNumberOfInput</a>();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  </div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#ab29cbe420cf3c3101f8e154a8b2f720e">  281</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#ab29cbe420cf3c3101f8e154a8b2f720e">fire</a>() throws IllegalActionException {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        super.fire();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">/*get input tokens from Ptolemy</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    Token[] inp  = <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#aca17cfe2c35a68fb087d716b52e0e237">consumeToken</a>();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">/*add these input tokens to BACnetCompleteProperty</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">     * as read from configuration file</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a0b3cd0012c16c10f78fa6f9faa21eb16">prop_add_arr</a> = <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#af6f4d48bc3bf4bd36e65e8d2e2e5f30a">addPropertyValue</a>(inp);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">/*Prepare processes to be executed</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a2a22723dbdd6a8f7f9975078e2234614">proc_arr</a> = bacDevMan.getProcesses(<a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a0b3cd0012c16c10f78fa6f9faa21eb16">prop_add_arr</a>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">/*Prepare the tokens to be sent to outlet port</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a48530c9b16472fa910814eedc07a47d0">prepareTokensToSend</a>();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">/*Send tokens to outlet port</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a63528f6824a340f67ba1045e52f44fa4">sendToken</a>();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">/*Remove token in last time step*/</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a7328f1f65a338d3957f92f9001e31312">removeToken</a>();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    </div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#a02de356d21d991a331f4aa6f9bbfcb63">  308</a></span>&#160;    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a02de356d21d991a331f4aa6f9bbfcb63">setSchemaFileName</a>(){</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a9954e675483d86a2e7e8592a3f32f410">schemaFileName</a> =</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <a class="code" href="classbacnet_1_1util_1_1BACnet.html#ae3bb6ee89bbb2a53e898105e36f21c1e">bcvtbhome</a> + <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a74a3f9551de9dcd61ad130d87b7507bd">FS</a> + <span class="stringliteral">&quot;lib&quot;</span> + <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a74a3f9551de9dcd61ad130d87b7507bd">FS</a> + <span class="stringliteral">&quot;ptII&quot;</span> + <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a74a3f9551de9dcd61ad130d87b7507bd">FS</a> + <span class="stringliteral">&quot;bacnet&quot;</span> + <a class="code" href="classbacnet_1_1util_1_1BACnet.html#a74a3f9551de9dcd61ad130d87b7507bd">FS</a> + <span class="stringliteral">&quot;BACnetWriter.xsd&quot;</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">/* The input port.  This base class imposes no type constraints except</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">     *  that the type of the input cannot be greater than the type of the</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">     *  output.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#a87f76da4b4d35065c5dc14efb594c76b">  320</a></span>&#160;     <span class="keyword">public</span> TypedIOPort <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a87f76da4b4d35065c5dc14efb594c76b">input</a>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">/* The rate parameter for the input port.</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#a50f17baebc7913d099facc527dee8678">  324</a></span>&#160;    <span class="keyword">public</span> Parameter <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a50f17baebc7913d099facc527dee8678">input_tokenConsumptionRate</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="classbacnet_1_1actor_1_1BACnetWriter.html#a0b3cd0012c16c10f78fa6f9faa21eb16">  329</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;BACnetCompleteProperty&gt; <a class="code" href="classbacnet_1_1actor_1_1BACnetWriter.html#a0b3cd0012c16c10f78fa6f9faa21eb16">prop_add_arr</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnet_html_a9954e675483d86a2e7e8592a3f32f410"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnet.html#a9954e675483d86a2e7e8592a3f32f410">bacnet.util.BACnet.schemaFileName</a></div><div class="ttdeci">String schemaFileName</div><div class="ttdoc">Schema file path. </div><div class="ttdef"><b>Definition:</b> <a href="BACnet_8java_source.html#l00897">BACnet.java:897</a></div></div>
<div class="ttc" id="compile_8m_html_a6f6ccfcf58b31cb6412107d9d5281426"><div class="ttname"><a href="compile_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a></div><div class="ttdeci">for i</div><div class="ttdef"><b>Definition:</b> <a href="compile_8m_source.html#l00069">compile.m:69</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_a0b3cd0012c16c10f78fa6f9faa21eb16"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#a0b3cd0012c16c10f78fa6f9faa21eb16">bacnet.actor.BACnetWriter.prop_add_arr</a></div><div class="ttdeci">static ArrayList&lt; BACnetCompleteProperty &gt; prop_add_arr</div><div class="ttdoc">BACnetCompleteProperty after adding the value from Ptolemy. </div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00329">BACnetWriter.java:329</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html">bacnet.actor.BACnetWriter</a></div><div class="ttdoc">This actor writes to BACnet devices. </div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00124">BACnetWriter.java:124</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnetObjectType_html"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnetObjectType.html">bacnet.util.BACnetObjectType</a></div><div class="ttdoc">This class reads the XML configuration file and stores the data in the BACnetObjectType data type...</div><div class="ttdef"><b>Definition:</b> <a href="BACnetObjectType_8java_source.html#l00098">BACnetObjectType.java:98</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnet_html_a7328f1f65a338d3957f92f9001e31312"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnet.html#a7328f1f65a338d3957f92f9001e31312">bacnet.util.BACnet.removeToken</a></div><div class="ttdeci">void removeToken()</div><div class="ttdoc">Remove tokens in previous time step. </div><div class="ttdef"><b>Definition:</b> <a href="BACnet_8java_source.html#l00841">BACnet.java:841</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnet_html"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnet.html">bacnet.util.BACnet</a></div><div class="ttdoc">This is an abstract base class for actors that generates an output stream. </div><div class="ttdef"><b>Definition:</b> <a href="BACnet_8java_source.html#l00117">BACnet.java:117</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnet_html_a74a3f9551de9dcd61ad130d87b7507bd"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnet.html#a74a3f9551de9dcd61ad130d87b7507bd">bacnet.util.BACnet.FS</a></div><div class="ttdeci">static final String FS</div><div class="ttdoc">File seperator. </div><div class="ttdef"><b>Definition:</b> <a href="BACnet_8java_source.html#l00957">BACnet.java:957</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_ab29cbe420cf3c3101f8e154a8b2f720e"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#ab29cbe420cf3c3101f8e154a8b2f720e">bacnet.actor.BACnetWriter.fire</a></div><div class="ttdeci">void fire()</div><div class="ttdoc">At each timestep write properties to BACnet devices. </div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00281">BACnetWriter.java:281</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_a87f76da4b4d35065c5dc14efb594c76b"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#a87f76da4b4d35065c5dc14efb594c76b">bacnet.actor.BACnetWriter.input</a></div><div class="ttdeci">TypedIOPort input</div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00320">BACnetWriter.java:320</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnetObject_html"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnetObject.html">bacnet.util.BACnetObject</a></div><div class="ttdoc">This object stores information of BACnet objects. </div><div class="ttdef"><b>Definition:</b> <a href="BACnetObject_8java_source.html#l00083">BACnetObject.java:83</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnetCompleteProperty_html"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnetCompleteProperty.html">bacnet.util.BACnetCompleteProperty</a></div><div class="ttdoc">This class is used to create objects that have the information from the xml configuration file...</div><div class="ttdef"><b>Definition:</b> <a href="BACnetCompleteProperty_8java_source.html#l00086">BACnetCompleteProperty.java:86</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnetPropertyValue_html"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnetPropertyValue.html">bacnet.util.BACnetPropertyValue</a></div><div class="ttdoc">This class stores the BACnet property name and property value array pair. </div><div class="ttdef"><b>Definition:</b> <a href="BACnetPropertyValue_8java_source.html#l00084">BACnetPropertyValue.java:84</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_aca17cfe2c35a68fb087d716b52e0e237"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#aca17cfe2c35a68fb087d716b52e0e237">bacnet.actor.BACnetWriter.consumeToken</a></div><div class="ttdeci">Token[] consumeToken()</div><div class="ttdoc">consume token, store the token in an array it is called in fire() </div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00215">BACnetWriter.java:215</a></div></div>
<div class="ttc" id="compile_8m_html_abcb5211dc00997f6e04c42f013f79575"><div class="ttname"><a href="compile_8m.html#abcb5211dc00997f6e04c42f013f79575">required</a></div><div class="ttdeci">This file compiles the BSD socket interface for Simulink It is called by ant On it requires the Microsoft compiler since matlab requires the size of output arrays to be fixed If more elements are required</div><div class="ttdef"><b>Definition:</b> <a href="compile_8m_source.html#l00005">compile.m:5</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnet_html_a3fc166a1976b47cfa285fec9ab9c2996"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnet.html#a3fc166a1976b47cfa285fec9ab9c2996">bacnet.util.BACnet.LS</a></div><div class="ttdeci">static final String LS</div><div class="ttdoc">Line Seperator. </div><div class="ttdef"><b>Definition:</b> <a href="BACnet_8java_source.html#l00960">BACnet.java:960</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnet_html_a63528f6824a340f67ba1045e52f44fa4"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnet.html#a63528f6824a340f67ba1045e52f44fa4">bacnet.util.BACnet.sendToken</a></div><div class="ttdeci">void sendToken()</div><div class="ttdoc">Sends the error signal to the errorSignal port, the error message to the errorMessage port...</div><div class="ttdef"><b>Definition:</b> <a href="BACnet_8java_source.html#l00804">BACnet.java:804</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnet_html_a48530c9b16472fa910814eedc07a47d0"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnet.html#a48530c9b16472fa910814eedc07a47d0">bacnet.util.BACnet.prepareTokensToSend</a></div><div class="ttdeci">void prepareTokensToSend()</div><div class="ttdoc">Get tokens to send for the next timestep. </div><div class="ttdef"><b>Definition:</b> <a href="BACnet_8java_source.html#l00784">BACnet.java:784</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnet_html_a124a6c2848df1fb67aa1f6a669322de2"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnet.html#a124a6c2848df1fb67aa1f6a669322de2">bacnet.util.BACnet.validateAttributes</a></div><div class="ttdeci">void validateAttributes()</div><div class="ttdoc">Validate application tag, priority and index. </div><div class="ttdef"><b>Definition:</b> <a href="BACnet_8java_source.html#l00542">BACnet.java:542</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_a02de356d21d991a331f4aa6f9bbfcb63"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#a02de356d21d991a331f4aa6f9bbfcb63">bacnet.actor.BACnetWriter.setSchemaFileName</a></div><div class="ttdeci">void setSchemaFileName()</div><div class="ttdoc">Sets the schema file name. </div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00308">BACnetWriter.java:308</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_ade0f0f72697ff738b683bd8670558a43"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#ade0f0f72697ff738b683bd8670558a43">bacnet.actor.BACnetWriter.prefire</a></div><div class="ttdeci">boolean prefire()</div><div class="ttdoc">Return true if the number of available tokens on the input port is at least the declared consumption ...</div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00164">BACnetWriter.java:164</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_a50f17baebc7913d099facc527dee8678"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#a50f17baebc7913d099facc527dee8678">bacnet.actor.BACnetWriter.input_tokenConsumptionRate</a></div><div class="ttdeci">Parameter input_tokenConsumptionRate</div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00324">BACnetWriter.java:324</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnet_html_a2a22723dbdd6a8f7f9975078e2234614"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnet.html#a2a22723dbdd6a8f7f9975078e2234614">bacnet.util.BACnet.proc_arr</a></div><div class="ttdeci">ArrayList&lt; ProcessBuilder &gt; proc_arr</div><div class="ttdoc">Arraylist containing processes to be executed in console. </div><div class="ttdef"><b>Definition:</b> <a href="BACnet_8java_source.html#l00920">BACnet.java:920</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_af6f4d48bc3bf4bd36e65e8d2e2e5f30a"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#af6f4d48bc3bf4bd36e65e8d2e2e5f30a">bacnet.actor.BACnetWriter.addPropertyValue</a></div><div class="ttdeci">ArrayList&lt; BACnetCompleteProperty &gt; addPropertyValue(Token[] inp)</div><div class="ttdoc">Replace the property value in BACnetCompleteProperty with tokens from Ptolemy. </div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00229">BACnetWriter.java:229</a></div></div>
<div class="ttc" id="classbacnet_1_1util_1_1BACnet_html_ae3bb6ee89bbb2a53e898105e36f21c1e"><div class="ttname"><a href="classbacnet_1_1util_1_1BACnet.html#ae3bb6ee89bbb2a53e898105e36f21c1e">bacnet.util.BACnet.bcvtbhome</a></div><div class="ttdeci">static final String bcvtbhome</div><div class="ttdoc">String that points to root directory of the BCVTB. </div><div class="ttdef"><b>Definition:</b> <a href="BACnet_8java_source.html#l00963">BACnet.java:963</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_a415ceb10b66c6ab797999e954cf20ca8"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#a415ceb10b66c6ab797999e954cf20ca8">bacnet.actor.BACnetWriter.initialize</a></div><div class="ttdeci">void initialize()</div><div class="ttdoc">Initialize variables and check for errors. </div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00259">BACnetWriter.java:259</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_a1812f9ddf673c03952449111ea851874"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#a1812f9ddf673c03952449111ea851874">bacnet.actor.BACnetWriter.BACnetWriter</a></div><div class="ttdeci">BACnetWriter(CompositeEntity container, String name)</div><div class="ttdoc">Construct an actor with the given container and name. </div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00134">BACnetWriter.java:134</a></div></div>
<div class="ttc" id="classbacnet_1_1actor_1_1BACnetWriter_html_a99ff846a28c640221460c042c547e94c"><div class="ttname"><a href="classbacnet_1_1actor_1_1BACnetWriter.html#a99ff846a28c640221460c042c547e94c">bacnet.actor.BACnetWriter.checkNumberOfInput</a></div><div class="ttdeci">void checkNumberOfInput()</div><div class="ttdoc">Check if the number of input tokens of the actor is equal to the number of properties read from the c...</div><div class="ttdef"><b>Definition:</b> <a href="BACnetWriter_8java_source.html#l00193">BACnetWriter.java:193</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_3b3f171cca4ddf0ab0283846842652bd.html">ptII</a></li><li class="navelem"><a class="el" href="dir_8c6c9f9fc5d3fbcec25da599846e14d0.html">bacnet</a></li><li class="navelem"><a class="el" href="dir_2d7cee6b387aca0518ff256859e3e277.html">src</a></li><li class="navelem"><a class="el" href="dir_13468e5b0f3e8fceadd6951be68c0b55.html">bacnet</a></li><li class="navelem"><a class="el" href="dir_e06aea7fad119b0fb244226530605afb.html">actor</a></li><li class="navelem"><a class="el" href="BACnetWriter_8java.html">BACnetWriter.java</a></li>
    <li class="footer">Generated on Wed Apr 20 2016 10:24:19 for Building Controls Virtual Test Bed by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
