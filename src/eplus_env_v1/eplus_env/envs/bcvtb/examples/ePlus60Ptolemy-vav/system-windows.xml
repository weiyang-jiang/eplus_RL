<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="system" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="8.1.devel">
    </property>
    <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
        <property name="iterations" class="ptolemy.data.expr.Parameter" value="(endTime-beginTime)/timeStep+1">
        </property>
        <property name="vectorizationFactor" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <property name="allowDisconnectedGraphs" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="period" class="ptolemy.data.expr.Parameter" value="timeStep">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{80.0, 50.0}">
        </property>
    </property>
    <property name="beginTime" class="ptolemy.data.expr.Parameter" value="0">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{190.0, 65.0}">
        </property>
    </property>
    <property name="endTime" class="ptolemy.data.expr.Parameter" value="7*24*3600">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{190.0, 85.0}">
        </property>
    </property>
    <property name="annotation" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This model illustrates the implementation of a VAV system
model in Ptolemy II that communicates with an EnergyPlus model through 
BSD sockets.</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{325.0, 20.0}">
        </property>
    </property>
    <property name="annotation2" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:darkgray">Author: Michael Wetter</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 480.0]">
        </property>
    </property>
    <property name="annotation3" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Output simulation time and wall clock time.
This is for illustration purposes only and not needed by the above model.</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 270.0]">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={82, 47, 1158, 639}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[945, 529]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0826342865088">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{461.1848070549242, 258.6174834280303}">
    </property>
    <property name="timeStep" class="ptolemy.actor.parameters.SharedParameter" value="2*60">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 0.0, 0.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="22" style="font-size:14; font-family:SansSerif; fill:grey" y="22">-S-</text>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:red" y="20">-S-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 45.0]">
        </property>
    </property>
    <entity name="RunTime" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, 440.0]">
        </property>
    </entity>
    <entity name="WallClockTime" class="ptolemy.actor.lib.WallClockTime">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 435.0]">
        </property>
    </entity>
    <entity name="SimulationTime" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, 370.0]">
        </property>
    </entity>
    <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
        <doc>Output the current time.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 355.0]">
        </property>
    </entity>
    <entity name="Expression" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="input/86400">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 355.0]">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
    </entity>
    <entity name="hvac" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[342.0, 140.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={44, 24, 1383, 666}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1170, 556]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.198275862069">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{317.2014388489209, 221.0}">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This model implements the HVAC system.
On the upper right of the figure is the central air distribution, which is
connected to a model for the VAV terminal boxes at the lower right of the figure.
Input to the central HVAC system and the terminal boxes is the room temperature set point.
Each VAV box regulates its flow rate to track the room temperature set point. The resulting
heat capacity flow rate (C_flow=c_p*m_flow) is input to the central air system.</text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-180.0, -10.0]">
            </property>
        </property>
        <property name="annotation3" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Extract room 
temperature vector
i.e., elements 1 to 5 
of vector</text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 160.0]">
            </property>
        </property>
        <property name="CSupMax" class="ptolemy.kernel.util.Attribute">
            <property name="_location" class="ptolemy.kernel.util.Attribute">
            </property>
        </property>
        <port name="Q_flow" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[735.0, 335.0]">
            </property>
        </port>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-145.0, 250.0]">
            </property>
        </port>
        <entity name="TReturn" class="ptolemy.domains.sdf.lib.DotProduct">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[315.0, 160.0]">
            </property>
        </entity>
        <entity name="TRooSetPoi" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 325.0]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={167, 22, 1128, 676}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[915, 566]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{457.5, 283.0}">
            </property>
            <property name="TNightCoo" class="ptolemy.data.expr.Parameter" value="30">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 75.0]">
                </property>
            </property>
            <property name="annotation" class="ptolemy.kernel.util.Attribute">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This model computes the setpoint temperature for night time and day time.
The supply air temperature setpoint is ramped up or down over a two-hour window.</text></svg></configure>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 5.0]">
                </property>
            </property>
            <property name="dayStart" class="ptolemy.data.expr.Parameter" value="6*3600">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{35.0, 70.0}">
                </property>
            </property>
            <property name="TRooLowCoo" class="ptolemy.data.expr.Parameter" value="24">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 100.0]">
                </property>
            </property>
            <property name="TRooHigCoo" class="ptolemy.data.expr.Parameter" value="25">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 125.0]">
                </property>
            </property>
            <property name="TOutLowCoo" class="ptolemy.data.expr.Parameter" value="20">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{345.0, 100.0}">
                </property>
            </property>
            <property name="TOutHigCoo" class="ptolemy.data.expr.Parameter" value="24">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 125.0]">
                </property>
            </property>
            <property name="nightStart" class="ptolemy.data.expr.Parameter" value="17*3600">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 95.0]">
                </property>
            </property>
            <property name="TNightHea" class="ptolemy.data.expr.Parameter" value="16">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[505.0, 70.0]">
                </property>
            </property>
            <property name="TDayHea" class="ptolemy.data.expr.Parameter" value="21">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[505.0, 100.0]">
                </property>
            </property>
            <port name="TSet" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[835.0, 355.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="TOut" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 490.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="isOccupied" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[835.0, 265.0]">
                </property>
            </port>
            <entity name="TSetPoiCoo" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="day ? TDay : TNightCoo">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[480.0, 375.0]">
                </property>
                <port name="day" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_hide" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="TDay" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_hide" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="TSetCooOn" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="TRooLowCoo + TDif * (TRooHigCoo-TRooLowCoo)/(TOutHigCoo-TOutLowCoo)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 500.0]">
                </property>
                <port name="TDif" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="TOutLow" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="TOutLowCoo">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[105.0, 540.0]">
                </property>
            </entity>
            <entity name="TRooHig" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="TRooHigCoo">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 355.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <entity name="TOutDif" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 500.0]">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Minimum" class="ptolemy.actor.lib.Minimum">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 355.0]">
                </property>
            </entity>
            <entity name="Maximum" class="ptolemy.actor.lib.Maximum">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[300.0, 395.0]">
                </property>
            </entity>
            <entity name="TRooHig2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="TRooLowCoo">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 410.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <entity name="isDay" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 255.0]">
                </property>
                <property name="dayStart" class="ptolemy.data.expr.Parameter" value="dayStart">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 30.0]">
                    </property>
                </property>
                <property name="nightStart" class="ptolemy.data.expr.Parameter" value="nightStart">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 55.0]">
                    </property>
                </property>
                <port name="time" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 140.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="isDay" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[570.0, 180.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="isOccupied" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[575.0, 310.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="pastMorning" class="ptolemy.actor.lib.logic.Comparator">
                    <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                        <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                            <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                            </property>
                            <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                            </property>
                            <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                            </property>
                            <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                            </property>
                            <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                            </property>
                        </property>
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 175.0]">
                    </property>
                </entity>
                <entity name="dayStart" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="dayStart">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 185.0]">
                    </property>
                </entity>
                <entity name="pastDay" class="ptolemy.actor.lib.logic.Comparator">
                    <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                        <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                            <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                            </property>
                            <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                            </property>
                            <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                            </property>
                            <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                            </property>
                            <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                            </property>
                        </property>
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[285.0, 240.0]">
                    </property>
                </entity>
                <entity name="nightStart" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="nightStart">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 230.0]">
                    </property>
                </entity>
                <entity name="LogicFunction" class="ptolemy.actor.lib.logic.LogicFunction">
                    <property name="function" class="ptolemy.kernel.util.StringAttribute" value="and">
                        <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                            <property name="and" class="ptolemy.kernel.util.StringAttribute" value="and">
                            </property>
                            <property name="or" class="ptolemy.kernel.util.StringAttribute" value="or">
                            </property>
                            <property name="xor" class="ptolemy.kernel.util.StringAttribute" value="xor">
                            </property>
                            <property name="nand" class="ptolemy.kernel.util.StringAttribute" value="nand">
                            </property>
                            <property name="nor" class="ptolemy.kernel.util.StringAttribute" value="nor">
                            </property>
                            <property name="xnor" class="ptolemy.kernel.util.StringAttribute" value="xnor">
                            </property>
                        </property>
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[455.0, 180.0]">
                    </property>
                </entity>
                <entity name="timeOfDay" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="time % 86400">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 140.0]">
                    </property>
                    <port name="in" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                    </port>
                </entity>
                <entity name="occupancyStart" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="dayStart+2*3600">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, 320.0]">
                    </property>
                </entity>
                <entity name="pastOccupancyStart" class="ptolemy.actor.lib.logic.Comparator">
                    <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                        <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                            <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                            </property>
                            <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                            </property>
                            <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                            </property>
                            <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                            </property>
                            <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                            </property>
                        </property>
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[285.0, 310.0]">
                    </property>
                </entity>
                <entity name="LogicFunction2" class="ptolemy.actor.lib.logic.LogicFunction">
                    <property name="function" class="ptolemy.kernel.util.StringAttribute" value="and">
                        <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                            <property name="and" class="ptolemy.kernel.util.StringAttribute" value="and">
                            </property>
                            <property name="or" class="ptolemy.kernel.util.StringAttribute" value="or">
                            </property>
                            <property name="xor" class="ptolemy.kernel.util.StringAttribute" value="xor">
                            </property>
                            <property name="nand" class="ptolemy.kernel.util.StringAttribute" value="nand">
                            </property>
                            <property name="nor" class="ptolemy.kernel.util.StringAttribute" value="nor">
                            </property>
                            <property name="xnor" class="ptolemy.kernel.util.StringAttribute" value="xnor">
                            </property>
                        </property>
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[455.0, 310.0]">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[190.0, 165.0]">
                    </vertex>
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[410.0, 240.0]">
                    </vertex>
                </relation>
                <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <link port="time" relation="relation6"/>
                <link port="isDay" relation="relation7"/>
                <link port="isOccupied" relation="relation10"/>
                <link port="pastMorning.left" relation="relation2"/>
                <link port="pastMorning.right" relation="relation"/>
                <link port="pastMorning.output" relation="relation4"/>
                <link port="dayStart.output" relation="relation"/>
                <link port="pastDay.left" relation="relation3"/>
                <link port="pastDay.right" relation="relation2"/>
                <link port="pastDay.output" relation="relation5"/>
                <link port="nightStart.output" relation="relation3"/>
                <link port="LogicFunction.input" relation="relation4"/>
                <link port="LogicFunction.input" relation="relation5"/>
                <link port="LogicFunction.output" relation="relation7"/>
                <link port="timeOfDay.output" relation="relation2"/>
                <link port="timeOfDay.in" relation="relation6"/>
                <link port="occupancyStart.output" relation="relation8"/>
                <link port="pastOccupancyStart.left" relation="relation2"/>
                <link port="pastOccupancyStart.right" relation="relation8"/>
                <link port="pastOccupancyStart.output" relation="relation9"/>
                <link port="LogicFunction2.input" relation="relation5"/>
                <link port="LogicFunction2.input" relation="relation9"/>
                <link port="LogicFunction2.output" relation="relation10"/>
            </entity>
            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                <doc>Output the current time.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 255.0]">
                </property>
            </entity>
            <entity name="TSetPoiHea" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="day ? TDayHea : TNightHea">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{490.0, 325.0}">
                </property>
                <port name="day" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_hide" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="VectorAssembler" class="ptolemy.actor.lib.VectorAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[615.0, 335.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <entity name="MovingAverage" class="ptolemy.actor.lib.MovingAverage">
                <property name="maxPastInputsToAverage" class="ptolemy.data.expr.Parameter" value="2*3600/timeStep">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{735.0, 355.0}">
                </property>
            </entity>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[370.0, 325.0]">
                </vertex>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <link port="TSet" relation="relation9"/>
            <link port="TOut" relation="relation3"/>
            <link port="isOccupied" relation="relation8"/>
            <link port="TSetPoiCoo.output" relation="relation6"/>
            <link port="TSetPoiCoo.day" relation="relation2"/>
            <link port="TSetPoiCoo.TDay" relation="relation5"/>
            <link port="TSetCooOn.output" relation="relation15"/>
            <link port="TSetCooOn.TDif" relation="relation11"/>
            <link port="TOutLow.output" relation="relation10"/>
            <link port="TRooHig.output" relation="relation16"/>
            <link port="TOutDif.plus" relation="relation3"/>
            <link port="TOutDif.minus" relation="relation10"/>
            <link port="TOutDif.output" relation="relation11"/>
            <link port="Minimum.input" relation="relation15"/>
            <link port="Minimum.input" relation="relation16"/>
            <link port="Minimum.minimumValue" relation="relation12"/>
            <link port="Maximum.input" relation="relation12"/>
            <link port="Maximum.input" relation="relation13"/>
            <link port="Maximum.maximumValue" relation="relation5"/>
            <link port="TRooHig2.output" relation="relation13"/>
            <link port="isDay.time" relation="relation"/>
            <link port="isDay.isDay" relation="relation2"/>
            <link port="isDay.isOccupied" relation="relation8"/>
            <link port="CurrentTime.output" relation="relation"/>
            <link port="TSetPoiHea.output" relation="relation4"/>
            <link port="TSetPoiHea.day" relation="relation2"/>
            <link port="VectorAssembler.input" relation="relation4"/>
            <link port="VectorAssembler.input" relation="relation6"/>
            <link port="VectorAssembler.output" relation="relation7"/>
            <link port="MovingAverage.input" relation="relation7"/>
            <link port="MovingAverage.output" relation="relation9"/>
        </entity>
        <entity name="VAVBox" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[590.0, 320.0]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={171, 221, 1104, 602}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[891, 492]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8760825765761">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{628.2997249990352, 656.7738792373957}">
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This model implements the five VAV terminal boxes. The implementation in done&#10;in the CompositeClassDefinition, which is five times instantiated and &#10;parameterized for the different VAV terminal boxes.&#10;">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 380.0]">
                </property>
            </property>
            <port name="TRoo" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 865.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="TRooSet" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 655.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="TSup" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 780.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="mNormalized" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[1090.0, 620.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="CSup_flow" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[1095.0, 760.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="Q_flow" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[1100.0, 905.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="TOut" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[152.0, 465.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <class name="CompositeClassDefinition" extends="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 585.0]">
                </property>
                <property name="KpHea" class="ptolemy.data.expr.Parameter" value="0.5">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 30.0]">
                    </property>
                </property>
                <property name="ACHMax" class="ptolemy.data.expr.Parameter" value="2">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 55.0]">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={169, 22, 1234, 843}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1021, 733]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{496.0053267045455, 254.5029592803031}">
                </property>
                <property name="VRoo" class="ptolemy.data.expr.Parameter" value="0.0">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 80.0]">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This model implements the variable air volume flow terminal boxes.&#10;Based on the control error, the terminal boxes adjust the flow rate&#10;between 30% and 100% of the nominal flow rate.&#10;&#10;The upper part of the model computes the mass flow rate,&#10;and the lower part computes the resulting heat input into the room.&#10;The sample delay is used to break an algebraic loop.">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -105.0]">
                    </property>
                </property>
                <property name="KpCoo" class="ptolemy.data.expr.Parameter" value="1">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 30.0]">
                    </property>
                </property>
                <port name="TRoo" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 390.0]">
                    </property>
                </port>
                <port name="TRooSet" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 235.0]">
                    </property>
                </port>
                <port name="m_flow" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[955.0, 190.0]">
                    </property>
                </port>
                <port name="TSup" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 455.0]">
                    </property>
                </port>
                <port name="Q_flow" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[940.0, 525.0]">
                    </property>
                </port>
                <entity name="ErrorTRoo" class="ptolemy.actor.lib.AddSubtract">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, 145.0]">
                    </property>
                    <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </entity>
                <entity name="Limiter" class="ptolemy.actor.lib.Limiter">
                    <property name="bottom" class="ptolemy.data.expr.Parameter" value="0.3">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[745.0, 175.0]">
                    </property>
                </entity>
                <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[875.0, 190.0]">
                    </property>
                </entity>
                <entity name="m_flow_max" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="ACHMax*VRoo*1.2/3600.0">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[695.0, 250.0]">
                    </property>
                </entity>
                <entity name="dTSup" class="ptolemy.actor.lib.AddSubtract">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 515.0]">
                    </property>
                    <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </entity>
                <entity name="C_flow" class="ptolemy.actor.lib.Scale">
                    <property name="factor" class="ptolemy.data.expr.Parameter" value="1006">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[735.0, 475.0]">
                    </property>
                </entity>
                <entity name="MultiplyDivide2" class="ptolemy.actor.lib.MultiplyDivide">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[845.0, 525.0]">
                    </property>
                </entity>
                <entity name="VectorDisassembler" class="ptolemy.actor.lib.VectorDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, 115.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </entity>
                <entity name="Multiplexor" class="ptolemy.actor.lib.Multiplexor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[635.0, 175.0]">
                    </property>
                </entity>
                <entity name="Scale" class="ptolemy.actor.lib.Scale">
                    <property name="factor" class="ptolemy.data.expr.Parameter" value="KpHea">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[340.0, 145.0]">
                    </property>
                </entity>
                <entity name="VectorDisassembler2" class="ptolemy.actor.lib.VectorDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 335.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[545.0, 130.0]">
                    </property>
                </entity>
                <entity name="VAVPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                    <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="mode, TRoo, TSetHea, TSetCoo, TSup, 10*y">
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={571, 129, 500, 344}, maximized=false}">
                    </property>
                    <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[980.0, 375.0]">
                    </property>
                </entity>
                <entity name="Scale2" class="ptolemy.actor.lib.Scale">
                    <property name="factor" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[855.0, 410.0]">
                    </property>
                </entity>
                <entity name="Scale3" class="ptolemy.actor.lib.Scale">
                    <property name="factor" class="ptolemy.data.expr.Parameter" value="KpCoo">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[335.0, 260.0]">
                    </property>
                </entity>
                <entity name="VectorDisassembler3" class="ptolemy.actor.lib.VectorDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, 290.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </entity>
                <entity name="ErrorTRoo2" class="ptolemy.actor.lib.AddSubtract">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 260.0]">
                    </property>
                    <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </entity>
                <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
                    <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[365.0, 355.0]">
                    </property>
                    <port name="mode" class="ptolemy.domains.modal.modal.ModalPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="TRoo" class="ptolemy.domains.modal.modal.ModalPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="THeaSet" class="ptolemy.domains.modal.modal.ModalPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="TCooSet" class="ptolemy.domains.modal.modal.ModalPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <property name="_library" class="ptolemy.moml.LibraryAttribute">
                            <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 194, 813, 511}, maximized=false}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
                        </property>
                        <port name="mode" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[505.0, 200.0]">
                            </property>
                        </port>
                        <port name="TRoo" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 125.0]">
                            </property>
                        </port>
                        <port name="THeaSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 180.0]">
                            </property>
                        </port>
                        <port name="TCooSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 235.0]">
                            </property>
                        </port>
                        <entity name="freeFloating" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="state">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[285.0, 230.0]">
                            </property>
                        </entity>
                        <entity name="heating" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="heating">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[165.0, 315.0]">
                            </property>
                        </entity>
                        <entity name="cooling" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="cooling">
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[415.0, 140.0]">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRoo &lt; THeaSet">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.3803882171976">
                            </property>
                            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRoo &gt; TCooSet">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.1615625673942498">
                            </property>
                            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRoo &lt; TCooSet - 1">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.2640017775126786">
                            </property>
                            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRoo &gt; THeaSet + 1">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.6553345530102099">
                            </property>
                            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                        </relation>
                        <link port="freeFloating.incomingPort" relation="relation4"/>
                        <link port="freeFloating.incomingPort" relation="relation2"/>
                        <link port="freeFloating.outgoingPort" relation="relation"/>
                        <link port="freeFloating.outgoingPort" relation="relation3"/>
                        <link port="heating.incomingPort" relation="relation"/>
                        <link port="heating.outgoingPort" relation="relation2"/>
                        <link port="cooling.incomingPort" relation="relation3"/>
                        <link port="cooling.outgoingPort" relation="relation4"/>
                    </entity>
                    <entity name="state" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 45.0]">
                            </property>
                        </property>
                        <port name="mode" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[340.0, 165.0]">
                            </property>
                        </port>
                        <port name="TRoo" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 115.0]">
                            </property>
                        </port>
                        <port name="THeaSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 175.0]">
                            </property>
                        </port>
                        <port name="TCooSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 230.0]">
                            </property>
                        </port>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 165.0]">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <link port="mode" relation="relation"/>
                        <link port="Const.output" relation="relation"/>
                    </entity>
                    <entity name="heating" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 50.0]">
                            </property>
                        </property>
                        <port name="mode" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 220.0]">
                            </property>
                        </port>
                        <port name="TRoo" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 140.0]">
                            </property>
                        </port>
                        <port name="THeaSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 200.0]">
                            </property>
                        </port>
                        <port name="TCooSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 255.0]">
                            </property>
                        </port>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 220.0]">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <link port="mode" relation="relation"/>
                        <link port="Const.output" relation="relation"/>
                    </entity>
                    <entity name="cooling" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{60, 30}">
                            </property>
                        </property>
                        <port name="mode" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[445.0, 160.0]">
                            </property>
                        </port>
                        <port name="TRoo" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 90.0]">
                            </property>
                        </port>
                        <port name="THeaSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 150.0]">
                            </property>
                        </port>
                        <port name="TCooSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 210.0]">
                            </property>
                        </port>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="2">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{325, 160}">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <link port="mode" relation="relation"/>
                        <link port="Const.output" relation="relation"/>
                    </entity>
                    <relation name="modeRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="TRooRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="THeaSetRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="TCooSetRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <link port="mode" relation="modeRelation"/>
                    <link port="TRoo" relation="TRooRelation"/>
                    <link port="THeaSet" relation="THeaSetRelation"/>
                    <link port="TCooSet" relation="TCooSetRelation"/>
                    <link port="_Controller.mode" relation="modeRelation"/>
                    <link port="_Controller.TRoo" relation="TRooRelation"/>
                    <link port="_Controller.THeaSet" relation="THeaSetRelation"/>
                    <link port="_Controller.TCooSet" relation="TCooSetRelation"/>
                    <link port="state.mode" relation="modeRelation"/>
                    <link port="state.TRoo" relation="TRooRelation"/>
                    <link port="state.THeaSet" relation="THeaSetRelation"/>
                    <link port="state.TCooSet" relation="TCooSetRelation"/>
                    <link port="heating.mode" relation="modeRelation"/>
                    <link port="heating.TRoo" relation="TRooRelation"/>
                    <link port="heating.THeaSet" relation="THeaSetRelation"/>
                    <link port="heating.TCooSet" relation="TCooSetRelation"/>
                    <link port="cooling.mode" relation="modeRelation"/>
                    <link port="cooling.TRoo" relation="TRooRelation"/>
                    <link port="cooling.THeaSet" relation="THeaSetRelation"/>
                    <link port="cooling.TCooSet" relation="TCooSetRelation"/>
                </entity>
                <entity name="MultiplyDivide3" class="ptolemy.actor.lib.MultiplyDivide">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[475.0, 160.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </entity>
                <entity name="Expression" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="TSup &gt; TRoo ? 1 : -1">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 210.0]">
                    </property>
                    <port name="TRoo" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="TSup" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="MultiplyDivide4" class="ptolemy.actor.lib.MultiplyDivide">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[470.0, 275.0]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </entity>
                <entity name="SampleDelay" class="ptolemy.domains.sdf.lib.SampleDelay">
                    <property name="initialOutputs" class="ptolemy.data.expr.Parameter" value="{1}">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="initialOutputs">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 210.0]">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[150.0, 390.0]">
                    </vertex>
                </relation>
                <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[915.0, 190.0]">
                    </vertex>
                </relation>
                <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[170.0, 455.0]">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[95.0, 235.0]">
                    </vertex>
                </relation>
                <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation15" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[570.0, 350.0]">
                    </vertex>
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[800.0, 175.0]">
                    </vertex>
                </relation>
                <relation name="relation20" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation22" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation23" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation24" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation17" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation18" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation19" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation21" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation25" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation26" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation16" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[430.0, 210.0]">
                    </vertex>
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation27" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <link port="TRoo" relation="relation2"/>
                <link port="TRooSet" relation="relation"/>
                <link port="m_flow" relation="relation14"/>
                <link port="TSup" relation="relation8"/>
                <link port="Q_flow" relation="relation11"/>
                <link port="ErrorTRoo.plus" relation="relation3"/>
                <link port="ErrorTRoo.minus" relation="relation2"/>
                <link port="ErrorTRoo.output" relation="relation13"/>
                <link port="Limiter.input" relation="relation6"/>
                <link port="Limiter.output" relation="relation7"/>
                <link port="MultiplyDivide.multiply" relation="relation7"/>
                <link port="MultiplyDivide.multiply" relation="relation5"/>
                <link port="MultiplyDivide.output" relation="relation14"/>
                <link port="m_flow_max.output" relation="relation5"/>
                <link port="dTSup.plus" relation="relation8"/>
                <link port="dTSup.minus" relation="relation2"/>
                <link port="dTSup.output" relation="relation10"/>
                <link port="C_flow.input" relation="relation14"/>
                <link port="C_flow.output" relation="relation9"/>
                <link port="MultiplyDivide2.multiply" relation="relation9"/>
                <link port="MultiplyDivide2.multiply" relation="relation10"/>
                <link port="MultiplyDivide2.output" relation="relation11"/>
                <link port="VectorDisassembler.input" relation="relation"/>
                <link port="VectorDisassembler.output" relation="relation3"/>
                <link port="VectorDisassembler.output" relation="relation4"/>
                <link port="Multiplexor.input" relation="relation12"/>
                <link port="Multiplexor.input" relation="relation25"/>
                <link port="Multiplexor.input" relation="relation26"/>
                <link port="Multiplexor.output" relation="relation6"/>
                <link port="Multiplexor.select" relation="relation15"/>
                <link port="Scale.input" relation="relation13"/>
                <link port="Scale.output" relation="relation19"/>
                <link port="VectorDisassembler2.input" relation="relation"/>
                <link port="VectorDisassembler2.output" relation="relation17"/>
                <link port="VectorDisassembler2.output" relation="relation18"/>
                <link port="Const.output" relation="relation12"/>
                <link port="VAVPlotter.input" relation="relation15"/>
                <link port="VAVPlotter.input" relation="relation2"/>
                <link port="VAVPlotter.input" relation="relation20"/>
                <link port="VAVPlotter.input" relation="relation22"/>
                <link port="VAVPlotter.input" relation="relation8"/>
                <link port="VAVPlotter.input" relation="relation23"/>
                <link port="Scale2.input" relation="relation7"/>
                <link port="Scale2.output" relation="relation23"/>
                <link port="Scale3.input" relation="relation24"/>
                <link port="Scale3.output" relation="relation21"/>
                <link port="VectorDisassembler3.input" relation="relation"/>
                <link port="VectorDisassembler3.output" relation="relation20"/>
                <link port="VectorDisassembler3.output" relation="relation22"/>
                <link port="ErrorTRoo2.plus" relation="relation4"/>
                <link port="ErrorTRoo2.minus" relation="relation2"/>
                <link port="ErrorTRoo2.output" relation="relation24"/>
                <link port="ModalModel.mode" relation="relation15"/>
                <link port="ModalModel.TRoo" relation="relation2"/>
                <link port="ModalModel.THeaSet" relation="relation17"/>
                <link port="ModalModel.TCooSet" relation="relation18"/>
                <link port="MultiplyDivide3.multiply" relation="relation19"/>
                <link port="MultiplyDivide3.multiply" relation="relation16"/>
                <link port="MultiplyDivide3.output" relation="relation25"/>
                <link port="Expression.output" relation="relation27"/>
                <link port="Expression.TRoo" relation="relation2"/>
                <link port="Expression.TSup" relation="relation8"/>
                <link port="MultiplyDivide4.multiply" relation="relation21"/>
                <link port="MultiplyDivide4.multiply" relation="relation16"/>
                <link port="MultiplyDivide4.output" relation="relation26"/>
                <link port="SampleDelay.input" relation="relation27"/>
                <link port="SampleDelay.output" relation="relation16"/>
            </class>
            <entity name="VAVCore" class="CompositeClassDefinition">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 655.0]">
                </property>
                <property name="ACHMax" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="VRoo" class="ptolemy.data.expr.Parameter" value="456.5">
                </property>
                <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <entity name="freeFloating" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                        <entity name="heating" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                        <entity name="cooling" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                    </entity>
                </entity>
            </entity>
            <entity name="VAVPeri1" class="CompositeClassDefinition">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 710.0]">
                </property>
                <property name="ACHMax" class="ptolemy.data.expr.Parameter" value="3">
                </property>
                <property name="VRoo" class="ptolemy.data.expr.Parameter" value="346.0">
                </property>
                <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <entity name="freeFloating" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                        <entity name="heating" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                        <entity name="cooling" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                    </entity>
                </entity>
            </entity>
            <entity name="VAVPeri2" class="CompositeClassDefinition">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 770.0]">
                </property>
                <property name="ACHMax" class="ptolemy.data.expr.Parameter" value="5">
                </property>
                <property name="VRoo" class="ptolemy.data.expr.Parameter" value="205.3">
                </property>
                <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <entity name="freeFloating" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                        <entity name="heating" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                        <entity name="cooling" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                    </entity>
                </entity>
            </entity>
            <entity name="VAVPeri3" class="CompositeClassDefinition">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 830.0]">
                </property>
                <property name="ACHMax" class="ptolemy.data.expr.Parameter" value="3">
                </property>
                <property name="VRoo" class="ptolemy.data.expr.Parameter" value="346.0">
                </property>
                <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <entity name="freeFloating" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                        <entity name="heating" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                        <entity name="cooling" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                    </entity>
                </entity>
            </entity>
            <entity name="VAVPeri4" class="CompositeClassDefinition">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 895.0]">
                </property>
                <property name="ACHMax" class="ptolemy.data.expr.Parameter" value="5">
                </property>
                <property name="VRoo" class="ptolemy.data.expr.Parameter" value="205.3">
                </property>
                <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <entity name="freeFloating" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                        <entity name="heating" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                        <entity name="cooling" class="ptolemy.domains.modal.kernel.State">
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </entity>
                    </entity>
                </entity>
            </entity>
            <entity name="TRoo" class="ptolemy.actor.lib.VectorDisassembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, 845.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[880.0, 760.0]">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="CSup_flow" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="1006">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[1005.0, 760.0]">
                </property>
            </entity>
            <entity name="mRooms" class="ptolemy.actor.lib.VectorAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[751.0, 590.0]">
                </property>
            </entity>
            <entity name="mNormalized" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[975.0, 620.0]">
                </property>
            </entity>
            <entity name="QRooms" class="ptolemy.actor.lib.VectorAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[836.0, 885.0]">
                </property>
            </entity>
            <entity name="Temperatures" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="TOut, TRooCore,  TRoo1, TRoo2, TRoo3, TRoo4, TRooSetHea, TRooSetCoo, TSup">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={111, 22, 887, 476}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[887, 432]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[457.0, 505.0]">
                </property>
                <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<caption>		</caption>
<xLabel>time in s</xLabel>
<yLabel>temperatures in degC</yLabel>
<xRange min="259200.0" max="345600.0"/>
<yRange min="12.684925373134327" max="31.412835820895523"/>
</plot>?>
                </configure>
            </entity>
            <entity name="TRoo2" class="ptolemy.actor.lib.VectorDisassembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[332.0, 550.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </entity>
            <entity name="TRooSP" class="ptolemy.actor.lib.VectorDisassembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[257.0, 475.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <entity name="massFlowRates" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="mCore,  mRoo1, mRoo2, mRoo3, mRoo4">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={109, 429, 887, 476}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[887, 432]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[965.0, 520.0]">
                </property>
                <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<caption>		</caption>
<xLabel>time in s</xLabel>
<yLabel>mass flow rates in kg/s</yLabel>
<xRange min="259200.0" max="345600.0"/>
<yRange min="0.04564999999999999" max="0.18"/>
</plot>?>
                </configure>
            </entity>
            <entity name="TRooSP2" class="ptolemy.actor.lib.VectorDisassembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[870.0, 500.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[696.0, 640.0]">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[696.0, 700.0]">
                </vertex>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[695.0, 755.0]">
                </vertex>
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[696.0, 820.0]">
                </vertex>
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[696.0, 885.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[945.0, 760.0]">
                </vertex>
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[215.0, 655.0]">
                </vertex>
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[305.0, 780.0]">
                </vertex>
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation25" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation26" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation27" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation28" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation29" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[275.0, 865.0]">
                </vertex>
            </relation>
            <relation name="relation36" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation35" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="5">
                </property>
            </relation>
            <relation name="relation30" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation31" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                </property>
                <vertex name="vertex1" value="[850.0, 610.0]">
                </vertex>
            </relation>
            <link port="TRoo" relation="relation17"/>
            <link port="TRooSet" relation="relation16"/>
            <link port="TSup" relation="relation18"/>
            <link port="mNormalized" relation="relation30"/>
            <link port="CSup_flow" relation="relation21"/>
            <link port="Q_flow" relation="relation22"/>
            <link port="TOut" relation="relation19"/>
            <link port="VAVCore.TRoo" relation="relation"/>
            <link port="VAVCore.TRooSet" relation="relation16"/>
            <link port="VAVCore.m_flow" relation="relation6"/>
            <link port="VAVCore.TSup" relation="relation18"/>
            <link port="VAVCore.Q_flow" relation="relation12"/>
            <link port="VAVPeri1.TRoo" relation="relation2"/>
            <link port="VAVPeri1.TRooSet" relation="relation16"/>
            <link port="VAVPeri1.m_flow" relation="relation7"/>
            <link port="VAVPeri1.TSup" relation="relation18"/>
            <link port="VAVPeri1.Q_flow" relation="relation13"/>
            <link port="VAVPeri2.TRoo" relation="relation3"/>
            <link port="VAVPeri2.TRooSet" relation="relation16"/>
            <link port="VAVPeri2.m_flow" relation="relation8"/>
            <link port="VAVPeri2.TSup" relation="relation18"/>
            <link port="VAVPeri2.Q_flow" relation="relation14"/>
            <link port="VAVPeri3.TRoo" relation="relation4"/>
            <link port="VAVPeri3.TRooSet" relation="relation16"/>
            <link port="VAVPeri3.m_flow" relation="relation9"/>
            <link port="VAVPeri3.TSup" relation="relation18"/>
            <link port="VAVPeri3.Q_flow" relation="relation15"/>
            <link port="VAVPeri4.TRoo" relation="relation5"/>
            <link port="VAVPeri4.TRooSet" relation="relation16"/>
            <link port="VAVPeri4.m_flow" relation="relation10"/>
            <link port="VAVPeri4.TSup" relation="relation18"/>
            <link port="VAVPeri4.Q_flow" relation="relation24"/>
            <link port="TRoo.input" relation="relation17"/>
            <link port="TRoo.output" relation="relation"/>
            <link port="TRoo.output" relation="relation2"/>
            <link port="TRoo.output" relation="relation3"/>
            <link port="TRoo.output" relation="relation4"/>
            <link port="TRoo.output" relation="relation5"/>
            <link port="AddSubtract.plus" relation="relation6"/>
            <link port="AddSubtract.plus" relation="relation7"/>
            <link port="AddSubtract.plus" relation="relation8"/>
            <link port="AddSubtract.plus" relation="relation9"/>
            <link port="AddSubtract.plus" relation="relation10"/>
            <link port="AddSubtract.output" relation="relation11"/>
            <link port="CSup_flow.input" relation="relation11"/>
            <link port="CSup_flow.output" relation="relation21"/>
            <link port="mRooms.input" relation="relation6"/>
            <link port="mRooms.input" relation="relation8"/>
            <link port="mRooms.input" relation="relation10"/>
            <link port="mRooms.input" relation="relation7"/>
            <link port="mRooms.input" relation="relation9"/>
            <link port="mRooms.output" relation="relation31"/>
            <link port="mNormalized.multiply" relation="relation31"/>
            <link port="mNormalized.divide" relation="relation11"/>
            <link port="mNormalized.output" relation="relation30"/>
            <link port="QRooms.input" relation="relation12"/>
            <link port="QRooms.input" relation="relation13"/>
            <link port="QRooms.input" relation="relation14"/>
            <link port="QRooms.input" relation="relation15"/>
            <link port="QRooms.input" relation="relation24"/>
            <link port="QRooms.output" relation="relation22"/>
            <link port="Temperatures.input" relation="relation19"/>
            <link port="Temperatures.input" relation="relation25"/>
            <link port="Temperatures.input" relation="relation26"/>
            <link port="Temperatures.input" relation="relation27"/>
            <link port="Temperatures.input" relation="relation28"/>
            <link port="Temperatures.input" relation="relation29"/>
            <link port="Temperatures.input" relation="relation36"/>
            <link port="Temperatures.input" relation="relation35"/>
            <link port="Temperatures.input" relation="relation18"/>
            <link port="TRoo2.input" relation="relation17"/>
            <link port="TRoo2.output" relation="relation25"/>
            <link port="TRoo2.output" relation="relation26"/>
            <link port="TRoo2.output" relation="relation27"/>
            <link port="TRoo2.output" relation="relation28"/>
            <link port="TRoo2.output" relation="relation29"/>
            <link port="TRooSP.input" relation="relation16"/>
            <link port="TRooSP.output" relation="relation36"/>
            <link port="TRooSP.output" relation="relation35"/>
            <link port="massFlowRates.input" relation="relation23"/>
            <link port="TRooSP2.input" relation="relation31"/>
            <link port="TRooSP2.output" relation="relation23"/>
        </entity>
        <entity name="TOut" class="ptolemy.actor.lib.VectorDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[80.0, 340.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
        </entity>
        <entity name="TRoom" class="ptolemy.actor.lib.SubMatrix">
            <property name="row" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="rowSpan" class="ptolemy.actor.parameters.PortParameter" value="5">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 270.0]">
            </property>
        </entity>
        <entity name="CentralHVAC" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[480.0, 180.0]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={106, 23, 1036, 648}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[823, 538]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.9890558482204">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{266.8487907710649, 289.7288303323614}">
            </property>
            <property name="ACHMax" class="ptolemy.data.expr.Parameter" value="3">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-120.0, 45.0]">
                </property>
            </property>
            <property name="CSupMax" class="ptolemy.data.expr.Parameter" value="(VBui*ACHMax/3600.0*1.2*1006)">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-120.0, 85.0]">
                </property>
            </property>
            <property name="VBui" class="ptolemy.data.expr.Parameter" value="456.5+2*(346.0+205.3)">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-120.0, 65.0]">
                </property>
            </property>
            <property name="QCoilMax" class="ptolemy.data.expr.Parameter" value="(CSupMax*(40.0-(-10.0)))">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-120.0, 110.0]">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This model computes the supply air temperature set points &#10;for heating and cooling, and it implements a thermal &#10;model for the HVAC system.">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 40.0]">
                </property>
            </property>
            <port name="TReturn" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-125.0, 285.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="TRooSet" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-125.0, 375.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="TOut" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-124.0, 215.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="TSup" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[458.5, 265.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="CSup" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[273.5, 415.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="ThermalModel" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[353.5, 265.0]">
                </property>
                <property name="ACHMax" class="ptolemy.data.expr.Parameter" value="3">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-115.0, 45.0}">
                    </property>
                </property>
                <property name="CSupMax" class="ptolemy.data.expr.Parameter" value="(VBui*ACHMax/3600.0*1.2*1006)">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-115.0, 95.0]">
                    </property>
                </property>
                <property name="VBui" class="ptolemy.data.expr.Parameter" value="456.5+2*(346.0+205.3)">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-115.0, 70.0]">
                    </property>
                </property>
                <property name="QHeaCoiMax" class="ptolemy.data.expr.Parameter" value="(CSupMax*(40.0-(-10.0)))">
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-115.0, 120.0]">
                    </property>
                </property>
                <property name="QCooCoiMax" class="ptolemy.data.expr.Parameter" value="(CSupMax*(15.0-30.0))">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-115.0, 150.0]">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={189, 25, 1237, 832}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1024, 722]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0948905109489">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{330.2722044665404, 355.3122928503788}">
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This actor implements the central air system.&#10;It consists of an economizer, a heating coil and a cooling coil &#10;with limited capacity.&#10;The heat capacity flow rate is input because it&#10;is computed by the VAV terminal boxes that are&#10;outside of this model.">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 40.0]">
                    </property>
                </property>
                <port name="TOut" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-62.6015625, 382.8125]">
                    </property>
                </port>
                <port name="TReturn" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-67.6015625, 437.8125]">
                    </property>
                </port>
                <port name="TSupSet" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-57.5, 530.0]">
                    </property>
                </port>
                <port name="TSup" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[642.5, 600.0]">
                    </property>
                </port>
                <port name="CSup" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-62.5, 600.0]">
                    </property>
                </port>
                <port name="opMode" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-62.5, 650.0]">
                    </property>
                </port>
                <class name="CoilClassDefinition" extends="ptolemy.actor.TypedCompositeActor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-60.0, 210.0]">
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 854, 592}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[641, 482]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.9345794392523">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{293.9350000000001, 685.7645312499999}">
                    </property>
                    <property name="Q_min" class="ptolemy.data.expr.Parameter" value="0">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 460.0]">
                        </property>
                    </property>
                    <property name="Q_max" class="ptolemy.data.expr.Parameter" value="0">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 485.0}">
                        </property>
                    </property>
                    <property name="opAllowed" class="ptolemy.data.expr.Parameter">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 515.0]">
                        </property>
                    </property>
                    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This model implements a heating or cooling coil.&#10;&#10;Set opAllowed to 0 for heating coil and 2 for cooling coil.">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{105.0, 455.0}">
                        </property>
                    </property>
                    <port name="TSet" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-30.0, 555.0]">
                        </property>
                    </port>
                    <port name="C_flow" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-30.0, 780.0]">
                        </property>
                    </port>
                    <port name="opMode" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-30.0, 610.0]">
                        </property>
                    </port>
                    <port name="TIn" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-30.0, 660.0]">
                        </property>
                    </port>
                    <port name="TOut" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[545.0, 855.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="Q_flow" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[545.0, 715.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <entity name="dTCoilSet" class="ptolemy.actor.lib.AddSubtract">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[200.0, 650.0]">
                        </property>
                    </entity>
                    <entity name="Q_unconst" class="ptolemy.actor.lib.MultiplyDivide">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 715.0]">
                        </property>
                    </entity>
                    <entity name="Limiter" class="ptolemy.actor.lib.Limiter">
                        <property name="bottom" class="ptolemy.data.expr.Parameter" value="Q_min">
                        </property>
                        <property name="top" class="ptolemy.data.expr.Parameter" value="Q_max">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[355.0, 715.0]">
                        </property>
                    </entity>
                    <entity name="TOutCoil" class="ptolemy.actor.lib.AddSubtract">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 855.0]">
                        </property>
                    </entity>
                    <entity name="dTEffective" class="ptolemy.actor.lib.MultiplyDivide">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[460.0, 770.0]">
                        </property>
                    </entity>
                    <entity name="Expression" class="ptolemy.actor.lib.Expression">
                        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="opMode == opAllowed ? TSet : TIn">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                            </property>
                            <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 565.0]">
                        </property>
                        <port name="TSet" class="ptolemy.actor.TypedIOPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="TIn" class="ptolemy.actor.TypedIOPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="opMode" class="ptolemy.actor.TypedIOPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                    </entity>
                    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                        <vertex name="vertex1" value="[430.0, 715.0]">
                        </vertex>
                    </relation>
                    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                        <vertex name="vertex1" value="[50.0, 660.0]">
                        </vertex>
                    </relation>
                    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                        <vertex name="vertex1" value="[190.0, 780.0]">
                        </vertex>
                    </relation>
                    <link port="TSet" relation="relation9"/>
                    <link port="C_flow" relation="relation4"/>
                    <link port="opMode" relation="relation10"/>
                    <link port="TIn" relation="relation2"/>
                    <link port="TOut" relation="relation8"/>
                    <link port="Q_flow" relation="relation6"/>
                    <link port="dTCoilSet.plus" relation="relation"/>
                    <link port="dTCoilSet.minus" relation="relation2"/>
                    <link port="dTCoilSet.output" relation="relation3"/>
                    <link port="Q_unconst.multiply" relation="relation3"/>
                    <link port="Q_unconst.multiply" relation="relation4"/>
                    <link port="Q_unconst.output" relation="relation5"/>
                    <link port="Limiter.input" relation="relation5"/>
                    <link port="Limiter.output" relation="relation6"/>
                    <link port="TOutCoil.plus" relation="relation2"/>
                    <link port="TOutCoil.plus" relation="relation7"/>
                    <link port="TOutCoil.output" relation="relation8"/>
                    <link port="dTEffective.multiply" relation="relation6"/>
                    <link port="dTEffective.divide" relation="relation4"/>
                    <link port="dTEffective.output" relation="relation7"/>
                    <link port="Expression.output" relation="relation"/>
                    <link port="Expression.TSet" relation="relation9"/>
                    <link port="Expression.TIn" relation="relation2"/>
                    <link port="Expression.opMode" relation="relation10"/>
                </class>
                <entity name="TEconomizerOut" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="yOADam*TOut + (1-yOADam) * TRet">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[297.5, 445.0]">
                    </property>
                    <port name="TOut" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="TRet" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="yOADam" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                    <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="TOut, TRet, TEcoOut, THeaCoiOut, TCooCoiOut, 10*yOADam, 10*mode">
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={116, 26, 1200, 405}, maximized=false}">
                    </property>
                    <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[1200, 361]">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[657.5, 390.0]">
                    </property>
                    <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="604800.0"/>
<yRange min="3.0" max="35.0"/>
</plot>?>
                    </configure>
                </entity>
                <entity name="EconomizerDamper" class="ptolemy.domains.modal.modal.ModalModel">
                    <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{100.0, 325.0}">
                    </property>
                    <port name="yOADam" class="ptolemy.domains.modal.modal.ModalPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="TSet" class="ptolemy.domains.modal.modal.ModalPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="TOut" class="ptolemy.domains.modal.modal.ModalPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="TRet" class="ptolemy.domains.modal.modal.ModalPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="port" class="ptolemy.domains.modal.modal.ModalPort">
                        <property name="output"/>
                    </port>
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <property name="_library" class="ptolemy.moml.LibraryAttribute">
                            <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={236, 170, 968, 560}, maximized=false}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[755, 449]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{377.5, 224.5}">
                        </property>
                        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This model computes the outside air damper signal.">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 15.0]">
                            </property>
                        </property>
                        <port name="yOADam" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 230.0]">
                            </property>
                        </port>
                        <port name="TSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 180.0]">
                            </property>
                        </port>
                        <port name="TOut" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 335.0]">
                            </property>
                        </port>
                        <port name="TRet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 285.0]">
                            </property>
                        </port>
                        <port name="port" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 275.0]">
                            </property>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <entity name="heating" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="heating">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.42726135253952, 274.83651018757763]">
                            </property>
                        </entity>
                        <entity name="cooling" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="controlsRefi">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[375.4272613525395, 144.8365101875776]">
                            </property>
                        </entity>
                        <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRet &lt; TSet - 1">
                            </property>
                            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="heating.mode=-1">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.3443041455390765">
                            </property>
                            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                        </relation>
                        <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRet &gt; TSet + 1">
                            </property>
                            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="controlsRefi.mode=1">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.7991106845452622">
                            </property>
                            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                        </relation>
                        <link port="heating.incomingPort" relation="relation5"/>
                        <link port="heating.outgoingPort" relation="relation6"/>
                        <link port="cooling.incomingPort" relation="relation6"/>
                        <link port="cooling.outgoingPort" relation="relation5"/>
                    </entity>
                    <entity name="heating" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="allowDisconnectedGraphs" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 50.0]">
                            </property>
                        </property>
                        <property name="mode" class="ptolemy.data.expr.Parameter" value="-1">
                            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                </property>
                            </property>
                            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 45.0]">
                            </property>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={431, 266, 817, 518}, maximized=false}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
                        </property>
                        <port name="yOADam" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 220.0]">
                            </property>
                        </port>
                        <port name="TSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 200.0]">
                            </property>
                        </port>
                        <port name="TOut" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 305.0]">
                            </property>
                        </port>
                        <port name="TRet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 155.0]">
                            </property>
                        </port>
                        <port name="port" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 135.0]">
                            </property>
                        </port>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="0.3">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, 220.0]">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <vertex name="vertex1" value="{325.0, 220.0}">
                            </vertex>
                        </relation>
                        <link port="yOADam" relation="relation"/>
                        <link port="port" relation="relation"/>
                        <link port="Const.output" relation="relation"/>
                    </entity>
                    <entity name="controlsRefi" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="allowDisconnectedGraphs" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{60, 30}">
                            </property>
                        </property>
                        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="mode = 0 for heating&#10;mode = 1 for cooling">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[365.0, 25.0]">
                            </property>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={188, 170, 995, 599}, maximized=false}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[778, 481]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{389.0, 240.5}">
                        </property>
                        <property name="mode" class="ptolemy.data.expr.Parameter" value="1">
                            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                </property>
                            </property>
                            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{235.0, 30.0}">
                            </property>
                        </property>
                        <port name="yOADam" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[865.0, 155.0]">
                            </property>
                        </port>
                        <port name="TSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 135.0]">
                            </property>
                        </port>
                        <port name="TOut" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[40.125, 284.6875]">
                            </property>
                        </port>
                        <port name="TRet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 215.0]">
                            </property>
                        </port>
                        <port name="port" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[570.125, 94.6875]">
                            </property>
                        </port>
                        <entity name="Limiter" class="ptolemy.actor.lib.Limiter">
                            <property name="bottom" class="ptolemy.data.expr.Parameter" value="0.3">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[780.0, 155.0]">
                            </property>
                        </entity>
                        <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[260.125, 294.6875]">
                            </property>
                        </entity>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="mode">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 95.0]">
                            </property>
                        </entity>
                        <entity name="AddSubtract2" class="ptolemy.actor.lib.AddSubtract">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[420.125, 144.6875]">
                            </property>
                        </entity>
                        <entity name="AbsoluteValue" class="ptolemy.actor.lib.AbsoluteValue">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 350.0]">
                            </property>
                        </entity>
                        <entity name="delta" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="0.25">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[365.0, 220.0]">
                            </property>
                        </entity>
                        <entity name="Comparator" class="ptolemy.actor.lib.logic.Comparator">
                            <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                                <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                                    <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                                    </property>
                                    <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                                    </property>
                                    <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                                    </property>
                                    <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                                    </property>
                                    <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                                    </property>
                                </property>
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[479.60595703125, 301.34765625]">
                            </property>
                        </entity>
                        <entity name="BooleanMultiplexor" class="ptolemy.actor.lib.BooleanMultiplexor">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[585.125, 229.6875]">
                            </property>
                        </entity>
                        <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[680.125, 154.6875]">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <vertex name="vertex1" value="[180.0, 215.0]">
                            </vertex>
                        </relation>
                        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <vertex name="vertex1" value="[425.0, 220.0]">
                            </vertex>
                        </relation>
                        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <vertex name="vertex1" value="[305.125, 294.6875]">
                            </vertex>
                        </relation>
                        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                        </relation>
                        <link port="yOADam" relation="relation"/>
                        <link port="TSet" relation="relation6"/>
                        <link port="TOut" relation="relation2"/>
                        <link port="TRet" relation="relation9"/>
                        <link port="port" relation="relation3"/>
                        <link port="Limiter.input" relation="relation5"/>
                        <link port="Limiter.output" relation="relation"/>
                        <link port="AddSubtract.plus" relation="relation2"/>
                        <link port="AddSubtract.minus" relation="relation9"/>
                        <link port="AddSubtract.output" relation="relation4"/>
                        <link port="Const.output" relation="relation3"/>
                        <link port="AddSubtract2.plus" relation="relation6"/>
                        <link port="AddSubtract2.minus" relation="relation9"/>
                        <link port="AddSubtract2.output" relation="relation13"/>
                        <link port="AbsoluteValue.input" relation="relation4"/>
                        <link port="AbsoluteValue.output" relation="relation10"/>
                        <link port="delta.output" relation="relation11"/>
                        <link port="Comparator.left" relation="relation11"/>
                        <link port="Comparator.right" relation="relation10"/>
                        <link port="Comparator.output" relation="relation12"/>
                        <link port="BooleanMultiplexor.trueInput" relation="relation11"/>
                        <link port="BooleanMultiplexor.falseInput" relation="relation4"/>
                        <link port="BooleanMultiplexor.select" relation="relation12"/>
                        <link port="BooleanMultiplexor.output" relation="relation14"/>
                        <link port="MultiplyDivide.multiply" relation="relation13"/>
                        <link port="MultiplyDivide.divide" relation="relation14"/>
                        <link port="MultiplyDivide.output" relation="relation5"/>
                    </entity>
                    <entity name="controls" class="ptolemy.domains.modal.modal.Refinement">
                        <port name="yOADam" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                            </property>
                        </port>
                        <port name="TSet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                            </property>
                        </port>
                        <port name="TOut" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                            </property>
                        </port>
                        <port name="TRet" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                            </property>
                        </port>
                        <port name="port" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                        </port>
                    </entity>
                    <relation name="yOADamRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="TSetRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="TOutRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="TRetRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="portRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <link port="yOADam" relation="yOADamRelation"/>
                    <link port="TSet" relation="TSetRelation"/>
                    <link port="TOut" relation="TOutRelation"/>
                    <link port="TRet" relation="TRetRelation"/>
                    <link port="port" relation="portRelation"/>
                    <link port="_Controller.yOADam" relation="yOADamRelation"/>
                    <link port="_Controller.TSet" relation="TSetRelation"/>
                    <link port="_Controller.TOut" relation="TOutRelation"/>
                    <link port="_Controller.TRet" relation="TRetRelation"/>
                    <link port="_Controller.port" relation="portRelation"/>
                    <link port="heating.yOADam" relation="yOADamRelation"/>
                    <link port="heating.TSet" relation="TSetRelation"/>
                    <link port="heating.TOut" relation="TOutRelation"/>
                    <link port="heating.TRet" relation="TRetRelation"/>
                    <link port="heating.port" relation="portRelation"/>
                    <link port="controlsRefi.yOADam" relation="yOADamRelation"/>
                    <link port="controlsRefi.TSet" relation="TSetRelation"/>
                    <link port="controlsRefi.TOut" relation="TOutRelation"/>
                    <link port="controlsRefi.TRet" relation="TRetRelation"/>
                    <link port="controlsRefi.port" relation="portRelation"/>
                    <link port="controls.yOADam" relation="yOADamRelation"/>
                    <link port="controls.TSet" relation="TSetRelation"/>
                    <link port="controls.TOut" relation="TOutRelation"/>
                    <link port="controls.TRet" relation="TRetRelation"/>
                    <link port="controls.port" relation="portRelation"/>
                </entity>
                <entity name="Scale" class="ptolemy.actor.lib.Scale">
                    <property name="factor" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 280.0]">
                    </property>
                </entity>
                <entity name="Scale2" class="ptolemy.actor.lib.Scale">
                    <property name="factor" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 335.0]">
                    </property>
                </entity>
                <entity name="HeatingCoil" class="CoilClassDefinition">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[227.5, 525.0]">
                    </property>
                    <property name="Q_max" class="ptolemy.data.expr.Parameter" value="QHeaCoiMax">
                    </property>
                    <property name="opAllowed" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                </entity>
                <entity name="CoolingCoil" class="CoilClassDefinition">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[352.5, 610.0]">
                    </property>
                    <property name="Q_min" class="ptolemy.data.expr.Parameter" value="QCooCoiMax">
                    </property>
                    <property name="opAllowed" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                </entity>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[420.0, 485.0]">
                    </vertex>
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[167.5, 600.0]">
                    </vertex>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[42.5, 365.0]">
                    </vertex>
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[47.5, 390.0]">
                    </vertex>
                </relation>
                <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[602.5, 600.0]">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[-27.5, 530.0]">
                    </vertex>
                </relation>
                <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[157.5, 315.0]">
                    </vertex>
                </relation>
                <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation15" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[132.5, 650.0]">
                    </vertex>
                </relation>
                <relation name="relation16" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[297.5, 515.0]">
                    </vertex>
                </relation>
                <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <link port="TOut" relation="relation4"/>
                <link port="TReturn" relation="relation5"/>
                <link port="TSupSet" relation="relation"/>
                <link port="TSup" relation="relation10"/>
                <link port="CSup" relation="relation6"/>
                <link port="opMode" relation="relation15"/>
                <link port="TEconomizerOut.output" relation="relation3"/>
                <link port="TEconomizerOut.TOut" relation="relation4"/>
                <link port="TEconomizerOut.TRet" relation="relation5"/>
                <link port="TEconomizerOut.yOADam" relation="relation11"/>
                <link port="TimedPlotter.input" relation="relation4"/>
                <link port="TimedPlotter.input" relation="relation5"/>
                <link port="TimedPlotter.input" relation="relation3"/>
                <link port="TimedPlotter.input" relation="relation16"/>
                <link port="TimedPlotter.input" relation="relation10"/>
                <link port="TimedPlotter.input" relation="relation13"/>
                <link port="TimedPlotter.input" relation="relation7"/>
                <link port="EconomizerDamper.yOADam" relation="relation11"/>
                <link port="EconomizerDamper.TSet" relation="relation"/>
                <link port="EconomizerDamper.TOut" relation="relation4"/>
                <link port="EconomizerDamper.TRet" relation="relation5"/>
                <link port="EconomizerDamper.port" relation="relation12"/>
                <link port="Scale.input" relation="relation11"/>
                <link port="Scale.output" relation="relation13"/>
                <link port="Scale2.input" relation="relation12"/>
                <link port="Scale2.output" relation="relation7"/>
                <link port="HeatingCoil.TSet" relation="relation"/>
                <link port="HeatingCoil.C_flow" relation="relation6"/>
                <link port="HeatingCoil.opMode" relation="relation15"/>
                <link port="HeatingCoil.TIn" relation="relation3"/>
                <link port="HeatingCoil.TOut" relation="relation16"/>
                <link port="CoolingCoil.TSet" relation="relation"/>
                <link port="CoolingCoil.C_flow" relation="relation6"/>
                <link port="CoolingCoil.opMode" relation="relation15"/>
                <link port="CoolingCoil.TIn" relation="relation16"/>
                <link port="CoolingCoil.TOut" relation="relation10"/>
            </entity>
            <entity name="TSupSet" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[188.5, 325.0]">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={65, 22, 1200, 621}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1048, 612]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.9851880963984">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{532.8781275531044, 265.0341796875}">
                </property>
                <property name="TMin" class="ptolemy.data.expr.Parameter" value="16.0">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, -30.0]">
                    </property>
                </property>
                <property name="TMax" class="ptolemy.data.expr.Parameter" value="35.0">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, -5.0]">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="opMode = 0: heating&#10;opMode = 1: free cooling&#10;opMode = 2: mechanical cooling">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 100.0]">
                    </property>
                </property>
                <property name="DeadBand" class="ptolemy.data.expr.Parameter" value="1">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, -30.0]">
                    </property>
                </property>
                <port name="TRoo" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 230.0]">
                    </property>
                </port>
                <port name="TRooSetH" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 75.0]">
                    </property>
                </port>
                <port name="TRooSetC" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 310.0]">
                    </property>
                </port>
                <port name="TSupSet" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[755.0, 175.0]">
                    </property>
                </port>
                <port name="opMode" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 185.0]">
                    </property>
                </port>
                <port name="TOut" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 400.0]">
                    </property>
                </port>
                <class name="ClassTSupSet" extends="ptolemy.actor.TypedCompositeActor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[360.0, 15.0]">
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={230, 252, 1058, 462}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[845, 352]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{422.5, 176.0}">
                    </property>
                    <property name="annotation" class="ptolemy.kernel.util.Attribute">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This model computes the supply air temperature set point.
The model consists of a proportional controller with output 
limiter, which is input into a linear set point scheduler.</text></svg></configure>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 0.0]">
                        </property>
                    </property>
                    <property name="Kp" class="ptolemy.data.expr.Parameter" value="1">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[55.0, 75.0]">
                        </property>
                    </property>
                    <property name="DeadBand" class="ptolemy.data.expr.Parameter" value="DeadBand">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 85.0]">
                        </property>
                    </property>
                    <property name="TMin" class="ptolemy.data.expr.Parameter" value="16">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{55.0, 105.0}">
                        </property>
                    </property>
                    <property name="TMax" class="ptolemy.data.expr.Parameter" value="35">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[55.0, 135.0]">
                        </property>
                    </property>
                    <port name="e" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 255.0]">
                        </property>
                    </port>
                    <port name="u" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[605.0, 265.0]">
                        </property>
                    </port>
                    <entity name="Scale" class="ptolemy.actor.lib.Scale">
                        <property name="factor" class="ptolemy.data.expr.Parameter" value="Kp">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{155.0, 255.0}">
                        </property>
                    </entity>
                    <entity name="Limiter" class="ptolemy.actor.lib.Limiter">
                        <property name="bottom" class="ptolemy.data.expr.Parameter" value="-0.5">
                        </property>
                        <property name="top" class="ptolemy.data.expr.Parameter" value="0.5">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[265.0, 255.0]">
                        </property>
                    </entity>
                    <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[315.0, 165.0]">
                        </property>
                    </entity>
                    <entity name="Const" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="TMax">
                        </property>
                        <doc>Create a constant sequence.</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 140.0]">
                        </property>
                    </entity>
                    <entity name="Const3" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="(TMin+TMax)/2.0">
                        </property>
                        <doc>Create a constant sequence.</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[255.0, 310.0]">
                        </property>
                    </entity>
                    <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[395.0, 215.0]">
                        </property>
                    </entity>
                    <entity name="AddSubtract2" class="ptolemy.actor.lib.AddSubtract">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 265.0]">
                        </property>
                    </entity>
                    <entity name="Const2" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="TMin">
                        </property>
                        <doc>Create a constant sequence.</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 180.0]">
                        </property>
                    </entity>
                    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <link port="e" relation="relation4"/>
                    <link port="u" relation="relation9"/>
                    <link port="Scale.input" relation="relation4"/>
                    <link port="Scale.output" relation="relation3"/>
                    <link port="Limiter.input" relation="relation3"/>
                    <link port="Limiter.output" relation="relation6"/>
                    <link port="AddSubtract.plus" relation="relation"/>
                    <link port="AddSubtract.minus" relation="relation2"/>
                    <link port="AddSubtract.output" relation="relation5"/>
                    <link port="Const.output" relation="relation"/>
                    <link port="Const3.output" relation="relation7"/>
                    <link port="MultiplyDivide.multiply" relation="relation5"/>
                    <link port="MultiplyDivide.multiply" relation="relation6"/>
                    <link port="MultiplyDivide.output" relation="relation8"/>
                    <link port="AddSubtract2.plus" relation="relation8"/>
                    <link port="AddSubtract2.plus" relation="relation7"/>
                    <link port="AddSubtract2.output" relation="relation9"/>
                    <link port="Const2.output" relation="relation2"/>
                </class>
                <entity name="TRooErrHea" class="ptolemy.actor.lib.AddSubtract">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 85.0]">
                    </property>
                    <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </entity>
                <entity name="TRooErrCoo" class="ptolemy.actor.lib.AddSubtract">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 320.0]">
                    </property>
                    <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </entity>
                <entity name="Hea" class="ClassTSupSet">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 85.0]">
                    </property>
                    <property name="Kp" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </entity>
                <entity name="Coo" class="ClassTSupSet">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 320.0]">
                    </property>
                    <property name="Kp" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="TMax" class="ptolemy.data.expr.Parameter" value="20">
                    </property>
                </entity>
                <entity name="Multiplexor" class="ptolemy.actor.lib.Multiplexor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[670.0, 175.0]">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="TMin">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 265.0]">
                    </property>
                </entity>
                <entity name="Minimum" class="ptolemy.actor.lib.Minimum">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[355.0, 235.0]">
                    </property>
                </entity>
                <entity name="Maximum" class="ptolemy.actor.lib.Maximum">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[508.125, 230.0]">
                    </property>
                </entity>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <vertex name="vertex1" value="[280.0, 230.0]">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <link port="TRoo" relation="relation7"/>
                <link port="TRooSetH" relation="relation5"/>
                <link port="TRooSetC" relation="relation2"/>
                <link port="TSupSet" relation="relation13"/>
                <link port="opMode" relation="relation11"/>
                <link port="TOut" relation="relation9"/>
                <link port="TRooErrHea.plus" relation="relation5"/>
                <link port="TRooErrHea.minus" relation="relation7"/>
                <link port="TRooErrHea.output" relation="relation"/>
                <link port="TRooErrCoo.plus" relation="relation2"/>
                <link port="TRooErrCoo.minus" relation="relation7"/>
                <link port="TRooErrCoo.output" relation="relation4"/>
                <link port="Hea.e" relation="relation"/>
                <link port="Hea.u" relation="relation8"/>
                <link port="Coo.e" relation="relation4"/>
                <link port="Coo.u" relation="relation12"/>
                <link port="Multiplexor.input" relation="relation8"/>
                <link port="Multiplexor.input" relation="relation10"/>
                <link port="Multiplexor.input" relation="relation12"/>
                <link port="Multiplexor.output" relation="relation13"/>
                <link port="Multiplexor.select" relation="relation11"/>
                <link port="Const.output" relation="relation6"/>
                <link port="Minimum.input" relation="relation7"/>
                <link port="Minimum.input" relation="relation9"/>
                <link port="Minimum.minimumValue" relation="relation3"/>
                <link port="Maximum.input" relation="relation3"/>
                <link port="Maximum.input" relation="relation6"/>
                <link port="Maximum.maximumValue" relation="relation10"/>
            </entity>
            <entity name="OperatingMode" class="ptolemy.domains.modal.modal.ModalModel">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[185.19622039794922, 472.3375701904297]">
                </property>
                <port name="opMode" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="THeaSet" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="TCooSet" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="TOut" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="TRet" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={236, 170, 968, 560}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[755, 449]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{377.5, 224.5}">
                    </property>
                    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This model determines in what mode the system should operate.&#10;The model requires that THeaSet &lt; TCooSet&#10;&#10;The output is defined as follows:&#10;opMode = 0: heating&#10;opMode = 1: free cooling&#10;opMode = 2: mechanical cooling">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 5.0]">
                        </property>
                    </property>
                    <port name="opMode" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[504.3247833251953, 330.5216472255797]">
                        </property>
                    </port>
                    <port name="THeaSet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 180.0]">
                        </property>
                    </port>
                    <port name="TCooSet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 235.0]">
                        </property>
                    </port>
                    <port name="TOut" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 335.0]">
                        </property>
                    </port>
                    <port name="TRet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 285.0]">
                        </property>
                    </port>
                    <entity name="heating" class="ptolemy.domains.modal.kernel.State">
                        <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="heating">
                        </property>
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[254.3247833251953, 375.5216472255797]">
                        </property>
                    </entity>
                    <entity name="mechanicalCooling" class="ptolemy.domains.modal.kernel.State">
                        <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="controlsRefi">
                        </property>
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[459.3247833251953, 190.52164722557973]">
                        </property>
                    </entity>
                    <entity name="freeCooling" class="ptolemy.domains.modal.kernel.State">
                        <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="controlsRefi">
                        </property>
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[349.3247833251953, 275.5216472255797]">
                        </property>
                    </entity>
                    <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRet &lt; TCooSet &amp;&amp; TRet &gt; TOut">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="controlsRefi.mode=1">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.1677280413734716">
                        </property>
                        <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                    </relation>
                    <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRet &gt; TCooSet &amp;&amp; TOut &gt; 16.0">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="controlsRefi.mode = 2">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.7136275823794412">
                        </property>
                        <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                    </relation>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRet &lt; THeaSet &amp;&amp; TOut &lt; 15.0">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="heating.mode=0">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.2789490507819885">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.2573003141635657">
                        </property>
                        <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                    </relation>
                    <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRet &gt; THeaSet + 2">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="controlsRefi.mode=1">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.8599892343435966">
                        </property>
                        <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                    </relation>
                    <link port="heating.incomingPort" relation="relation"/>
                    <link port="heating.outgoingPort" relation="relation2"/>
                    <link port="mechanicalCooling.incomingPort" relation="relation3"/>
                    <link port="mechanicalCooling.outgoingPort" relation="relation4"/>
                    <link port="freeCooling.incomingPort" relation="relation4"/>
                    <link port="freeCooling.incomingPort" relation="relation2"/>
                    <link port="freeCooling.outgoingPort" relation="relation"/>
                    <link port="freeCooling.outgoingPort" relation="relation3"/>
                </entity>
                <entity name="heating" class="ptolemy.domains.modal.modal.Refinement">
                    <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 50.0]">
                        </property>
                    </property>
                    <property name="mode" class="ptolemy.data.expr.Parameter" value="0">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 45.0]">
                        </property>
                    </property>
                    <port name="opMode" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 220.0]">
                        </property>
                    </port>
                    <port name="THeaSet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 200.0]">
                        </property>
                    </port>
                    <port name="TCooSet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 255.0]">
                        </property>
                    </port>
                    <port name="TOut" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 305.0]">
                        </property>
                    </port>
                    <port name="TRet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 155.0]">
                        </property>
                    </port>
                    <entity name="Const" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="mode">
                        </property>
                        <doc>Create a constant sequence.</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 220.0]">
                        </property>
                    </entity>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                        <vertex name="vertex1" value="{340.0, 220.0}">
                        </vertex>
                    </relation>
                    <link port="opMode" relation="relation"/>
                    <link port="Const.output" relation="relation"/>
                </entity>
                <entity name="controlsRefi" class="ptolemy.domains.modal.modal.Refinement">
                    <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{60, 30}">
                        </property>
                    </property>
                    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="opMode = 0 for heating&#10;opMode = 1 for free cooling&#10;opMode = 2 for mechanical cooling">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[365.0, 25.0]">
                        </property>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 991, 591}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[778, 481]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{389.0, 240.5}">
                    </property>
                    <property name="mode" class="ptolemy.data.expr.Parameter" value="1">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{235.0, 30.0}">
                        </property>
                    </property>
                    <port name="opMode" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 155.0]">
                        </property>
                    </port>
                    <port name="THeaSet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 120.0]">
                        </property>
                    </port>
                    <port name="TCooSet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 160.0]">
                        </property>
                    </port>
                    <port name="TOut" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.125, 284.6875]">
                        </property>
                    </port>
                    <port name="TRet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 215.0]">
                        </property>
                    </port>
                    <entity name="Const" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="mode">
                        </property>
                        <doc>Create a constant sequence.</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 155.0]">
                        </property>
                    </entity>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                        </property>
                    </relation>
                    <link port="opMode" relation="relation"/>
                    <link port="Const.output" relation="relation"/>
                </entity>
                <entity name="controls" class="ptolemy.domains.modal.modal.Refinement">
                    <port name="opMode" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                        </property>
                    </port>
                    <port name="THeaSet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                        </property>
                    </port>
                    <port name="TCooSet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                        </property>
                    </port>
                    <port name="TOut" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                        </property>
                    </port>
                    <port name="TRet" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                        </property>
                    </port>
                </entity>
                <relation name="opModeRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="THeaSetRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="TCooSetRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="TOutRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <relation name="TRetRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                </relation>
                <link port="opMode" relation="opModeRelation"/>
                <link port="THeaSet" relation="THeaSetRelation"/>
                <link port="TCooSet" relation="TCooSetRelation"/>
                <link port="TOut" relation="TOutRelation"/>
                <link port="TRet" relation="TRetRelation"/>
                <link port="_Controller.opMode" relation="opModeRelation"/>
                <link port="_Controller.THeaSet" relation="THeaSetRelation"/>
                <link port="_Controller.TCooSet" relation="TCooSetRelation"/>
                <link port="_Controller.TOut" relation="TOutRelation"/>
                <link port="_Controller.TRet" relation="TRetRelation"/>
                <link port="heating.opMode" relation="opModeRelation"/>
                <link port="heating.THeaSet" relation="THeaSetRelation"/>
                <link port="heating.TCooSet" relation="TCooSetRelation"/>
                <link port="heating.TOut" relation="TOutRelation"/>
                <link port="heating.TRet" relation="TRetRelation"/>
                <link port="controlsRefi.opMode" relation="opModeRelation"/>
                <link port="controlsRefi.THeaSet" relation="THeaSetRelation"/>
                <link port="controlsRefi.TCooSet" relation="TCooSetRelation"/>
                <link port="controlsRefi.TOut" relation="TOutRelation"/>
                <link port="controlsRefi.TRet" relation="TRetRelation"/>
                <link port="controls.opMode" relation="opModeRelation"/>
                <link port="controls.THeaSet" relation="THeaSetRelation"/>
                <link port="controls.TCooSet" relation="TCooSetRelation"/>
                <link port="controls.TOut" relation="TOutRelation"/>
                <link port="controls.TRet" relation="TRetRelation"/>
            </entity>
            <entity name="VectorDisassembler" class="ptolemy.actor.lib.VectorDisassembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-65.0, 355.0]">
                </property>
            </entity>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[65.0, 285.0]">
                </vertex>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[105.0, 375.0]">
                </vertex>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[95.0, 390.0]">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[-5.0, 245.0]">
                </vertex>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <vertex name="vertex1" value="[227.0, 385.5]">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="1">
                </property>
            </relation>
            <link port="TReturn" relation="relation2"/>
            <link port="TRooSet" relation="relation"/>
            <link port="TOut" relation="relation4"/>
            <link port="TSup" relation="relation9"/>
            <link port="CSup" relation="relation6"/>
            <link port="ThermalModel.TOut" relation="relation4"/>
            <link port="ThermalModel.TReturn" relation="relation2"/>
            <link port="ThermalModel.TSupSet" relation="relation7"/>
            <link port="ThermalModel.TSup" relation="relation9"/>
            <link port="ThermalModel.CSup" relation="relation6"/>
            <link port="ThermalModel.opMode" relation="relation8"/>
            <link port="TSupSet.TRoo" relation="relation2"/>
            <link port="TSupSet.TRooSetH" relation="relation3"/>
            <link port="TSupSet.TRooSetC" relation="relation5"/>
            <link port="TSupSet.TSupSet" relation="relation7"/>
            <link port="TSupSet.opMode" relation="relation8"/>
            <link port="TSupSet.TOut" relation="relation4"/>
            <link port="OperatingMode.opMode" relation="relation8"/>
            <link port="OperatingMode.THeaSet" relation="relation3"/>
            <link port="OperatingMode.TCooSet" relation="relation5"/>
            <link port="OperatingMode.TOut" relation="relation4"/>
            <link port="OperatingMode.TRet" relation="relation2"/>
            <link port="VectorDisassembler.input" relation="relation"/>
            <link port="VectorDisassembler.output" relation="relation3"/>
            <link port="VectorDisassembler.output" relation="relation5"/>
        </entity>
        <entity name="BooleanSwitch" class="ptolemy.actor.lib.BooleanSwitch">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[405.0, 415.0]">
            </property>
        </entity>
        <entity name="TRooExt" class="ptolemy.actor.lib.VectorDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 385.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="DayTimeTemperatures" class="ptolemy.actor.lib.gui.HistogramPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="TCore, TRoo1, TRoo2, TRoo3, TRoo4">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={214, 273, 761, 531}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[761, 487]">
            </property>
            <property name="binWidth" class="ptolemy.data.expr.Parameter" value="0.5">
            </property>
            <property name="binOffset" class="ptolemy.data.expr.Parameter" value="0.25">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 425.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>DayTimeTemperatures</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="20.25" max="27.0"/>
<yRange min="0.0" max="640.0"/>
<barGraph width="0.5" offset="0.15"/>
<bin width="0.5" offset="0.25"/>
</plot>?>
            </configure>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
            <vertex name="vertex1" value="[245.0, 270.0]">
            </vertex>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
            <vertex name="vertex1" value="[415.0, 315.0]">
            </vertex>
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
            <vertex name="vertex1" value="{300.0, 360.0}">
            </vertex>
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
            <vertex name="vertex1" value="[25.0, 250.0]">
            </vertex>
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </relation>
        <link port="Q_flow" relation="relation15"/>
        <link port="input" relation="relation2"/>
        <link port="TReturn.input1" relation="relation"/>
        <link port="TReturn.input2" relation="relation14"/>
        <link port="TReturn.output" relation="relation4"/>
        <link port="TRooSetPoi.TSet" relation="relation8"/>
        <link port="TRooSetPoi.TOut" relation="relation12"/>
        <link port="TRooSetPoi.isOccupied" relation="relation6"/>
        <link port="VAVBox.TRoo" relation="relation"/>
        <link port="VAVBox.TRooSet" relation="relation8"/>
        <link port="VAVBox.TSup" relation="relation3"/>
        <link port="VAVBox.mNormalized" relation="relation14"/>
        <link port="VAVBox.CSup_flow" relation="relation5"/>
        <link port="VAVBox.Q_flow" relation="relation15"/>
        <link port="VAVBox.TOut" relation="relation12"/>
        <link port="TOut.input" relation="relation2"/>
        <link port="TOut.output" relation="relation12"/>
        <link port="TRoom.input" relation="relation2"/>
        <link port="TRoom.output" relation="relation"/>
        <link port="CentralHVAC.TReturn" relation="relation4"/>
        <link port="CentralHVAC.TRooSet" relation="relation8"/>
        <link port="CentralHVAC.TOut" relation="relation12"/>
        <link port="CentralHVAC.TSup" relation="relation3"/>
        <link port="CentralHVAC.CSup" relation="relation5"/>
        <link port="BooleanSwitch.input" relation="relation"/>
        <link port="BooleanSwitch.control" relation="relation6"/>
        <link port="BooleanSwitch.trueOutput" relation="relation7"/>
        <link port="TRooExt.input" relation="relation7"/>
        <link port="TRooExt.output" relation="relation9"/>
        <link port="TRooExt.output" relation="relation10"/>
        <link port="TRooExt.output" relation="relation11"/>
        <link port="TRooExt.output" relation="relation13"/>
        <link port="TRooExt.output" relation="relation16"/>
        <link port="DayTimeTemperatures.input" relation="relation9"/>
        <link port="DayTimeTemperatures.input" relation="relation10"/>
        <link port="DayTimeTemperatures.input" relation="relation11"/>
        <link port="DayTimeTemperatures.input" relation="relation13"/>
        <link port="DayTimeTemperatures.input" relation="relation16"/>
    </entity>
    <entity name="EnergyPlus" class="lbnl.actor.lib.Simulator">
        <property name="programName" class="ptolemy.data.expr.FileParameter" value="RunEPlus.bat">
        </property>
        <property name="programArguments" class="ptolemy.data.expr.Parameter" value="&quot;ePlusSimpleHVAC USA_CA_San.Francisco.Intl.AP.724940_TMY3&quot;">
        </property>
        <property name="workingDirectory" class="ptolemy.data.expr.FileParameter" value=".">
        </property>
        <property name="socketTimeout" class="ptolemy.data.expr.Parameter" value="20000">
            <display name="socketTimeout [milliseconds]"/>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[337.0, 220.0]">
        </property>
        <property name="_rotatePorts" class="ptolemy.data.expr.Parameter" value="180">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="[double]">
            </property>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="[double]">
            </property>
        </port>
    </entity>
    <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[450.0, 440.0]">
        </property>
    </entity>
    <entity name="StringConst" class="ptolemy.actor.lib.StringConst">
        <property name="value" class="ptolemy.data.expr.Parameter" value=" seconds">
        </property>
        <doc>Create a constant sequence with a string value.</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="80">
            </property>
            <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, 470.0]">
        </property>
    </entity>
    <entity name="AddSubtract2" class="ptolemy.actor.lib.AddSubtract">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[450.0, 370.0]">
        </property>
    </entity>
    <entity name="StringConst2" class="ptolemy.actor.lib.StringConst">
        <property name="value" class="ptolemy.data.expr.Parameter" value=" days">
        </property>
        <doc>Create a constant sequence with a string value.</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="80">
            </property>
            <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, 400.0]">
        </property>
    </entity>
    <entity name="Round" class="ptolemy.actor.lib.conversions.Round">
        <property name="function" class="ptolemy.kernel.util.StringAttribute" value="round">
            <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                <property name="ceil" class="ptolemy.kernel.util.StringAttribute" value="ceil">
                </property>
                <property name="floor" class="ptolemy.kernel.util.StringAttribute" value="floor">
                </property>
                <property name="round" class="ptolemy.kernel.util.StringAttribute" value="round">
                </property>
                <property name="truncate" class="ptolemy.kernel.util.StringAttribute" value="truncate">
                </property>
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 355.0]">
        </property>
    </entity>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <vertex name="vertex1" value="[140.0, 355.0]">
        </vertex>
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <link port="RunTime.input" relation="relation8"/>
    <link port="WallClockTime.output" relation="relation5"/>
    <link port="WallClockTime.trigger" relation="relation3"/>
    <link port="SimulationTime.input" relation="relation9"/>
    <link port="CurrentTime.output" relation="relation3"/>
    <link port="Expression.output" relation="relation2"/>
    <link port="Expression.input" relation="relation3"/>
    <link port="hvac.Q_flow" relation="relation"/>
    <link port="hvac.input" relation="relation4"/>
    <link port="EnergyPlus.input" relation="relation"/>
    <link port="EnergyPlus.output" relation="relation4"/>
    <link port="AddSubtract.plus" relation="relation5"/>
    <link port="AddSubtract.plus" relation="relation6"/>
    <link port="AddSubtract.output" relation="relation8"/>
    <link port="StringConst.output" relation="relation6"/>
    <link port="AddSubtract2.plus" relation="relation10"/>
    <link port="AddSubtract2.plus" relation="relation7"/>
    <link port="AddSubtract2.output" relation="relation9"/>
    <link port="StringConst2.output" relation="relation7"/>
    <link port="Round.input" relation="relation2"/>
    <link port="Round.output" relation="relation10"/>
</entity>
