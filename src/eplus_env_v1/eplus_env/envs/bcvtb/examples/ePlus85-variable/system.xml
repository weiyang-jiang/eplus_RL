<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="system" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.0.devel">
    </property>
    <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
        <property name="iterations" class="ptolemy.data.expr.Parameter" value="(endTime-beginTime)/timeStep+1">
        </property>
        <property name="vectorizationFactor" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <property name="allowDisconnectedGraphs" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="period" class="ptolemy.data.expr.Parameter" value="timeStep">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{80.0, 50.0}">
        </property>
    </property>
    <property name="timeStep" class="ptolemy.data.expr.Parameter" value="10*60">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 40.0]">
        </property>
    </property>
    <property name="beginTime" class="ptolemy.data.expr.Parameter" value="0">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 60.0]">
        </property>
    </property>
    <property name="endTime" class="ptolemy.data.expr.Parameter" value="4*24*3600">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 80.0]">
        </property>
    </property>
    <property name="annotation" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This model illustrates the implementation of an EnergyPlus
model that communicates with Ptolemy II through BSD sockets.
Input into EnergyPlus is a signal for an EMS global variable, which
is used in an EMS program to actuate a shading device.</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, 20.0]">
        </property>
    </property>
    <property name="annotation2" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:darkgray">Author: Michael Wetter</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 565.0}">
        </property>
    </property>
    <property name="annotation3" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Output simulation time and wall clock time.
This is for illustration purposes only and not needed by the above model.</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 370.0]">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={75, 176, 1315, 717}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1101, 628]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.1149056423859">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{518.8799691169885, 303.5327148437496}">
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Plots an EnergyPlus object of type&#10;EnergyManagementSystem:OutputVariable">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[750.0, 345.0]">
        </property>
    </property>
    <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Plots an overview of&#10;the main results">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[750.0, 135.0]">
        </property>
    </property>
    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Plots an EnergyPlus object of type&#10;Output:Variable">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[750.0, 280.0]">
        </property>
    </property>
    <entity name="VectorDisassembler" class="ptolemy.actor.lib.VectorDisassembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 255.0]">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
    </entity>
    <entity name="RunTime" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[520.0, 530.0]">
        </property>
    </entity>
    <entity name="WallClockTime" class="ptolemy.actor.lib.WallClockTime">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 540.0]">
        </property>
    </entity>
    <entity name="SimulationTime" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{515.0, 455.0}">
        </property>
    </entity>
    <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
        <doc>Output the current time.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 455.0]">
        </property>
    </entity>
    <entity name="Expression" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="input/86400">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{220.0, 455.0}">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
    </entity>
    <entity name="Plotter" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="TOut, TZone, 10*yShade, 0.01*ISolExt">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={798, 51, 575, 368}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[559, 309]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[720.0, 160.0]">
        </property>
        <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<xLabel>time in s</xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="345600.0"/>
<yRange min="-3.3" max="27.21471989477412"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Simulator" class="lbnl.actor.lib.Simulator">
        <property name="programName" class="ptolemy.data.expr.FileParameter" value="energyplus">
        </property>
        <property name="programArguments" class="ptolemy.data.expr.Parameter" value="&quot;-w ../ePlusWeather/USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw -p EMSWindowShadeControl -s C -x -m -r EMSWindowShadeControl.idf&quot;">
        </property>
        <property name="socketTimeout" class="ptolemy.data.expr.Parameter" value="10000">
            <display name="socketTimeout [milliseconds]"/>
        </property>
        <property name="showConsoleWindow" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 275.0]">
        </property>
    </entity>
    <entity name="shadingController" class="ptolemy.domains.modal.modal.ModalModel">
        <property name="stateDependentCausality" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 275.0]">
        </property>
        <port name="TRoo" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="ISolExt" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="yShade" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 194, 813, 511}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
            </property>
            <property name="y" class="ptolemy.actor.parameters.SharedParameter" value="2">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 0.0, 0.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="22" style="font-size:14; font-family:SansSerif; fill:grey" y="22">-S-</text>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:red" y="20">-S-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 30.0]">
                </property>
            </property>
            <port name="TRoo" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <port name="ISolExt" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                </property>
            </port>
            <port name="yShade" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[565.0, 190.0]">
                </property>
            </port>
            <entity name="noShade" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="controlImplementation">
                </property>
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 200.0]">
                </property>
            </entity>
            <entity name="nightShadeDeployed" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="controlImplementation">
                </property>
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{185.0, 60.0}">
                </property>
            </entity>
            <entity name="dayShadeDeployed" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="controlImplementation">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[321.5408172607422, 330.55406805905795]">
                </property>
            </entity>
            <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="ISolExt &lt; 5">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="y = 2">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.4538306431943884">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="ISolExt &gt; 10">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="y = 0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6726148224824477">
                </property>
                <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="ISolExt &gt; 200 &amp;&amp; TRoo &gt; 23">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="y = 1">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.0819109851725899">
                </property>
                <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRoo &lt; 22">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="y = 0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.6066048932611414">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="ISolExt &lt; 5">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="y = 2">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.257679437666481">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.8146978503041926">
                </property>
                <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </relation>
            <link port="noShade.incomingPort" relation="relation4"/>
            <link port="noShade.incomingPort" relation="relation2"/>
            <link port="noShade.outgoingPort" relation="relation3"/>
            <link port="noShade.outgoingPort" relation="relation"/>
            <link port="nightShadeDeployed.incomingPort" relation="relation3"/>
            <link port="nightShadeDeployed.incomingPort" relation="relation5"/>
            <link port="nightShadeDeployed.outgoingPort" relation="relation4"/>
            <link port="dayShadeDeployed.incomingPort" relation="relation"/>
            <link port="dayShadeDeployed.outgoingPort" relation="relation2"/>
            <link port="dayShadeDeployed.outgoingPort" relation="relation5"/>
        </entity>
        <entity name="controlImplementation" class="ptolemy.domains.modal.modal.Refinement">
            <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                <property name="iterations" class="ptolemy.data.expr.Parameter" value="0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{60, 45}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={393, 346, 813, 510}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
            </property>
            <port name="TRoo" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <port name="ISolExt" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                </property>
            </port>
            <port name="yShade" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 180.0]">
                </property>
            </port>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="y">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[295.0, 180.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="yShade" relation="relation"/>
            <link port="Const.output" relation="relation"/>
        </entity>
        <relation name="TRooRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="ISolExtRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="yShadeRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <link port="TRoo" relation="TRooRelation"/>
        <link port="ISolExt" relation="ISolExtRelation"/>
        <link port="yShade" relation="yShadeRelation"/>
        <link port="_Controller.TRoo" relation="TRooRelation"/>
        <link port="_Controller.ISolExt" relation="ISolExtRelation"/>
        <link port="_Controller.yShade" relation="yShadeRelation"/>
        <link port="controlImplementation.TRoo" relation="TRooRelation"/>
        <link port="controlImplementation.ISolExt" relation="ISolExtRelation"/>
        <link port="controlImplementation.yShade" relation="yShadeRelation"/>
    </entity>
    <entity name="PlotterYShadeFromE+" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="yShadeFromE+">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={303, 546, 575, 368}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[559, 309]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[720.0, 360.0]">
        </property>
        <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<xLabel>time in s</xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="345600.0"/>
<yRange min="0.0" max="0.0"/>
</plot>?>
        </configure>
    </entity>
    <entity name="ScaleYShade" class="ptolemy.actor.lib.Scale">
        <property name="factor" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[300.0, 155.0]">
        </property>
    </entity>
    <entity name="ScaleISol" class="ptolemy.actor.lib.Scale">
        <property name="factor" class="ptolemy.data.expr.Parameter" value="0.01">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[645.0, 235.0]">
        </property>
    </entity>
    <entity name="PlotterSolarIrradiation" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="extWinSolInc">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={881, 412, 575, 368}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[559, 309]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[720.0, 295.0]">
        </property>
        <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<xLabel>time in s</xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="345600.0"/>
<yRange min="0.0" max="738.1095815734"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Test" class="ptolemy.actor.lib.Test">
        <property name="correctValues" class="ptolemy.data.expr.Parameter" value="{15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 14.9999999999999, 15.0000000000001, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0000000000002, 15.0, 15.0, 15.0000000000001, 15.0000000000002, 15.0000000000002, 15.0000000000002, 15.0000000000002, 15.0000000000002, 15.0000000000001, 15.0000000000002, 15.0, 14.9999999999998, 14.9999999999999, 15.0000000000001, 15.0000000000001, 20.3248409679098, 20.015528337329, 20.0001903816089, 20.0000187050679, 20.000001832462, 20.0000001780794, 20.0000000015999, 20.0000000000104, 20.0000000000001, 20.0, 20.0, 20.0499760634969, 20.1544920817691, 20.2815583882354, 20.4103544954153, 20.5323984262467, 20.650032824741, 20.7682263531698, 20.881458535533, 20.9907870421232, 21.1002221867902, 21.2006971253272, 21.2880691399247, 21.3656554786366, 21.4440048058897, 21.5232300698628, 21.5988207700003, 21.6762862819427, 21.7593901794502, 21.8456332805958, 21.8117237463881, 21.800505887798, 21.8598540749891, 21.9476257876855, 22.0261885359197, 22.0910958141135, 22.2719939895171, 22.430502894992, 22.5186882433246, 22.582381624655, 22.6605376787699, 22.756270488235, 22.8587175190449, 22.9631407770649, 23.0714518983737, 23.1713604688277, 23.25800320304, 23.3359656352487, 23.4089838177331, 23.4788164916373, 23.5457322098455, 23.6361270546338, 23.7570699268817, 23.895304688426, 23.9219900194514, 23.9652045026505, 24.0652635488672, 24.1658690732148, 24.0439820023752, 23.8612672197778, 23.714235184202, 23.6229716195137, 23.4914060617129, 23.3451394185508, 23.2947555331876, 23.3186838629308, 20.1176177086267, 17.2955174911111, 17.0596227153559, 16.8979366408084, 16.4814394465977, 15.9207429343786, 15.7574254610273, 15.7191549694326, 15.6719806503865, 15.598774954285, 15.5222553604655, 15.4563391697778, 15.3448488812289, 15.2538808456879, 15.1325941147505, 15.0412094488425, 15.0000887725232, 15.0000002232427, 15.0000000007298, 15.0000000000033, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0000000000002, 15.0, 14.9999999999999, 15.0000000000001, 14.9999999999999, 14.9999999999999, 15.0000000000002, 15.0, 15.0000000000002, 15.0000000000001, 15.0000000000001, 15.0000000000002, 15.0, 14.9999999999999, 15.0000000000002, 15.0000000000001, 15.0000000000003, 14.9999999999999, 15.0, 15.0, 15.0000000000001, 15.0000000000003, 15.0, 15.0000000000001, 15.0000000000001, 15.0, 15.0, 15.0000000000001, 20.3006400671704, 20.0137325785335, 20.0001619183128, 20.0000163988698, 20.0000016277409, 20.0000001573462, 20.0000000010696, 20.0000000000021, 20.0799299541667, 20.2740152173106, 20.5199296120219, 20.7701199240375, 21.0066278430824, 21.2399637639721, 21.4813852873468, 21.729375526955, 21.9802099837224, 22.233390844397, 22.4857574681686, 22.7391033742073, 22.995108031874, 23.2578115501989, 23.5276481134834, 23.7959003110371, 24.88926001496, 25.0999769044008, 25.3994575772018, 25.8915963491445, 26.129960072694, 26.3133524695409, 26.4369211751712, 26.5905681861839, 26.7820737431275, 26.873690345444, 26.8975847027362, 26.9176450225471, 27.0280315291229, 27.1354428552114, 27.1160122555873, 27.0660045940566, 27.0424030935242, 27.0332064707065, 27.0155355755479, 26.929428246671, 26.8511730975592, 26.8364492374913, 26.8512753235188, 26.8538701486073, 26.8309899864777, 26.7940604510687, 26.7532329263112, 26.6995173755354, 26.6343606686698, 26.5342013381733, 26.3657551788141, 26.2453460844126, 26.1660823026516, 26.1153394353209, 26.0704384994363, 26.019295786449, 25.9017859042139, 25.8281912507912, 25.7188463131602, 25.5959599358097, 25.5237746676634, 25.4888938912685, 22.2276437901724, 19.2436905997592, 19.0216172192541, 18.8719524088155, 18.443750391647, 17.8947700510354, 17.7098432214485, 17.6112991713636, 17.4834467607865, 17.3323570018493, 17.1874660687227, 17.0583598451179, 16.9459802166971, 16.8435407833246, 16.7414715406658, 16.6370369110528, 16.5318580504098, 16.4277205771383, 16.329580558623, 16.2339355471959, 16.1407721516977, 16.0472003964959, 15.9554954863425, 15.8640760347185, 15.7812957803196, 15.7073323476549, 15.6366503692715, 15.5651221343198, 15.4925700056484, 15.4049952974575, 15.3196499370172, 15.2288571884634, 15.1317665306973, 15.0342910064238, 15.0000623570129, 15.0000001781312, 15.0000000006438, 15.000000000003, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0, 15.0000000000002, 15.0, 14.9999999999999, 15.0000000000001, 15.0, 15.0000000000001, 14.9999999999999, 15.0000000000002, 15.0, 14.9999999999999, 15.0000000000002, 15.0, 14.9999999999999, 15.0000000000003, 14.9999999999999, 15.0000000000003, 14.9999999999999, 15.0, 15.0000000000002, 15.0, 15.0, 15.0, 20.3161083343909, 20.013139112667, 20.0001244768419, 20.0000117954159, 20.0000011106604, 20.0000001031327, 20.0000000003176, 20.006662001087, 20.1024666444524, 20.2439178398125, 20.3718048728185, 20.4736539185195, 20.5618901079258, 20.6475687253457, 20.7328846123218, 20.8244471141397, 20.9251006202107, 21.0312779442331, 21.1511104182023, 21.2771209385228, 21.4020872778874, 21.5076844406526, 21.6001542260156, 21.6930822428127, 21.7889677295239, 21.8727748308599, 21.9491283195761, 22.0253937724331, 22.1015900693342, 22.1750392845547, 22.1232094791107, 22.0862025993567, 22.1139694631136, 22.1756471998389, 22.2375441834529, 22.2912791757172, 22.4630426470933, 22.6166978173653, 22.7030183514872, 22.7525033221593, 22.7981974215477, 22.8478459735679, 22.8922758547602, 22.9282602895602, 22.9584362582061, 22.985722767233, 23.0107739005093, 23.0329945119599, 23.0540067395336, 23.0733223099553, 23.0899356261661, 23.1019813886101, 23.1088893504025, 23.1113499169554, 23.0034050634511, 22.9169980074882, 22.8946078457639, 22.900362859185, 22.9010368954416, 22.891073760283, 22.7803176583244, 22.7314489505641, 22.673298050251, 22.6111067338145, 22.562289133347, 22.5257735523089, 18.6315584108964, 15.4515049163016, 15.4401638293189, 15.3818185195257, 15.039873845415, 15.0000100568322, 15.0000001168954, 15.0000000016104, 15.0000000000249, 15.0000000000005, 15.0000000000001, 15.0000000000001, 15.0, 15.0, 15.0, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0, 15.0, 15.0000000000001, 15.0, 15.0, 15.0, 15.0, 14.9999999999999, 15.0000000000001, 15.0, 15.0000000000002, 15.0, 15.0000000000002, 15.0000000000001, 14.9999999999998, 15.0000000000002, 15.0, 15.0, 15.0, 15.0000000000002, 15.0, 15.0, 15.0, 15.0000000000001, 15.0, 15.0, 15.0, 15.0000000000002, 15.0, 15.0, 15.0, 15.0000000000001, 15.0000000000001, 15.0, 15.0000000000002, 15.0, 14.9999999999999, 15.0000000000001, 15.0, 14.9999999999999, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0, 15.0, 14.9999999999999, 15.0, 15.0, 15.0000000000001, 14.9999999999999, 15.0, 15.0000000000001, 15.0000000000003, 15.0, 14.9999999999997, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 20.2370531040651, 20.0114039768943, 20.0001494531821, 20.0000162410693, 20.0000017510032, 20.0000001866948, 20.0000000037951, 20.0000000000667, 20.000000000001, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0512569922279, 20.1632319540623, 20.3022063192894, 20.4438762503326, 20.5850136480488, 20.7306481151552, 20.8836485043442, 21.0162300686215, 21.131881443381, 21.2461755266077, 21.4084686662624, 21.6356752067678, 21.9108806743173, 22.0754577232121, 22.2643188197824, 22.5473994474966, 22.7560829243512, 23.1318479301193, 23.4064743116427, 23.793739359116, 24.8157612886587, 25.0271391047627, 25.1469024482554, 25.2145323031406, 25.0794468496467, 24.851824030214, 24.5938997199513, 24.3394600182502, 24.2582083266415, 24.2960005243582, 24.3390699163922, 24.33362949576, 24.2998604317912, 24.2638884251857, 24.2078409060571, 24.1531915999506, 24.1045057093208, 23.929083718119, 23.7593871637865, 23.6475153753806, 23.5684768001236, 23.4841393310959, 23.3832482892328, 23.2602967151355, 23.213510294454, 23.1425117819908, 23.0592682537045, 23.0065436510189, 22.9796345707837, 19.6612005825235, 16.6967809050383, 16.4821857342333, 16.3313999455498, 15.8854396855211, 15.3155648685525, 15.1272866367515, 15.0001116755729, 15.0000003735501, 15.000000001504, 15.0000000000095, 15.0000000000001, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0, 15.0, 15.0, 15.0000000000001, 14.9999999999999, 14.9999999999999, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0000000000001}">
        </property>
        <property name="tolerance" class="ptolemy.data.expr.Parameter" value="1.500000000000009E-8">
        </property>
        <property name="trainingMode" class="ptolemy.actor.parameters.SharedParameter" value="true">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[730.0, 425.0]">
        </property>
    </entity>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <vertex name="vertex1" value="{135.0, 455.0}">
        </vertex>
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <vertex name="vertex1" value="[380.0, 200.0]">
        </vertex>
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
        </property>
        <vertex name="vertex1" value="[420.0, 345.0]">
        </vertex>
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[190.0, 275.0]">
        </vertex>
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="VectorDisassembler.input" relation="relation7"/>
    <link port="VectorDisassembler.output" relation="relation4"/>
    <link port="VectorDisassembler.output" relation="relation9"/>
    <link port="VectorDisassembler.output" relation="relation8"/>
    <link port="VectorDisassembler.output" relation="relation"/>
    <link port="RunTime.input" relation="relation2"/>
    <link port="WallClockTime.output" relation="relation2"/>
    <link port="WallClockTime.trigger" relation="relation3"/>
    <link port="SimulationTime.input" relation="relation12"/>
    <link port="CurrentTime.output" relation="relation3"/>
    <link port="Expression.output" relation="relation12"/>
    <link port="Expression.input" relation="relation3"/>
    <link port="Plotter.input" relation="relation4"/>
    <link port="Plotter.input" relation="relation9"/>
    <link port="Plotter.input" relation="relation5"/>
    <link port="Plotter.input" relation="relation10"/>
    <link port="Simulator.input" relation="relation6"/>
    <link port="Simulator.output" relation="relation7"/>
    <link port="shadingController.TRoo" relation="relation9"/>
    <link port="shadingController.ISolExt" relation="relation8"/>
    <link port="shadingController.yShade" relation="relation6"/>
    <link port="PlotterYShadeFromE+.input" relation="relation"/>
    <link port="ScaleYShade.input" relation="relation6"/>
    <link port="ScaleYShade.output" relation="relation5"/>
    <link port="ScaleISol.input" relation="relation8"/>
    <link port="ScaleISol.output" relation="relation10"/>
    <link port="PlotterSolarIrradiation.input" relation="relation8"/>
    <link port="Test.input" relation="relation9"/>
</entity>
