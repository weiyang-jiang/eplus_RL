<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="system" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.0.devel">
    </property>
    <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
        <property name="iterations" class="ptolemy.data.expr.Parameter" value="(endTime-beginTime)/timeStep+1">
        </property>
        <property name="vectorizationFactor" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <property name="allowDisconnectedGraphs" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="period" class="ptolemy.data.expr.Parameter" value="timeStep">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{80.0, 50.0}">
        </property>
    </property>
    <property name="timeStep" class="ptolemy.data.expr.Parameter" value="10*60">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 40.0]">
        </property>
    </property>
    <property name="beginTime" class="ptolemy.data.expr.Parameter" value="0">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 60.0]">
        </property>
    </property>
    <property name="endTime" class="ptolemy.data.expr.Parameter" value="4*24*3600">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 80.0]">
        </property>
    </property>
    <property name="annotation" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This model illustrates the implementation of an EnergyPlus
model that communicates with Ptolemy II through BSD sockets.
Input into EnergyPlus is a signal for an EMS actuator of a shading device.</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, 20.0]">
        </property>
    </property>
    <property name="annotation2" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:darkgray">Author: Michael Wetter</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 565.0}">
        </property>
    </property>
    <property name="annotation3" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Output simulation time and wall clock time.
This is for illustration purposes only and not needed by the above model.</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{130.0, 375.0}">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={77, 94, 1315, 717}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1101, 628]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.1149056423859">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{518.8799691169885, 303.5327148437496}">
    </property>
    <entity name="VectorDisassembler" class="ptolemy.actor.lib.VectorDisassembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[575.0, 255.0]">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
    </entity>
    <entity name="RunTime" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[520.0, 530.0]">
        </property>
    </entity>
    <entity name="WallClockTime" class="ptolemy.actor.lib.WallClockTime">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{205.0, 525.0}">
        </property>
    </entity>
    <entity name="SimulationTime" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{515.0, 455.0}">
        </property>
    </entity>
    <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
        <doc>Output the current time.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 455.0]">
        </property>
    </entity>
    <entity name="Expression" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="input/86400">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{220.0, 455.0}">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
    </entity>
    <entity name="PlotterTemperature" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="TOut, TZone">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={865, 46, 575, 368}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[559, 309]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[640.0, 165.0]">
        </property>
        <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<xLabel>time in s</xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="345600.0"/>
<yRange min="-3.3" max="27.21471989477412"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Simulator" class="lbnl.actor.lib.Simulator">
        <property name="programName" class="ptolemy.data.expr.FileParameter" value="energyplus">
        </property>
        <property name="programArguments" class="ptolemy.data.expr.Parameter" value="&quot;-w ../ePlusWeather/USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw -p EMSWindowShadeControl -s C -x -m -r EMSWindowShadeControl.idf&quot;">
        </property>
        <property name="socketTimeout" class="ptolemy.data.expr.Parameter" value="10000">
            <display name="socketTimeout [milliseconds]"/>
        </property>
        <property name="showConsoleWindow" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[495.0, 275.0]">
        </property>
    </entity>
    <entity name="PlotterSolarIrradiation" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="extWinSolInc">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={865, 412, 575, 368}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[559, 309]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{705.0, 330.0}">
        </property>
        <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<xLabel>time in s</xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="345600.0"/>
<yRange min="0.0" max="738.1095815734"/>
</plot>?>
        </configure>
    </entity>
    <entity name="shadingController" class="ptolemy.domains.modal.modal.ModalModel">
        <property name="stateDependentCausality" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[315.0, 275.0]">
        </property>
        <port name="TRoo" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="ISolExt" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="yShade" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={204, 631, 813, 511}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
            </property>
            <property name="y" class="ptolemy.actor.parameters.SharedParameter" value="6">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 0.0, 0.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="22" style="font-size:14; font-family:SansSerif; fill:grey" y="22">-S-</text>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:red" y="20">-S-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{35, 25}">
                </property>
            </property>
            <port name="TRoo" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <port name="ISolExt" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                </property>
            </port>
            <port name="yShade" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[565.0, 190.0]">
                </property>
            </port>
            <entity name="noShade" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="controlImplementation">
                </property>
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 200.0]">
                </property>
            </entity>
            <entity name="nightShadeDeployed" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="controlImplementation">
                </property>
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{185.0, 60.0}">
                </property>
            </entity>
            <entity name="dayShadeDeployed" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="controlImplementation">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[321.5408172607422, 330.55406805905795]">
                </property>
            </entity>
            <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="ISolExt &lt; 5">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="y = 6">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.4538306431943884">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="ISolExt &gt; 10">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="y = 0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6726148224824477">
                </property>
                <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="ISolExt &gt; 200 &amp;&amp; TRoo &gt; 23">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="y = 6">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.4840762841385261">
                </property>
                <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TRoo &lt; 22">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="y = 0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.6066048932611414">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="ISolExt &lt; 5">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="y = 6">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.257679437666481">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.8146978503041926">
                </property>
                <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </relation>
            <link port="noShade.incomingPort" relation="relation4"/>
            <link port="noShade.incomingPort" relation="relation2"/>
            <link port="noShade.outgoingPort" relation="relation3"/>
            <link port="noShade.outgoingPort" relation="relation"/>
            <link port="nightShadeDeployed.incomingPort" relation="relation3"/>
            <link port="nightShadeDeployed.incomingPort" relation="relation5"/>
            <link port="nightShadeDeployed.outgoingPort" relation="relation4"/>
            <link port="dayShadeDeployed.incomingPort" relation="relation"/>
            <link port="dayShadeDeployed.outgoingPort" relation="relation2"/>
            <link port="dayShadeDeployed.outgoingPort" relation="relation5"/>
        </entity>
        <entity name="controlImplementation" class="ptolemy.domains.modal.modal.Refinement">
            <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                <property name="iterations" class="ptolemy.data.expr.Parameter" value="0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{60, 45}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={393, 346, 813, 510}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
            </property>
            <port name="TRoo" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <port name="ISolExt" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                </property>
            </port>
            <port name="yShade" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 180.0]">
                </property>
            </port>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="y">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[295.0, 180.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="yShade" relation="relation"/>
            <link port="Const.output" relation="relation"/>
        </entity>
        <relation name="TRooRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="ISolExtRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="yShadeRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <link port="TRoo" relation="TRooRelation"/>
        <link port="ISolExt" relation="ISolExtRelation"/>
        <link port="yShade" relation="yShadeRelation"/>
        <link port="_Controller.TRoo" relation="TRooRelation"/>
        <link port="_Controller.ISolExt" relation="ISolExtRelation"/>
        <link port="_Controller.yShade" relation="yShadeRelation"/>
        <link port="controlImplementation.TRoo" relation="TRooRelation"/>
        <link port="controlImplementation.ISolExt" relation="ISolExtRelation"/>
        <link port="controlImplementation.yShade" relation="yShadeRelation"/>
    </entity>
    <entity name="PlotterControl" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="yShade">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={664, 532, 575, 368}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[559, 309]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 150.0]">
        </property>
        <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<xLabel>time in s</xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="345600.0"/>
<yRange min="0.0" max="6.0"/>
</plot>?>
        </configure>
    </entity>
    <entity name="PlotterFractionShadingOn" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="fractionShadingOn">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={748, 412, 575, 368}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[559, 309]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[706.375, 395.625]">
        </property>
        <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title></title>
<xLabel>time in s</xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="345600.0"/>
<yRange min="0.0" max="1.0"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Test" class="ptolemy.actor.lib.Test">
        <property name="correctValues" class="ptolemy.data.expr.Parameter" value="{15.0000000000001, 14.9999999999999, 15.0, 15.0000000000002, 15.0000000000001, 14.9999999999999, 15.0000000000002, 15.0000000000001, 15.0000000000001, 15.0, 15.0000000000001, 14.9999999999998, 15.0000000000002, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000002, 15.0, 15.0000000000001, 15.0000000000001, 15.0000000000002, 15.0000000000001, 14.9999999999999, 15.0, 15.0, 15.0, 15.0000000000002, 15.0000000000001, 15.0000000000002, 15.0000000000001, 15.0000000000002, 15.0000000000002, 15.0000000000001, 15.0000000000002, 15.0000000000002, 15.0, 14.9999999999998, 15.0000000000001, 14.9999999999999, 14.9999999999998, 20.2973336789258, 20.0132535324366, 20.0001485402774, 20.0000150656849, 20.0000015219403, 20.0000001524466, 20.0000000019747, 20.0000000000207, 20.0000000000001, 20.0, 20.0, 20.0, 20.0060076886072, 20.0800521478685, 20.2064475845991, 20.3395914861001, 20.4609996985688, 20.5767598794902, 20.6876117426791, 20.7966844375155, 20.9068872894765, 21.008033982985, 21.0958161833078, 21.1738038273275, 21.2526503812996, 21.3324548427188, 21.4086727229321, 21.4868017006973, 21.5706076226524, 21.6575913703444, 21.6232920004402, 21.6119377703857, 21.6718591127689, 21.7605388739794, 21.839992357633, 21.9057124066642, 22.088563096717, 22.2488039216139, 22.3380472413326, 22.4025004437428, 22.4814651431842, 22.5781083550037, 22.6815078551696, 22.7868772678189, 22.8961222991304, 22.9969655468238, 23.0845473766641, 23.1634500319767, 23.2374473892384, 23.3082921018341, 23.3762286800811, 23.4676489505214, 23.5896241852991, 23.7288975318422, 23.755419203915, 23.7986384589732, 23.8993575584549, 23.8787931515098, 23.7547229571367, 23.6379599542781, 23.5021314656374, 23.4164877750819, 23.2971498253404, 23.1614413965951, 23.1156186190191, 23.1408669008555, 19.9432307181614, 17.127459065058, 16.8864346189991, 16.7208769099234, 16.3106226957801, 15.7491201723707, 15.580928923374, 15.541399604283, 15.4956169814797, 15.4249125466053, 15.3503800156596, 15.2856909021963, 15.1758042993365, 15.0855870056689, 15.0000843876534, 15.0000002114052, 15.0000000006069, 15.0000000000035, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0, 15.0, 14.9999999999999, 15.0, 14.9999999999999, 15.0, 15.0000000000002, 15.0000000000002, 15.0000000000002, 15.0000000000001, 15.0, 15.0000000000002, 15.0, 15.0000000000001, 15.0000000000003, 15.0, 15.0000000000001, 15.0000000000001, 15.0000000000003, 15.0, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0000000000003, 15.0, 14.9999999999999, 15.0, 14.9999999999999, 20.2959012294127, 20.0136004253863, 20.0001624974379, 20.0000165702308, 20.0000016561909, 20.000000161244, 20.0000000012482, 20.0000000000037, 20.0516762962705, 20.2238114576252, 20.4651316770048, 20.7184043143062, 20.9568766446942, 21.1897388164119, 21.4301497199415, 21.6777243694425, 21.9286165348496, 22.1819208034356, 22.4345961656434, 22.6879184582233, 22.9438327990468, 23.2065753681019, 23.4765566902651, 24.536561405812, 24.7460618010006, 25.0418460830922, 25.5508539367055, 25.8430063719257, 26.0270652389292, 26.2106849807105, 26.3310235656859, 26.4782378405109, 26.6672917932777, 26.7597837561409, 26.784759392554, 26.8049009841242, 26.9154295353588, 27.0231018652436, 27.0052982513812, 26.956697523468, 26.9337364646518, 26.9248637975235, 26.9075998342797, 26.8220634246949, 26.7443530620645, 26.7300461543623, 26.7452604798679, 26.7483162128141, 26.7260287775647, 26.6897200695479, 26.6494766051115, 26.5963290153726, 26.5317488256179, 26.4321960222849, 26.26350038787, 26.1429950916373, 26.06416595557, 26.0140873647531, 25.9698033529997, 25.9191974824983, 25.8013989270967, 25.7280814084364, 25.6193034336472, 25.4970670259533, 25.4254607535866, 25.3911135336022, 22.1313015094615, 19.1439476933118, 18.9207977703299, 18.7698005860569, 18.34087616779, 17.7906197878211, 17.6055583106803, 17.5073601069112, 17.3798956020594, 17.2290965926885, 17.0844409078878, 16.9555525482752, 16.8432806500489, 16.7411184813616, 16.6398500025516, 16.5363502653063, 16.4319559494894, 16.328445985604, 16.2308399431552, 16.1357542154563, 16.0431437355962, 15.9501352091829, 15.8589482508713, 15.7697497268798, 15.6877225499554, 15.6130037017528, 15.5420604695669, 15.4710912051536, 15.3993943375859, 15.3126926317058, 15.2279770374209, 15.1377664785546, 15.0430349110339, 15.0000683637248, 15.0000001967305, 15.0000000007526, 15.0000000000037, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0, 15.0, 15.0, 15.0000000000001, 15.0, 15.0000000000001, 15.0, 15.0, 15.0000000000001, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000002, 14.9999999999999, 15.0000000000002, 14.9999999999999, 15.0000000000002, 15.0, 14.9999999999999, 15.0000000000002, 15.0, 14.9999999999999, 15.0000000000002, 15.0, 14.9999999999999, 15.0000000000001, 15.0, 14.9999999999999, 15.0000000000002, 15.0, 14.9999999999999, 15.0000000000002, 14.9999999999999, 15.0000000000003, 20.352032849421, 20.0146345464002, 20.0001420860287, 20.0000135356398, 20.0000012821226, 20.0000001197614, 20.000000000458, 20.0000000000002, 20.0756696828602, 20.2045501837438, 20.3310134689978, 20.4352770575639, 20.5247134478767, 20.6101151218556, 20.6949731977004, 20.7864892847069, 20.8873536079952, 20.9937451018132, 21.1137248927724, 21.2398611521207, 21.3649720298569, 21.4707306119861, 21.563368103347, 21.6564648013797, 21.7525210985005, 21.8365053273524, 21.9130391655496, 21.9894901423373, 22.0658779856637, 22.1395232293906, 22.0876824496922, 22.0507171670763, 22.0786588068182, 22.1405711215032, 22.2026964285367, 22.256643122449, 22.4288252114245, 22.58285202476, 22.6694159108258, 22.7190873472124, 22.7649768388739, 22.8148396446094, 22.8594941144731, 22.8957021498765, 22.9260981376061, 22.9536031983707, 22.9788730637719, 23.0013126537305, 23.0225435178456, 23.0420778804138, 23.0589101210176, 23.0711745432697, 23.0783006251811, 23.0809786980103, 22.9730445961193, 22.8866821060292, 22.8644511257872, 22.8704181287859, 22.8712972268613, 22.8615217189094, 22.750732011737, 22.7019600789877, 22.6439947335433, 22.5820075124438, 22.5333762055274, 21.8083886191242, 18.3815756910447, 15.4100475187446, 15.3746431794464, 15.2983483518125, 15.0081178920677, 15.0000023740965, 15.0000000281945, 15.0000000004036, 15.0000000000064, 15.0000000000002, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 14.9999999999999, 15.0000000000001, 15.0000000000002, 15.0, 15.0000000000002, 15.0000000000001, 14.9999999999998, 15.0000000000001, 14.9999999999999, 15.0000000000001, 15.0, 14.9999999999999, 15.0000000000001, 15.0, 15.0000000000002, 15.0, 15.0, 15.0, 15.0, 15.0000000000002, 14.9999999999999, 14.9999999999999, 15.0000000000001, 15.0, 15.0000000000002, 15.0000000000001, 15.0000000000002, 15.0, 15.0, 14.9999999999999, 15.0, 15.0, 14.9999999999999, 15.0, 15.0, 15.0, 15.0, 15.0, 14.9999999999999, 15.0, 15.0, 15.0000000000003, 14.9999999999999, 14.9999999999999, 15.0, 15.0000000000001, 15.0, 14.9999999999997, 15.0, 15.0000000000001, 15.0000000000001, 15.0000000000003, 20.2685298404464, 20.0128883386662, 20.0001706331063, 20.0000185638033, 20.0000020046895, 20.0000002140915, 20.0000000044005, 20.0000000000782, 20.0000000000013, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0456943093972, 20.1532163304225, 20.2915299191781, 20.4340769454553, 20.5757011605629, 20.721246965549, 20.8740605364033, 21.0065981749523, 21.1222998702209, 21.2366447604595, 21.3989669799784, 21.6261990524351, 21.9014389136948, 22.0660043321419, 22.2548729699027, 22.537998043937, 22.7467235065382, 23.1225575324864, 23.3972354554598, 24.4852475819673, 24.7041024248011, 24.9956547944084, 25.1772883908216, 25.1781077291753, 24.9832006844874, 24.7519240744525, 24.5120484855465, 24.2666102918885, 24.1840142465924, 24.2192899417659, 24.2626017481775, 24.2588011161486, 24.2262549001934, 24.190841280306, 24.135204341893, 24.0810816888126, 24.0329892989353, 23.8576715839933, 23.6882003039512, 23.5768599831021, 23.4984630265522, 23.4147218968098, 23.3143764146059, 23.1912596418902, 23.1446453088211, 23.0740067740901, 22.9911528856245, 22.9387595174402, 22.9121389405119, 19.5950504241819, 16.6272590752393, 16.4109271370895, 16.2581616294494, 15.8121840246429, 15.241317162864, 15.0529635114153, 15.0001026480939, 15.0000003655325, 15.0000000019457, 15.0000000000143, 15.0000000000002, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0000000000001, 15.0, 15.0, 15.0000000000001, 15.0000000000001, 15.0, 14.9999999999999, 15.0, 15.0000000000001, 15.0000000000002, 15.0, 15.0000000000001, 14.9999999999999, 15.0}">
        </property>
        <property name="tolerance" class="ptolemy.data.expr.Parameter" value="1.500000000000009E-8">
        </property>
        <property name="trainingMode" class="ptolemy.actor.parameters.SharedParameter" value="true">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[730.0, 210.0]">
        </property>
    </entity>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <vertex name="vertex1" value="{135.0, 455.0}">
        </vertex>
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <vertex name="vertex1" value="[605.0, 210.0]">
        </vertex>
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
        </property>
        <vertex name="vertex1" value="[600.0, 330.0]">
        </vertex>
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[420.0, 275.0]">
        </vertex>
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="1">
        </property>
    </relation>
    <link port="VectorDisassembler.input" relation="relation7"/>
    <link port="VectorDisassembler.output" relation="relation4"/>
    <link port="VectorDisassembler.output" relation="relation9"/>
    <link port="VectorDisassembler.output" relation="relation8"/>
    <link port="VectorDisassembler.output" relation="relation"/>
    <link port="RunTime.input" relation="relation2"/>
    <link port="WallClockTime.output" relation="relation2"/>
    <link port="WallClockTime.trigger" relation="relation3"/>
    <link port="SimulationTime.input" relation="relation12"/>
    <link port="CurrentTime.output" relation="relation3"/>
    <link port="Expression.output" relation="relation12"/>
    <link port="Expression.input" relation="relation3"/>
    <link port="PlotterTemperature.input" relation="relation4"/>
    <link port="PlotterTemperature.input" relation="relation9"/>
    <link port="Simulator.input" relation="relation6"/>
    <link port="Simulator.output" relation="relation7"/>
    <link port="PlotterSolarIrradiation.input" relation="relation8"/>
    <link port="shadingController.TRoo" relation="relation9"/>
    <link port="shadingController.ISolExt" relation="relation8"/>
    <link port="shadingController.yShade" relation="relation6"/>
    <link port="PlotterControl.input" relation="relation6"/>
    <link port="PlotterFractionShadingOn.input" relation="relation"/>
    <link port="Test.input" relation="relation9"/>
</entity>
