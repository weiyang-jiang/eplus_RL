<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="FuelSystemErrorHandling" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="10.0.devel">
    </property>
    <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="30">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
        </property>
        <property name="timeResolution" class="ptolemy.actor.parameters.SharedParameter" value="1E-10">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[80.0, 50.0]">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1090, 874}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[856, 764]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{428.0, 382.0}">
    </property>
    <property name="transferRate" class="ptolemy.data.expr.Parameter" value="2.2">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 90.0]">
        </property>
    </property>
    <property name="sampleRate" class="ptolemy.data.expr.Parameter" value="10.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 110.0]">
        </property>
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This model demonstrates error handling where the sensor from the trim tank (TT) stops&#10;working. Change the sensorWorking parameter to false during execution to cause the failure.&#10;&#10;Model of fuel system in aircraft - normal operation.&#10;--------------------------------------------------------------------------&#10;During takeoff, the engine used an increased amount of fuel, &#10;and no fuel is transfered between the tanks.&#10;At altitude=10, fuel consumption decreases, and fuel is transfered&#10;from the middle tank LMT, to the trim tank TT in the back of the aircraft.&#10;When the feed tank LFT is low on fuel, fuel is transfered from LMT to LFT.&#10;When LFT is low again, then fuel is transfered from TT to LFT.&#10;&#10;Introduce error on TT level sensor&#10;--------------------------------------------------------------------------&#10;By setting the stop time of the SampleClock to less than the simulation time,&#10;an error is introduced, and the TT_level sensor no longer sends a signal.&#10;The fuel transfer controller reacts by stopping all transfers to/from TT. &#10;Normal operation will continue with the remaining tanks.&#10;&#10;Author: Sune Wolff, Aarhus School of Engineering, Denmark">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 335.0]">
        </property>
    </property>
    <property name="sensorWorking" class="ptolemy.data.expr.Parameter" value="true">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 40.0]">
        </property>
    </property>
    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="12">
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.0,0.0,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="The above FaultGenerator produces&#10;a fault at time 10.0 that causes  the&#10;trim tank level (TT_level) to fail to&#10;arrive at the controller.">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 130.0]">
        </property>
    </property>
    <class name="Tank" extends="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[255.0, 55.0]">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Model of a tank whose inputs are desired flow rates (in and out) and&#10;actual output flow rate, and the outputs are the actual input flow rate&#10;and the available output flow rate. The desired, available, and actual&#10;flow rates differ when the tank is full or empty. This architecture facilitates&#10;connecting one tank to another and having them collaborate on the actual flow.&#10;&#10;When the tank becomes full, this model limits the inflow rate to be no greater&#10;than the outflow rate. When the tank becomes empty, this model limits the&#10;outflow rate to be no greater than the inflow rate.&#10;&#10;Look inside the ModalModel to see how the limiting is accomplished.&#10;Effectively, we have three slightly different models when the tank&#10;is full, empty, and neither full nor empty.">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 345.0]">
            </property>
        </property>
        <property name="capacity" class="ptolemy.data.expr.Parameter" value="25.0">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 20.0]">
            </property>
        </property>
        <property name="initialLevel" class="ptolemy.data.expr.Parameter" value="25.0">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 45.0]">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={22, 203, 1068, 683}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[855, 573]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{427.5, 286.5}">
        </property>
        <property name="actualLevel" class="ptolemy.data.expr.Parameter" value="initialLevel">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 70.0]">
            </property>
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 0.0">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60.0">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40.0">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                </property>
            </property>
            <property name="rectangle2" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -19.0]">
                </property>
                <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="58.0">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40.0 * ((capacity - actualLevel) / capacity)">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,1.0,1.0}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={545, 170, 813, 510}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
            </property>
        </property>
        <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="textSize" class="ptolemy.data.expr.Parameter" value="12">
            </property>
            <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,0.0,1.0}">
            </property>
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This SetVariable actor makes the current&#10;tank level available as a parameter that&#10;can be referenced in the icon, which enables&#10;the animation of the level.">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 280.0]">
            </property>
        </property>
        <port name="desiredInFlow" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{30.0, 130.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="desiredOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 165.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="actualInFlow" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 105.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="level" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 180.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="availableOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[320.49964904785156, 84.315185546875]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="fullIndicator" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 435.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="emptyIndicator" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 400.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="actualOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 200.0]">
            </property>
        </port>
        <entity name="Integrator" class="ptolemy.domains.continuous.lib.Integrator">
            <property name="initialState" class="ptolemy.actor.parameters.PortParameter" value="initialLevel">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 180.0]">
            </property>
        </entity>
        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="actualLevel">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[650.0, 265.0]">
            </property>
        </entity>
        <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{215.0, 150.0}">
            </property>
            <property name="capacity" class="ptolemy.data.expr.Parameter" value="10.0">
            </property>
            <property name="initialLevel" class="ptolemy.data.expr.Parameter" value="2.0">
            </property>
            <port name="desiredInFlow" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="desiredOutFlow" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="actualInFlow" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="availableOutFlow" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="full" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="empty" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 194, 813, 511}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
                </property>
                <port name="desiredInFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 30.0]">
                    </property>
                </port>
                <port name="desiredOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 70.0]">
                    </property>
                </port>
                <port name="actualInFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 70.0]">
                    </property>
                </port>
                <port name="availableOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 110.0]">
                    </property>
                </port>
                <port name="full" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 115.0]">
                    </property>
                </port>
                <port name="empty" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 160.0]">
                    </property>
                </port>
                <entity name="normal" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="normal">
                    </property>
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{295.0, 185.0}">
                    </property>
                </entity>
                <entity name="full" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="full">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[295.0, 105.0]">
                    </property>
                </entity>
                <entity name="empty" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="empty">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{300.0, 260.0}">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="full_isPresent">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.4195905637160624">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="desiredOutFlow &gt; desiredInFlow">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.7220020898737323">
                    </property>
                </relation>
                <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="empty_isPresent">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.669304596511171">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="desiredInFlow &gt; desiredOutFlow">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.4722880570786216">
                    </property>
                </relation>
                <link port="normal.incomingPort" relation="relation3"/>
                <link port="normal.incomingPort" relation="relation4"/>
                <link port="normal.outgoingPort" relation="relation2"/>
                <link port="normal.outgoingPort" relation="relation"/>
                <link port="full.incomingPort" relation="relation2"/>
                <link port="full.outgoingPort" relation="relation3"/>
                <link port="empty.incomingPort" relation="relation"/>
                <link port="empty.outgoingPort" relation="relation4"/>
            </entity>
            <entity name="normal" class="ptolemy.domains.modal.modal.Refinement">
                <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="Infinity">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 35.0]">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={146, 370, 813, 510}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="When the tank is neither full nor&#10;empty, the net flow is equal to&#10;the desiredInFlow minus the&#10;desiredOutFlow.">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 10.0]">
                    </property>
                </property>
                <port name="desiredInFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[26.0, 85.0]">
                    </property>
                </port>
                <port name="desiredOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[26.0, 125.0]">
                    </property>
                </port>
                <port name="actualInFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 85.0]">
                    </property>
                </port>
                <port name="availableOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 125.0]">
                    </property>
                </port>
                <port name="full" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 160.0]">
                    </property>
                </port>
                <port name="empty" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 200.0]">
                    </property>
                </port>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="desiredInFlow" relation="relation2"/>
                <link port="desiredOutFlow" relation="relation"/>
                <link port="actualInFlow" relation="relation2"/>
                <link port="availableOutFlow" relation="relation"/>
            </entity>
            <entity name="full" class="ptolemy.domains.modal.modal.Refinement">
                <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="Infinity">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[70.0, 45.0]">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="When the tank is full, the net flow is equal to&#10;the desiredOutFlow minus the minimum of the desiredOutFlow&#10;and the desiredInFlow, which in this mode is normally zero.&#10;The actualInFlow is equal to the minimum of the desiredOutFlow&#10;and the desiredInFlow.">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 15.0]">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
                </property>
                <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.0,0.2,1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="NOTE: If desiredOutFlow is absent, then without&#10;the Default actor, this can result in the level of&#10;the tank going above the capacity!&#10;Absent desiredOutFlow needs to be interepreted as zero.">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[175.0, 235.0]">
                    </property>
                </property>
                <port name="desiredInFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 145.0]">
                    </property>
                </port>
                <port name="desiredOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 185.0]">
                    </property>
                </port>
                <port name="actualInFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 140.0]">
                    </property>
                </port>
                <port name="availableOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 185.0]">
                    </property>
                </port>
                <port name="full" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 225.0]">
                    </property>
                </port>
                <port name="empty" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 265.0]">
                    </property>
                </port>
                <entity name="Minimum" class="ptolemy.actor.lib.Minimum">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[280.0, 150.0]">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 235.0]">
                    </property>
                </entity>
                <entity name="Default" class="ptolemy.actor.lib.Default">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[155.0, 185.0]">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[215.0, 185.0]">
                    </vertex>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="desiredInFlow" relation="relation"/>
                <link port="desiredOutFlow" relation="relation5"/>
                <link port="actualInFlow" relation="relation3"/>
                <link port="availableOutFlow" relation="relation2"/>
                <link port="Minimum.input" relation="relation"/>
                <link port="Minimum.input" relation="relation2"/>
                <link port="Minimum.minimumValue" relation="relation3"/>
                <link port="Const.output" relation="relation4"/>
                <link port="Default.preferred" relation="relation5"/>
                <link port="Default.alternate" relation="relation4"/>
                <link port="Default.output" relation="relation2"/>
            </entity>
            <entity name="empty" class="ptolemy.domains.modal.modal.Refinement">
                <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                    <property name="stopTime" class="ptolemy.data.expr.Parameter" value="Infinity">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[70.0, 35.0]">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="When the tank is empty, the actual flow is equal to&#10;the desiredInFlow minus the minimum of the desiredInFlow&#10;and the desiredOutFlow. In this mode, it is always zero,&#10;so we just output zero. The actualOutFlow is equal to the&#10;minimum of the desiredOutFlow and the desiredInFlow.">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 0.0]">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={484, 248, 813, 510}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
                </property>
                <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.0,0.2,1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="NOTE: If desiredInFlow is absent, then without&#10;the Default actor, this can result in the level of&#10;the tank going negative!&#10;Absent input needs to be interepreted as zero.">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 245.0]">
                    </property>
                </property>
                <port name="desiredInFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                    </property>
                </port>
                <port name="desiredOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 145.0]">
                    </property>
                </port>
                <port name="actualInFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 200.0]">
                    </property>
                </port>
                <port name="availableOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 140.0]">
                    </property>
                </port>
                <port name="full" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 250.0]">
                    </property>
                </port>
                <port name="empty" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 290.0]">
                    </property>
                </port>
                <entity name="Minimum" class="ptolemy.actor.lib.Minimum">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[280.0, 150.0]">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[105.0, 255.0]">
                    </property>
                </entity>
                <entity name="Default" class="ptolemy.actor.lib.Default">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 200.0]">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex" value="[225.0, 200.0]">
                    </vertex>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="desiredInFlow" relation="relation4"/>
                <link port="desiredOutFlow" relation="relation2"/>
                <link port="actualInFlow" relation="relation"/>
                <link port="availableOutFlow" relation="relation3"/>
                <link port="Minimum.input" relation="relation2"/>
                <link port="Minimum.input" relation="relation"/>
                <link port="Minimum.minimumValue" relation="relation3"/>
                <link port="Const.output" relation="relation5"/>
                <link port="Default.preferred" relation="relation4"/>
                <link port="Default.alternate" relation="relation5"/>
                <link port="Default.output" relation="relation"/>
            </entity>
            <relation name="desiredInFlowRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="desiredOutFlowRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="actualInFlowRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="availableOutFlowRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="fullRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="emptyRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="desiredInFlow" relation="desiredInFlowRelation"/>
            <link port="desiredOutFlow" relation="desiredOutFlowRelation"/>
            <link port="actualInFlow" relation="actualInFlowRelation"/>
            <link port="availableOutFlow" relation="availableOutFlowRelation"/>
            <link port="full" relation="fullRelation"/>
            <link port="empty" relation="emptyRelation"/>
            <link port="_Controller.desiredInFlow" relation="desiredInFlowRelation"/>
            <link port="_Controller.desiredOutFlow" relation="desiredOutFlowRelation"/>
            <link port="_Controller.actualInFlow" relation="actualInFlowRelation"/>
            <link port="_Controller.availableOutFlow" relation="availableOutFlowRelation"/>
            <link port="_Controller.full" relation="fullRelation"/>
            <link port="_Controller.empty" relation="emptyRelation"/>
            <link port="normal.desiredInFlow" relation="desiredInFlowRelation"/>
            <link port="normal.desiredOutFlow" relation="desiredOutFlowRelation"/>
            <link port="normal.actualInFlow" relation="actualInFlowRelation"/>
            <link port="normal.availableOutFlow" relation="availableOutFlowRelation"/>
            <link port="normal.full" relation="fullRelation"/>
            <link port="normal.empty" relation="emptyRelation"/>
            <link port="full.desiredInFlow" relation="desiredInFlowRelation"/>
            <link port="full.desiredOutFlow" relation="desiredOutFlowRelation"/>
            <link port="full.actualInFlow" relation="actualInFlowRelation"/>
            <link port="full.availableOutFlow" relation="availableOutFlowRelation"/>
            <link port="full.full" relation="fullRelation"/>
            <link port="full.empty" relation="emptyRelation"/>
            <link port="empty.desiredInFlow" relation="desiredInFlowRelation"/>
            <link port="empty.desiredOutFlow" relation="desiredOutFlowRelation"/>
            <link port="empty.actualInFlow" relation="actualInFlowRelation"/>
            <link port="empty.availableOutFlow" relation="availableOutFlowRelation"/>
            <link port="empty.full" relation="fullRelation"/>
            <link port="empty.empty" relation="emptyRelation"/>
        </entity>
        <entity name="LevelCrossingDetector" class="ptolemy.domains.continuous.lib.LevelCrossingDetector">
            <property name="level" class="ptolemy.data.expr.Parameter" value="capacity">
            </property>
            <property name="value" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="direction" class="ptolemy.data.expr.StringParameter" value="rising">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 265.0]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </entity>
        <entity name="LevelCrossingDetector2" class="ptolemy.domains.continuous.lib.LevelCrossingDetector">
            <property name="value" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="direction" class="ptolemy.data.expr.StringParameter" value="falling">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{235.0, 330.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
            </property>
        </entity>
        <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 180.0]">
            </property>
        </entity>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[565.0, 265.0]">
            </vertex>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[115.0, 265.0]">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[135.0, 330.0]">
            </vertex>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[395.0, 140.0]">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="desiredInFlow" relation="relation4"/>
        <link port="desiredOutFlow" relation="relation5"/>
        <link port="actualInFlow" relation="relation6"/>
        <link port="level" relation="relation8"/>
        <link port="availableOutFlow" relation="relation7"/>
        <link port="fullIndicator" relation="relation"/>
        <link port="emptyIndicator" relation="relation2"/>
        <link port="actualOutFlow" relation="relation9"/>
        <link port="Integrator.derivative" relation="relation3"/>
        <link port="Integrator.state" relation="relation8"/>
        <link port="SetVariable.input" relation="relation8"/>
        <link port="ModalModel.desiredInFlow" relation="relation4"/>
        <link port="ModalModel.desiredOutFlow" relation="relation5"/>
        <link port="ModalModel.actualInFlow" relation="relation6"/>
        <link port="ModalModel.availableOutFlow" relation="relation7"/>
        <link port="ModalModel.full" relation="relation"/>
        <link port="ModalModel.empty" relation="relation2"/>
        <link port="LevelCrossingDetector.output" relation="relation"/>
        <link port="LevelCrossingDetector.trigger" relation="relation8"/>
        <link port="LevelCrossingDetector2.output" relation="relation2"/>
        <link port="LevelCrossingDetector2.trigger" relation="relation8"/>
        <link port="AddSubtract.plus" relation="relation6"/>
        <link port="AddSubtract.minus" relation="relation9"/>
        <link port="AddSubtract.output" relation="relation3"/>
    </class>
    <entity name="TimedPlotter2" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
            <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
            </property>
            <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Unknown">
            </property>
        </property>
        <property name="automaticRescale" class="ptolemy.data.expr.Parameter" value="false">
            <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
            </property>
            <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Unknown">
            </property>
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="LFT,LMT,TT">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={428, 465, 888, 414}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[888, 370]">
        </property>
        <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
            <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
            </property>
            <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Unknown">
            </property>
        </property>
        <property name="disconnectGraphOnAbsentValue" class="ptolemy.data.expr.Parameter" value="false">
            <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
            </property>
            <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Unknown">
            </property>
        </property>
        <property name="useLocalTime" class="ptolemy.data.expr.Parameter" value="true">
            <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
            </property>
            <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Unknown">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[625.0, 265.0]">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Tank Levels</title>
<xLabel>time</xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="30.0"/>
<yRange min="-4.999999999999449E-5" max="25.0"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Plant" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 170.0]">
        </property>
        <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 80.0]">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={233, 145, 856, 508}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[643, 398]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{325.2547743055555, 242.345426925505}">
        </property>
        <port name="LFT_dInFlow" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 135.0]">
            </property>
        </port>
        <port name="LFT_dOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 175.0]">
            </property>
        </port>
        <port name="LFT_level" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 150.0]">
            </property>
        </port>
        <port name="LMT_dOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 245.0]">
            </property>
        </port>
        <port name="LMT_aOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 285.0]">
            </property>
        </port>
        <port name="LMT_level" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 250.0]">
            </property>
        </port>
        <port name="TT_dInFlow" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 335.0]">
            </property>
        </port>
        <port name="TT_dOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 375.0]">
            </property>
        </port>
        <port name="TT_level" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 380.0]">
            </property>
        </port>
        <port name="TT_aInFlow" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 340.0]">
            </property>
        </port>
        <port name="TT_aOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 415.0]">
            </property>
        </port>
        <entity name="LMT" class="Tank">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[320.0, 260.0]">
            </property>
            <property name="capacity" class="ptolemy.data.expr.Parameter" value="14.0">
            </property>
            <property name="initialLevel" class="ptolemy.data.expr.Parameter" value="14.0">
            </property>
        </entity>
        <entity name="TT" class="Tank">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, 375.0]">
            </property>
            <property name="capacity" class="ptolemy.data.expr.Parameter" value="10.0">
            </property>
            <property name="initialLevel" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
        </entity>
        <entity name="LFT" class="Tank">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[320.0, 160.0]">
            </property>
        </entity>
        <entity name="LMT_inConst" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 215.0]">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[375.0, 200.0]">
            </vertex>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="LFT_dInFlow" relation="relation"/>
        <link port="LFT_dOutFlow" relation="relation2"/>
        <link port="LFT_level" relation="relation8"/>
        <link port="LMT_dOutFlow" relation="relation3"/>
        <link port="LMT_aOutFlow" relation="relation4"/>
        <link port="LMT_level" relation="relation9"/>
        <link port="TT_dInFlow" relation="relation5"/>
        <link port="TT_dOutFlow" relation="relation6"/>
        <link port="TT_level" relation="relation11"/>
        <link port="TT_aInFlow" relation="relation10"/>
        <link port="TT_aOutFlow" relation="relation7"/>
        <link port="LMT.desiredInFlow" relation="relation12"/>
        <link port="LMT.desiredOutFlow" relation="relation3"/>
        <link port="LMT.level" relation="relation9"/>
        <link port="LMT.actualOutFlow" relation="relation4"/>
        <link port="TT.desiredInFlow" relation="relation5"/>
        <link port="TT.desiredOutFlow" relation="relation6"/>
        <link port="TT.actualInFlow" relation="relation10"/>
        <link port="TT.level" relation="relation11"/>
        <link port="TT.actualOutFlow" relation="relation7"/>
        <link port="LFT.desiredInFlow" relation="relation"/>
        <link port="LFT.desiredOutFlow" relation="relation2"/>
        <link port="LFT.level" relation="relation8"/>
        <link port="LFT.availableOutFlow" relation="relation13"/>
        <link port="LFT.actualOutFlow" relation="relation13"/>
        <link port="LMT_inConst.output" relation="relation12"/>
    </entity>
    <entity name="Controller" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 275.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="sampleRate" class="ptolemy.data.expr.Parameter" value="10.0">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-80.0, 35.0]">
            </property>
            <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.6,0.6,1.0}">
            </property>
            <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Level">
            </property>
        </property>
        <property name="transferRate" class="ptolemy.data.expr.Parameter" value="2.2">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-80.0, 15.0]">
            </property>
            <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.6,0.6,1.0}">
            </property>
            <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Level">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1016, 531}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[803, 421]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.9458383106806">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{225.9355220435698, 168.7017385982768}">
        </property>
        <port name="TT_aInFlow" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, -25.0]">
            </property>
        </port>
        <port name="TT_level" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-160.0, 205.0]">
            </property>
        </port>
        <port name="LMT_level" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-45.0, 185.0]">
            </property>
        </port>
        <port name="LFT_level" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-105.0, 195.0]">
            </property>
        </port>
        <port name="TT_aOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[575.0, 285.0]">
            </property>
        </port>
        <port name="TT_dOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 225.0]">
            </property>
        </port>
        <port name="TT_dInFlow" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[340.0, 195.0]">
            </property>
        </port>
        <port name="LMT_aOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[550.3332214355469, 13.50030517578125]">
            </property>
        </port>
        <port name="LMT_dOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[340.0, 160.0]">
            </property>
        </port>
        <port name="LFT_dOutFlow" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 150.0]">
            </property>
        </port>
        <port name="LFT_dInFlow" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[550.0, 75.0]">
            </property>
        </port>
        <entity name="FuelConsumption" class="ptolemy.domains.modal.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 125.0]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <port name="LE_consumption" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="Altitude" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                <property name="annotation" class="ptolemy.kernel.util.Attribute">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">During take off, the aircraft consumes more fuel than during flight.</text></svg></configure>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-25.0, -65.0]">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                    </property>
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                </property>
                <port name="LE_consumption" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 25.0]">
                    </property>
                </port>
                <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 60.0]">
                    </property>
                </port>
                <entity name="takeOff" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="takeOff">
                    </property>
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, 55.0}">
                    </property>
                </entity>
                <entity name="flight" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="flight">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[175.0, 190.0]">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Altitude &lt; 10">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.3507902662214286">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Altitude &gt;= 10">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6476190209615305">
                    </property>
                </relation>
                <link port="takeOff.incomingPort" relation="relation"/>
                <link port="takeOff.outgoingPort" relation="relation2"/>
                <link port="flight.incomingPort" relation="relation2"/>
                <link port="flight.outgoingPort" relation="relation"/>
            </entity>
            <entity name="takeOff" class="ptolemy.domains.modal.modal.Refinement">
                <property name="takeoffConsumption" class="ptolemy.data.expr.Parameter" value="2.0">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, -5.0]">
                    </property>
                    <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                    </property>
                    <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Unknown">
                    </property>
                </property>
                <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{5, -90}">
                    </property>
                </property>
                <port name="LE_consumption" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 25.0]">
                    </property>
                </port>
                <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 60.0]">
                    </property>
                </port>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="takeoffConsumption">
                        <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                        </property>
                        <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Unknown">
                        </property>
                    </property>
                    <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="NONE">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{170.0, 60.0}">
                    </property>
                    <port name="output" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,1.0,0.6,1.0}">
                        </property>
                        <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Flow">
                        </property>
                    </port>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="[305.0, 60.0]">
                    </vertex>
                </relation>
                <link port="LE_consumption" relation="relation"/>
                <link port="Const.output" relation="relation"/>
            </entity>
            <entity name="flight" class="ptolemy.domains.modal.modal.Refinement">
                <property name="flightConsumption" class="ptolemy.data.expr.Parameter" value="1.2">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, -10.0]">
                    </property>
                    <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                    </property>
                    <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Unknown">
                    </property>
                </property>
                <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{25, -100}">
                    </property>
                </property>
                <port name="LE_consumption" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 25.0]">
                    </property>
                </port>
                <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 45.0]">
                    </property>
                </port>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="flightConsumption">
                        <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                        </property>
                        <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Unknown">
                        </property>
                    </property>
                    <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="NONE">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 50.0]">
                    </property>
                    <port name="output" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,1.0,0.6,1.0}">
                        </property>
                        <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Flow">
                        </property>
                    </port>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{285.0, 50.0}">
                    </vertex>
                </relation>
                <link port="LE_consumption" relation="relation2"/>
                <link port="Const.output" relation="relation2"/>
            </entity>
            <relation name="LE_consumptionRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="AltitudeRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="LE_consumption" relation="LE_consumptionRelation"/>
            <link port="Altitude" relation="AltitudeRelation"/>
            <link port="_Controller.LE_consumption" relation="LE_consumptionRelation"/>
            <link port="_Controller.Altitude" relation="AltitudeRelation"/>
            <link port="takeOff.LE_consumption" relation="LE_consumptionRelation"/>
            <link port="takeOff.Altitude" relation="AltitudeRelation"/>
            <link port="flight.LE_consumption" relation="LE_consumptionRelation"/>
            <link port="flight.Altitude" relation="AltitudeRelation"/>
        </entity>
        <entity name="AltitudeConst" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="4">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-85.0, 125.0]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </entity>
        <entity name="Integrator" class="ptolemy.domains.continuous.lib.Integrator">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 125.0]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
            </property>
        </entity>
        <entity name="actualOutFlowTT" class="ptolemy.domains.modal.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[470.0, 280.0]">
            </property>
            <port name="actualOutFlow" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="desiredOutFlow" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="level" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                </property>
                <port name="actualOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[465.0, 245.0]">
                    </property>
                </port>
                <port name="desiredOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                    </property>
                </port>
                <port name="level" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                    </property>
                </port>
                <entity name="normal" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="normal">
                    </property>
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{275, 125}">
                    </property>
                </entity>
                <entity name="empty" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="empty">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{275.0, 250.0}">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="level &lt;= 0.0 &amp;&amp;&#10;desiredOutFlow &gt; 0.0">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.9068857003925637">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4624134901534607">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="level &gt;= 0.0">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.992784666301943">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.656240704472866">
                    </property>
                </relation>
                <link port="normal.incomingPort" relation="relation2"/>
                <link port="normal.outgoingPort" relation="relation"/>
                <link port="empty.incomingPort" relation="relation"/>
                <link port="empty.outgoingPort" relation="relation2"/>
            </entity>
            <entity name="normal" class="ptolemy.domains.modal.modal.Refinement">
                <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{50, 115}">
                    </property>
                </property>
                <port name="actualOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 215.0]">
                    </property>
                </port>
                <port name="desiredOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 245.0]">
                    </property>
                </port>
                <port name="level" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                    </property>
                </port>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="actualOutFlow" relation="relation"/>
                <link port="desiredOutFlow" relation="relation"/>
            </entity>
            <entity name="empty" class="ptolemy.domains.modal.modal.Refinement">
                <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{155, 125}">
                    </property>
                </property>
                <port name="actualOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 215.0]">
                    </property>
                </port>
                <port name="desiredOutFlow" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                    </property>
                </port>
                <port name="level" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                    </property>
                </port>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{240, 210}">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="actualOutFlow" relation="relation"/>
                <link port="Const.output" relation="relation"/>
            </entity>
            <relation name="actualOutFlowRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="desiredOutFlowRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="levelRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="actualOutFlow" relation="actualOutFlowRelation"/>
            <link port="desiredOutFlow" relation="desiredOutFlowRelation"/>
            <link port="level" relation="levelRelation"/>
            <link port="_Controller.actualOutFlow" relation="actualOutFlowRelation"/>
            <link port="_Controller.desiredOutFlow" relation="desiredOutFlowRelation"/>
            <link port="_Controller.level" relation="levelRelation"/>
            <link port="normal.actualOutFlow" relation="actualOutFlowRelation"/>
            <link port="normal.desiredOutFlow" relation="desiredOutFlowRelation"/>
            <link port="normal.level" relation="levelRelation"/>
            <link port="empty.actualOutFlow" relation="actualOutFlowRelation"/>
            <link port="empty.desiredOutFlow" relation="desiredOutFlowRelation"/>
            <link port="empty.level" relation="levelRelation"/>
        </entity>
        <entity name="LMT2LFT_plus_TT2LFT" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[470.0, 75.0]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
            </property>
        </entity>
        <entity name="WatchdogTT" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 250.0]">
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Watchdog, monitoring the sensor signal, and checking if a sensor signal&#10;is present every clock cycle. If a signal is absent two consecutive clock &#10;cycles, an error will be produced.">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-10.0, -55.0]">
                </property>
            </property>
            <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <port name="sensor" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <port name="clock" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                </property>
            </port>
            <port name="error" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[505.0, 220.0]">
                </property>
            </port>
            <entity name="HeartBeat" class="ptolemy.domains.modal.modal.ModalModel">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{170, 220}">
                </property>
                <port name="sensor" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="clock" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="missed" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                    </property>
                    <port name="sensor" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                        </property>
                    </port>
                    <port name="clock" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                        </property>
                    </port>
                    <port name="missed" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[480.0, 225.0]">
                        </property>
                    </port>
                    <entity name="lastWasSensor" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{230, 110}">
                        </property>
                    </entity>
                    <entity name="lastWasClock" class="ptolemy.domains.modal.kernel.State">
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{230, 220}">
                        </property>
                    </entity>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="clock_isPresent &amp;&amp;&#10;!sensor_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="missed=1">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.1335451006335708">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6952216112099354">
                        </property>
                    </relation>
                    <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="sensor_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="missed=0">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.9059680894052613">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.4596181700797526">
                        </property>
                    </relation>
                    <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="clock_isPresent &amp;&amp;&#10;sensor_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="missed=0">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.409299430268119">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-3.1749114106980225">
                        </property>
                    </relation>
                    <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="clock_isPresent &amp;&amp;&#10;!sensor_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="missed=2">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.361541191110107">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.030044745816645405">
                        </property>
                    </relation>
                    <link port="lastWasSensor.incomingPort" relation="relation2"/>
                    <link port="lastWasSensor.incomingPort" relation="relation3"/>
                    <link port="lastWasSensor.outgoingPort" relation="relation"/>
                    <link port="lastWasSensor.outgoingPort" relation="relation3"/>
                    <link port="lastWasClock.incomingPort" relation="relation"/>
                    <link port="lastWasClock.incomingPort" relation="relation4"/>
                    <link port="lastWasClock.outgoingPort" relation="relation2"/>
                    <link port="lastWasClock.outgoingPort" relation="relation4"/>
                </entity>
                <relation name="sensorRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="clockRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="missedRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <link port="sensor" relation="sensorRelation"/>
                <link port="clock" relation="clockRelation"/>
                <link port="missed" relation="missedRelation"/>
                <link port="_Controller.sensor" relation="sensorRelation"/>
                <link port="_Controller.clock" relation="clockRelation"/>
                <link port="_Controller.missed" relation="missedRelation"/>
            </entity>
            <entity name="ErrorTrigger" class="ptolemy.domains.modal.modal.ModalModel">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, 220.0]">
                </property>
                <port name="missed" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="error" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                    </property>
                    <port name="missed" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                        </property>
                    </port>
                    <port name="error" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 225.0]">
                        </property>
                    </port>
                    <entity name="normal" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{285.0, 95.0}">
                        </property>
                    </entity>
                    <entity name="firstMiss" class="ptolemy.domains.modal.kernel.State">
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[285.0, 195.0]">
                        </property>
                    </entity>
                    <entity name="errorState" class="ptolemy.domains.modal.kernel.State">
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[285.0, 285.0]">
                        </property>
                    </entity>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="missed==1">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="error=0">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6680572651819339">
                        </property>
                    </relation>
                    <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="missed==0">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="error=0">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.4735353884078601">
                        </property>
                    </relation>
                    <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="missed==2">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="error=1">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.68354805597519">
                        </property>
                    </relation>
                    <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="missed==0">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="error=0">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.2801539665498227">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.5122504892933957">
                        </property>
                    </relation>
                    <link port="normal.incomingPort" relation="relation2"/>
                    <link port="normal.incomingPort" relation="relation4"/>
                    <link port="normal.outgoingPort" relation="relation"/>
                    <link port="firstMiss.incomingPort" relation="relation"/>
                    <link port="firstMiss.outgoingPort" relation="relation2"/>
                    <link port="firstMiss.outgoingPort" relation="relation3"/>
                    <link port="errorState.incomingPort" relation="relation3"/>
                    <link port="errorState.outgoingPort" relation="relation4"/>
                </entity>
                <relation name="missedRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="errorRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <link port="missed" relation="missedRelation"/>
                <link port="error" relation="errorRelation"/>
                <link port="_Controller.missed" relation="missedRelation"/>
                <link port="_Controller.error" relation="errorRelation"/>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="[235.0, 220.0]">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="{420.0, 220.0}">
                </vertex>
            </relation>
            <link port="sensor" relation="relation"/>
            <link port="clock" relation="relation2"/>
            <link port="error" relation="relation4"/>
            <link port="HeartBeat.sensor" relation="relation"/>
            <link port="HeartBeat.clock" relation="relation2"/>
            <link port="HeartBeat.missed" relation="relation3"/>
            <link port="ErrorTrigger.missed" relation="relation3"/>
            <link port="ErrorTrigger.error" relation="relation4"/>
        </entity>
        <entity name="FuelTransfer" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 195.0]">
            </property>
            <property name="transferRate" class="ptolemy.data.expr.Parameter" value="2.2">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 25.0]">
                </property>
                <property name="_highlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.6,0.6,1.0}">
                </property>
                <property name="_showInfo" class="ptolemy.data.expr.StringParameter" value="Level">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={233, 145, 672, 460}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[459, 350]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{229.5, 175.0}">
            </property>
            <port name="Altitude" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 65.0]">
                </property>
            </port>
            <port name="LMT_level" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[21.0, 107.5]">
                </property>
            </port>
            <port name="LFT_level" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[21.0, 147.5]">
                </property>
            </port>
            <port name="TT_level" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 190.0]">
                </property>
            </port>
            <port name="TT_error" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 230.0]">
                </property>
            </port>
            <port name="LMT2LFT" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[360.0, 100.0]">
                </property>
            </port>
            <port name="LMT2TT" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{360.0, 140.0}">
                </property>
            </port>
            <port name="TT2LFT" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[360.0, 180.0]">
                </property>
            </port>
            <entity name="LeftFuelTransfer" class="ptolemy.domains.modal.modal.ModalModel">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 140.0]">
                </property>
                <port name="Altitude" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="LMT_level" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="LFT_level" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="LMT2LFT" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="LMT2TT" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="TT2LFT" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="TT_level" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="TT_error" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={293, 219, 853, 461}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[640, 326]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{177.0906822127525, -312.6325165719697}">
                    </property>
                    <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -430.0]">
                        </property>
                    </port>
                    <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -350.0]">
                        </property>
                    </port>
                    <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -310.0]">
                        </property>
                    </port>
                    <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[420.0, -370.0]">
                        </property>
                    </port>
                    <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[420.0, -310.0]">
                        </property>
                    </port>
                    <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[420.0, -250.0]">
                        </property>
                    </port>
                    <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -265.0]">
                        </property>
                    </port>
                    <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -205.0]">
                        </property>
                    </port>
                    <entity name="normalState" class="ptolemy.domains.modal.kernel.State">
                        <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="normal">
                        </property>
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[259.83122229144186, -305.3804887362557]">
                        </property>
                    </entity>
                    <entity name="errorState" class="ptolemy.domains.modal.kernel.State">
                        <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="errorState">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{65.0, -310.0}">
                        </property>
                    </entity>
                    <relation name="relation23" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TT_error &gt; 0">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-3.049921724646339">
                        </property>
                    </relation>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TT_error &lt;= 0.0">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.07349706840398099">
                        </property>
                    </relation>
                    <link port="normalState.incomingPort" relation="relation"/>
                    <link port="normalState.outgoingPort" relation="relation23"/>
                    <link port="errorState.incomingPort" relation="relation23"/>
                    <link port="errorState.outgoingPort" relation="relation"/>
                </entity>
                <entity name="normal" class="ptolemy.domains.modal.modal.Refinement">
                    <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{300, -490}">
                        </property>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={322, 103, 1116, 673}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[903, 563]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.2088138124046">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{487.7137231233385, -310.5538423326278}">
                    </property>
                    <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[189.86439514160156, -414.1614761352539]">
                        </property>
                    </port>
                    <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[184.86439514160156, -339.1614761352539]">
                        </property>
                    </port>
                    <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[184.86439514160156, -299.1614761352539]">
                        </property>
                    </port>
                    <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, -380.0]">
                        </property>
                    </port>
                    <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, -320.0]">
                        </property>
                    </port>
                    <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, -260.0]">
                        </property>
                    </port>
                    <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[195.0, -255.0]">
                        </property>
                    </port>
                    <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, -195.0]">
                        </property>
                    </port>
                    <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
                        <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{420.0, -320.0}">
                        </property>
                        <port name="Altitude" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="LMT_level" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="LFT_level" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="LMT2LFT" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="output"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="LMT2TT" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="output"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="TT2LFT" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="output"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="TT_level" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="TT_error" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                                <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={213, 115, 1014, 670}, maximized=false}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[801, 559]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{400.5, 279.5}">
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 280.0}">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[715.0, 195.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[715.0, 245.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[715.0, 295.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 320.0}">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 360.0}">
                                </property>
                            </port>
                            <entity name="takeOff" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="takeOff">
                                </property>
                                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[268.9612898900441, 40.249999999999986]">
                                </property>
                            </entity>
                            <entity name="flight_noTrans" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="flight_noTrans">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[263.96128989004364, 125.24999999999997]">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <entity name="emptyLMT" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="emptyLMT">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[438.96128989004416, 125.24999999999997]">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <entity name="fullTT" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="fullTT">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[263.9612898900441, 225.24999999999997]">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <entity name="fulllTT_" class="ptolemy.domains.modal.kernel.State">
                                <display name="fullTT_2"/>
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="fulllTT_">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[433.96128989004416, 220.24999999999997]">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <entity name="lowFT" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="lowFT">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[258.9612898900441, 315.24999999999994]">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <entity name="lowFT_" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="lowFT_">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[553.9612898900443, 315.24999999999994]">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <entity name="emptyTT" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="emptyTT">
                                </property>
                                <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="true">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[553.9612898900443, 415.24999999999994]">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <entity name="okFT" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="okFT">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[258.9612898900441, 395.24999999999994]">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <entity name="lowFTagain" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="lowFTagain">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[263.96128989004376, 480.24999999999994]">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="Altitude &gt;= 10">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.715730504662183">
                                </property>
                            </relation>
                            <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="LMT_level &lt;= 0.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4422729109441871">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.04284123694163324">
                                </property>
                            </relation>
                            <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TT_level &gt;= 10">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6548394242221978">
                                </property>
                            </relation>
                            <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TT_level &gt;= 10">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.6980835229968809">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.3880175656533098">
                                </property>
                            </relation>
                            <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="LFT_level &lt;= 4.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6932939222670986">
                                </property>
                            </relation>
                            <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="LFT_level &lt;= 4.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7547518561498019">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.3839439690675026">
                                </property>
                            </relation>
                            <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TT_level &lt;= 0.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.2901308395387989">
                                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                                    </property>
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.407798498352395">
                                </property>
                            </relation>
                            <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="LMT_level &lt;= 0.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.1586402510920398">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.495000606935171">
                                </property>
                            </relation>
                            <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="LFT_level &gt;= 4.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6177610068453774">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.7031249642571005">
                                </property>
                            </relation>
                            <relation name="relation10" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="LMT_level &lt;= 0.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.787230809338426">
                                </property>
                            </relation>
                            <relation name="relation11" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="LFT_level &lt;= 4.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6676536913029665">
                                </property>
                            </relation>
                            <relation name="relation12" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="TT_level &lt;= 0.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                                    </property>
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.21228193159827585">
                                </property>
                            </relation>
                            <link port="takeOff.outgoingPort" relation="relation"/>
                            <link port="flight_noTrans.incomingPort" relation="relation"/>
                            <link port="flight_noTrans.outgoingPort" relation="relation3"/>
                            <link port="flight_noTrans.outgoingPort" relation="relation2"/>
                            <link port="emptyLMT.incomingPort" relation="relation2"/>
                            <link port="emptyLMT.outgoingPort" relation="relation4"/>
                            <link port="fullTT.incomingPort" relation="relation3"/>
                            <link port="fullTT.outgoingPort" relation="relation5"/>
                            <link port="fulllTT_.incomingPort" relation="relation4"/>
                            <link port="fulllTT_.incomingPort" relation="relation8"/>
                            <link port="fulllTT_.incomingPort" relation="relation10"/>
                            <link port="fulllTT_.outgoingPort" relation="relation6"/>
                            <link port="lowFT.incomingPort" relation="relation5"/>
                            <link port="lowFT.outgoingPort" relation="relation8"/>
                            <link port="lowFT.outgoingPort" relation="relation9"/>
                            <link port="lowFT_.incomingPort" relation="relation6"/>
                            <link port="lowFT_.outgoingPort" relation="relation7"/>
                            <link port="emptyTT.incomingPort" relation="relation7"/>
                            <link port="emptyTT.incomingPort" relation="relation12"/>
                            <link port="okFT.incomingPort" relation="relation9"/>
                            <link port="okFT.outgoingPort" relation="relation10"/>
                            <link port="okFT.outgoingPort" relation="relation11"/>
                            <link port="lowFTagain.incomingPort" relation="relation11"/>
                            <link port="lowFTagain.outgoingPort" relation="relation12"/>
                        </entity>
                        <entity name="takeOff" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-15, -110}">
                                </property>
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -65.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 15.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 55.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, -25.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, 35.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, 95.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 100.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{115, -60}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, -10.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 50.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="flight_noTrans" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-30, -135}">
                                </property>
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -65.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 15.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 55.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, -25.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 35.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 95.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 100.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{65, -35}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="transferRate">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 30.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 85.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="emptyLMT" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-85, -135}">
                                </property>
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -65.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 15.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 55.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, -50.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 10.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 70.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 100.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{30, -70}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 0.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 60.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="fullTT" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-65, -145}">
                                </property>
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -65.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 15.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 55.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[200.0, -45.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[200.0, 15.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[200.0, 75.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 100.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{50, -60}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 20.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 85.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="fulllTT_" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-60, -130}">
                                </property>
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -65.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 15.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 55.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, -55.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 5.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 65.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 100.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{50, -70}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 10.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[55.0, 75.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="lowFT" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-55, -140}">
                                </property>
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -65.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 15.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 55.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[165.0, -40.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[165.0, 20.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[165.0, 80.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 100.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="transferRate">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{35, -55}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 15.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 95.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="lowFT_" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-60, -140}">
                                </property>
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -65.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 15.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 55.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, -30.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 30.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 90.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 100.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{40, -65}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 15.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="transferRate">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 90.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="emptyTT" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-120, -145}">
                                </property>
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{115.75, 16.8986486486486}">
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -65.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 15.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 55.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, -45.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, 15.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, 75.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 100.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{15, -65}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 10.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 85.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="okFT" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-25, -125}">
                                </property>
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -65.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 15.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 55.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, -45.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 15.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 75.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 100.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="transferRate">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{55, -65}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 20.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 80.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="lowFTagain" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-45, -125}">
                                </property>
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -65.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 15.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 55.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, -40.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 20.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 80.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 100.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{0.0, 0.0}">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{80.0, -65.0}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 10.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="transferRate">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 80.0]">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <relation name="AltitudeRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="LMT_levelRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="LFT_levelRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="LMT2LFTRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="LMT2TTRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="TT2LFTRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="TT_levelRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="TT_errorRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <link port="Altitude" relation="AltitudeRelation"/>
                        <link port="LMT_level" relation="LMT_levelRelation"/>
                        <link port="LFT_level" relation="LFT_levelRelation"/>
                        <link port="LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="LMT2TT" relation="LMT2TTRelation"/>
                        <link port="TT2LFT" relation="TT2LFTRelation"/>
                        <link port="TT_level" relation="TT_levelRelation"/>
                        <link port="TT_error" relation="TT_errorRelation"/>
                        <link port="_Controller.Altitude" relation="AltitudeRelation"/>
                        <link port="_Controller.LMT_level" relation="LMT_levelRelation"/>
                        <link port="_Controller.LFT_level" relation="LFT_levelRelation"/>
                        <link port="_Controller.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="_Controller.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="_Controller.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="_Controller.TT_level" relation="TT_levelRelation"/>
                        <link port="_Controller.TT_error" relation="TT_errorRelation"/>
                        <link port="takeOff.Altitude" relation="AltitudeRelation"/>
                        <link port="takeOff.LMT_level" relation="LMT_levelRelation"/>
                        <link port="takeOff.LFT_level" relation="LFT_levelRelation"/>
                        <link port="takeOff.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="takeOff.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="takeOff.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="takeOff.TT_level" relation="TT_levelRelation"/>
                        <link port="takeOff.TT_error" relation="TT_errorRelation"/>
                        <link port="flight_noTrans.Altitude" relation="AltitudeRelation"/>
                        <link port="flight_noTrans.LMT_level" relation="LMT_levelRelation"/>
                        <link port="flight_noTrans.LFT_level" relation="LFT_levelRelation"/>
                        <link port="flight_noTrans.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="flight_noTrans.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="flight_noTrans.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="flight_noTrans.TT_level" relation="TT_levelRelation"/>
                        <link port="flight_noTrans.TT_error" relation="TT_errorRelation"/>
                        <link port="emptyLMT.Altitude" relation="AltitudeRelation"/>
                        <link port="emptyLMT.LMT_level" relation="LMT_levelRelation"/>
                        <link port="emptyLMT.LFT_level" relation="LFT_levelRelation"/>
                        <link port="emptyLMT.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="emptyLMT.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="emptyLMT.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="emptyLMT.TT_level" relation="TT_levelRelation"/>
                        <link port="emptyLMT.TT_error" relation="TT_errorRelation"/>
                        <link port="fullTT.Altitude" relation="AltitudeRelation"/>
                        <link port="fullTT.LMT_level" relation="LMT_levelRelation"/>
                        <link port="fullTT.LFT_level" relation="LFT_levelRelation"/>
                        <link port="fullTT.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="fullTT.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="fullTT.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="fullTT.TT_level" relation="TT_levelRelation"/>
                        <link port="fullTT.TT_error" relation="TT_errorRelation"/>
                        <link port="fulllTT_.Altitude" relation="AltitudeRelation"/>
                        <link port="fulllTT_.LMT_level" relation="LMT_levelRelation"/>
                        <link port="fulllTT_.LFT_level" relation="LFT_levelRelation"/>
                        <link port="fulllTT_.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="fulllTT_.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="fulllTT_.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="fulllTT_.TT_level" relation="TT_levelRelation"/>
                        <link port="fulllTT_.TT_error" relation="TT_errorRelation"/>
                        <link port="lowFT.Altitude" relation="AltitudeRelation"/>
                        <link port="lowFT.LMT_level" relation="LMT_levelRelation"/>
                        <link port="lowFT.LFT_level" relation="LFT_levelRelation"/>
                        <link port="lowFT.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="lowFT.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="lowFT.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="lowFT.TT_level" relation="TT_levelRelation"/>
                        <link port="lowFT.TT_error" relation="TT_errorRelation"/>
                        <link port="lowFT_.Altitude" relation="AltitudeRelation"/>
                        <link port="lowFT_.LMT_level" relation="LMT_levelRelation"/>
                        <link port="lowFT_.LFT_level" relation="LFT_levelRelation"/>
                        <link port="lowFT_.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="lowFT_.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="lowFT_.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="lowFT_.TT_level" relation="TT_levelRelation"/>
                        <link port="lowFT_.TT_error" relation="TT_errorRelation"/>
                        <link port="emptyTT.Altitude" relation="AltitudeRelation"/>
                        <link port="emptyTT.LMT_level" relation="LMT_levelRelation"/>
                        <link port="emptyTT.LFT_level" relation="LFT_levelRelation"/>
                        <link port="emptyTT.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="emptyTT.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="emptyTT.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="emptyTT.TT_level" relation="TT_levelRelation"/>
                        <link port="emptyTT.TT_error" relation="TT_errorRelation"/>
                        <link port="okFT.Altitude" relation="AltitudeRelation"/>
                        <link port="okFT.LMT_level" relation="LMT_levelRelation"/>
                        <link port="okFT.LFT_level" relation="LFT_levelRelation"/>
                        <link port="okFT.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="okFT.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="okFT.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="okFT.TT_level" relation="TT_levelRelation"/>
                        <link port="okFT.TT_error" relation="TT_errorRelation"/>
                        <link port="lowFTagain.Altitude" relation="AltitudeRelation"/>
                        <link port="lowFTagain.LMT_level" relation="LMT_levelRelation"/>
                        <link port="lowFTagain.LFT_level" relation="LFT_levelRelation"/>
                        <link port="lowFTagain.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="lowFTagain.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="lowFTagain.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="lowFTagain.TT_level" relation="TT_levelRelation"/>
                        <link port="lowFTagain.TT_error" relation="TT_errorRelation"/>
                    </entity>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <link port="Altitude" relation="relation"/>
                    <link port="LMT_level" relation="relation2"/>
                    <link port="LFT_level" relation="relation3"/>
                    <link port="LMT2LFT" relation="relation6"/>
                    <link port="LMT2TT" relation="relation7"/>
                    <link port="TT2LFT" relation="relation8"/>
                    <link port="TT_level" relation="relation4"/>
                    <link port="TT_error" relation="relation5"/>
                    <link port="ModalModel.Altitude" relation="relation"/>
                    <link port="ModalModel.LMT_level" relation="relation2"/>
                    <link port="ModalModel.LFT_level" relation="relation3"/>
                    <link port="ModalModel.LMT2LFT" relation="relation6"/>
                    <link port="ModalModel.LMT2TT" relation="relation7"/>
                    <link port="ModalModel.TT2LFT" relation="relation8"/>
                    <link port="ModalModel.TT_level" relation="relation4"/>
                    <link port="ModalModel.TT_error" relation="relation5"/>
                </entity>
                <entity name="errorState" class="ptolemy.domains.modal.modal.Refinement">
                    <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{140, -560}">
                        </property>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.1560693641618">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{340.4999999999999, -420.9999999999999}">
                    </property>
                    <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, -485.0]">
                        </property>
                    </port>
                    <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, -405.0]">
                        </property>
                    </port>
                    <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, -365.0]">
                        </property>
                    </port>
                    <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[445.0, -440.0]">
                        </property>
                    </port>
                    <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[445.0, -395.0]">
                        </property>
                    </port>
                    <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[445.0, -320.0]">
                        </property>
                    </port>
                    <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, -320.0]">
                        </property>
                    </port>
                    <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, -265.0]">
                        </property>
                    </port>
                    <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
                        <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, -395.0]">
                        </property>
                        <port name="Altitude" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="LMT_level" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="LFT_level" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="LMT2LFT" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="output"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="LMT2TT" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="output"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="TT2LFT" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="output"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="TT_level" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <port name="TT_error" class="ptolemy.domains.modal.modal.ModalPort">
                            <property name="input"/>
                            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                        </port>
                        <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                                <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 194, 813, 511}, maximized=false}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.9072009072009">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{-2.3125, 260.9583333333334}">
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-320.0, 115.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-320.0, 155.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-320.0, 195.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 95.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 135.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 180.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-320.0, 235.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-320.0, 280.0]">
                                </property>
                            </port>
                            <entity name="TT_errorReceived" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="TT_errorReceived">
                                </property>
                                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{90.0, 55.0}">
                                </property>
                            </entity>
                            <entity name="error_lowFT" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="error_lowFT">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-40.0, 130.0}">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <entity name="error_emptyMT" class="ptolemy.domains.modal.kernel.State">
                                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="error_emptyMT">
                                </property>
                                <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="true">
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-45.0, 245.0}">
                                </property>
                                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                                </property>
                            </entity>
                            <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="LFT_level &lt;= 4.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                                    </property>
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6603880254067611">
                                </property>
                            </relation>
                            <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="LFT_level &lt;= 0.0 ||&#10;LMT_level &lt;= 0.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.8070942846758264">
                                </property>
                            </relation>
                            <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="LMT_level &lt;= 0.0">
                                </property>
                                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4703233843846058">
                                </property>
                                <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.1138081983033103">
                                </property>
                            </relation>
                            <link port="TT_errorReceived.outgoingPort" relation="relation"/>
                            <link port="TT_errorReceived.outgoingPort" relation="relation3"/>
                            <link port="error_lowFT.incomingPort" relation="relation"/>
                            <link port="error_lowFT.outgoingPort" relation="relation2"/>
                            <link port="error_emptyMT.incomingPort" relation="relation2"/>
                            <link port="error_emptyMT.incomingPort" relation="relation3"/>
                        </entity>
                        <entity name="TT_errorReceived" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-70, -490}">
                                </property>
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.2307692307692">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{120.75, -355.5}">
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -430.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -350.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -310.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[195.0, -395.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[195.0, -335.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[195.0, -275.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -265.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -205.0]">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{40, -410}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, -335.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, -275.0]">
                                </property>
                            </entity>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{120.0, -400.0}">
                                </vertex>
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="error_lowFT" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{-60, -485}">
                                </property>
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.25">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{127.0, -353.0}">
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -430.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -350.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -310.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, -390.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, -330.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, -270.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -265.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -205.0]">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="transferRate">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{10, -400}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, -330.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, -270.0]">
                                </property>
                            </entity>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <entity name="error_emptyMT" class="ptolemy.domains.modal.modal.Refinement">
                            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                                <property name="timeResolution" class="ptolemy.actor.parameters.SharedParameter" value="1E-10">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-55.0, -500.0]">
                                </property>
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.1940298507463">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{143.25, -360.5}">
                            </property>
                            <port name="Altitude" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -430.0]">
                                </property>
                            </port>
                            <port name="LMT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -350.0]">
                                </property>
                            </port>
                            <port name="LFT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -310.0]">
                                </property>
                            </port>
                            <port name="LMT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, -385.0]">
                                </property>
                            </port>
                            <port name="LMT2TT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, -325.0]">
                                </property>
                            </port>
                            <port name="TT2LFT" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, -265.0]">
                                </property>
                            </port>
                            <port name="TT_level" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -265.0]">
                                </property>
                            </port>
                            <port name="TT_error" class="ptolemy.domains.modal.modal.RefinementPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, -205.0]">
                                </property>
                            </port>
                            <entity name="Const" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{15, -390}">
                                </property>
                            </entity>
                            <entity name="Const2" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, -325.0]">
                                </property>
                            </entity>
                            <entity name="Const3" class="ptolemy.actor.lib.Const">
                                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                                </property>
                                <doc>Create a constant sequence.</doc>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, -260.0}">
                                </property>
                            </entity>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="LMT2LFT" relation="relation"/>
                            <link port="LMT2TT" relation="relation2"/>
                            <link port="TT2LFT" relation="relation3"/>
                            <link port="Const.output" relation="relation"/>
                            <link port="Const2.output" relation="relation2"/>
                            <link port="Const3.output" relation="relation3"/>
                        </entity>
                        <relation name="AltitudeRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="LMT_levelRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="LFT_levelRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="LMT2LFTRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="LMT2TTRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="TT2LFTRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="TT_levelRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <relation name="TT_errorRelation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                            </property>
                        </relation>
                        <link port="Altitude" relation="AltitudeRelation"/>
                        <link port="LMT_level" relation="LMT_levelRelation"/>
                        <link port="LFT_level" relation="LFT_levelRelation"/>
                        <link port="LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="LMT2TT" relation="LMT2TTRelation"/>
                        <link port="TT2LFT" relation="TT2LFTRelation"/>
                        <link port="TT_level" relation="TT_levelRelation"/>
                        <link port="TT_error" relation="TT_errorRelation"/>
                        <link port="_Controller.Altitude" relation="AltitudeRelation"/>
                        <link port="_Controller.LMT_level" relation="LMT_levelRelation"/>
                        <link port="_Controller.LFT_level" relation="LFT_levelRelation"/>
                        <link port="_Controller.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="_Controller.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="_Controller.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="_Controller.TT_level" relation="TT_levelRelation"/>
                        <link port="_Controller.TT_error" relation="TT_errorRelation"/>
                        <link port="TT_errorReceived.Altitude" relation="AltitudeRelation"/>
                        <link port="TT_errorReceived.LMT_level" relation="LMT_levelRelation"/>
                        <link port="TT_errorReceived.LFT_level" relation="LFT_levelRelation"/>
                        <link port="TT_errorReceived.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="TT_errorReceived.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="TT_errorReceived.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="TT_errorReceived.TT_level" relation="TT_levelRelation"/>
                        <link port="TT_errorReceived.TT_error" relation="TT_errorRelation"/>
                        <link port="error_lowFT.Altitude" relation="AltitudeRelation"/>
                        <link port="error_lowFT.LMT_level" relation="LMT_levelRelation"/>
                        <link port="error_lowFT.LFT_level" relation="LFT_levelRelation"/>
                        <link port="error_lowFT.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="error_lowFT.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="error_lowFT.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="error_lowFT.TT_level" relation="TT_levelRelation"/>
                        <link port="error_lowFT.TT_error" relation="TT_errorRelation"/>
                        <link port="error_emptyMT.Altitude" relation="AltitudeRelation"/>
                        <link port="error_emptyMT.LMT_level" relation="LMT_levelRelation"/>
                        <link port="error_emptyMT.LFT_level" relation="LFT_levelRelation"/>
                        <link port="error_emptyMT.LMT2LFT" relation="LMT2LFTRelation"/>
                        <link port="error_emptyMT.LMT2TT" relation="LMT2TTRelation"/>
                        <link port="error_emptyMT.TT2LFT" relation="TT2LFTRelation"/>
                        <link port="error_emptyMT.TT_level" relation="TT_levelRelation"/>
                        <link port="error_emptyMT.TT_error" relation="TT_errorRelation"/>
                    </entity>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <link port="Altitude" relation="relation"/>
                    <link port="LMT_level" relation="relation2"/>
                    <link port="LFT_level" relation="relation3"/>
                    <link port="LMT2LFT" relation="relation6"/>
                    <link port="LMT2TT" relation="relation7"/>
                    <link port="TT2LFT" relation="relation8"/>
                    <link port="TT_level" relation="relation4"/>
                    <link port="TT_error" relation="relation5"/>
                    <link port="ModalModel.Altitude" relation="relation"/>
                    <link port="ModalModel.LMT_level" relation="relation2"/>
                    <link port="ModalModel.LFT_level" relation="relation3"/>
                    <link port="ModalModel.LMT2LFT" relation="relation6"/>
                    <link port="ModalModel.LMT2TT" relation="relation7"/>
                    <link port="ModalModel.TT2LFT" relation="relation8"/>
                    <link port="ModalModel.TT_level" relation="relation4"/>
                    <link port="ModalModel.TT_error" relation="relation5"/>
                </entity>
                <relation name="AltitudeRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="LMT_levelRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="LFT_levelRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="LMT2LFTRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="LMT2TTRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="TT2LFTRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="TT_levelRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="TT_errorRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <link port="Altitude" relation="AltitudeRelation"/>
                <link port="LMT_level" relation="LMT_levelRelation"/>
                <link port="LFT_level" relation="LFT_levelRelation"/>
                <link port="LMT2LFT" relation="LMT2LFTRelation"/>
                <link port="LMT2TT" relation="LMT2TTRelation"/>
                <link port="TT2LFT" relation="TT2LFTRelation"/>
                <link port="TT_level" relation="TT_levelRelation"/>
                <link port="TT_error" relation="TT_errorRelation"/>
                <link port="_Controller.Altitude" relation="AltitudeRelation"/>
                <link port="_Controller.LMT_level" relation="LMT_levelRelation"/>
                <link port="_Controller.LFT_level" relation="LFT_levelRelation"/>
                <link port="_Controller.LMT2LFT" relation="LMT2LFTRelation"/>
                <link port="_Controller.LMT2TT" relation="LMT2TTRelation"/>
                <link port="_Controller.TT2LFT" relation="TT2LFTRelation"/>
                <link port="_Controller.TT_level" relation="TT_levelRelation"/>
                <link port="_Controller.TT_error" relation="TT_errorRelation"/>
                <link port="normal.Altitude" relation="AltitudeRelation"/>
                <link port="normal.LMT_level" relation="LMT_levelRelation"/>
                <link port="normal.LFT_level" relation="LFT_levelRelation"/>
                <link port="normal.LMT2LFT" relation="LMT2LFTRelation"/>
                <link port="normal.LMT2TT" relation="LMT2TTRelation"/>
                <link port="normal.TT2LFT" relation="TT2LFTRelation"/>
                <link port="normal.TT_level" relation="TT_levelRelation"/>
                <link port="normal.TT_error" relation="TT_errorRelation"/>
                <link port="errorState.Altitude" relation="AltitudeRelation"/>
                <link port="errorState.LMT_level" relation="LMT_levelRelation"/>
                <link port="errorState.LFT_level" relation="LFT_levelRelation"/>
                <link port="errorState.LMT2LFT" relation="LMT2LFTRelation"/>
                <link port="errorState.LMT2TT" relation="LMT2TTRelation"/>
                <link port="errorState.TT2LFT" relation="TT2LFTRelation"/>
                <link port="errorState.TT_level" relation="TT_levelRelation"/>
                <link port="errorState.TT_error" relation="TT_errorRelation"/>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="Altitude" relation="relation4"/>
            <link port="LMT_level" relation="relation5"/>
            <link port="LFT_level" relation="relation6"/>
            <link port="TT_level" relation="relation7"/>
            <link port="TT_error" relation="relation8"/>
            <link port="LMT2LFT" relation="relation"/>
            <link port="LMT2TT" relation="relation2"/>
            <link port="TT2LFT" relation="relation3"/>
            <link port="LeftFuelTransfer.Altitude" relation="relation4"/>
            <link port="LeftFuelTransfer.LMT_level" relation="relation5"/>
            <link port="LeftFuelTransfer.LFT_level" relation="relation6"/>
            <link port="LeftFuelTransfer.LMT2LFT" relation="relation"/>
            <link port="LeftFuelTransfer.LMT2TT" relation="relation2"/>
            <link port="LeftFuelTransfer.TT2LFT" relation="relation3"/>
            <link port="LeftFuelTransfer.TT_level" relation="relation7"/>
            <link port="LeftFuelTransfer.TT_error" relation="relation8"/>
        </entity>
        <entity name="WatchdogClock" class="ptolemy.actor.lib.DiscreteClock">
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="30">
            </property>
            <property name="period" class="ptolemy.actor.parameters.PortParameter" value="1/sampleRate">
            </property>
            <property name="offsets" class="ptolemy.data.expr.Parameter" value="{0.0}">
            </property>
            <property name="values" class="ptolemy.data.expr.Parameter" value="{1}">
            </property>
            <doc>Create periodic timed events.</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 305.0]">
            </property>
        </entity>
        <entity name="LMT2LFT_plus_LMT2TT" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[450.3332214355469, 13.50030517578125]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[420.0, 225.0]">
            </vertex>
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[295.0, 185.0]">
            </vertex>
        </relation>
        <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[45.0, 125.0]">
            </vertex>
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[-85.0, 205.0]">
            </vertex>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="{-85.0, 365.0}">
            </vertex>
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{510.0, 75.0}">
            </vertex>
        </relation>
        <link port="TT_aInFlow" relation="relation3"/>
        <link port="TT_level" relation="relation19"/>
        <link port="LMT_level" relation="relation4"/>
        <link port="LFT_level" relation="relation5"/>
        <link port="TT_aOutFlow" relation="relation6"/>
        <link port="TT_dOutFlow" relation="relation8"/>
        <link port="TT_dInFlow" relation="relation9"/>
        <link port="LMT_aOutFlow" relation="relation12"/>
        <link port="LMT_dOutFlow" relation="relation11"/>
        <link port="LFT_dOutFlow" relation="relation14"/>
        <link port="LFT_dInFlow" relation="relation15"/>
        <link port="FuelConsumption.LE_consumption" relation="relation14"/>
        <link port="FuelConsumption.Altitude" relation="relation18"/>
        <link port="AltitudeConst.output" relation="relation"/>
        <link port="Integrator.derivative" relation="relation"/>
        <link port="Integrator.state" relation="relation18"/>
        <link port="actualOutFlowTT.actualOutFlow" relation="relation6"/>
        <link port="actualOutFlowTT.desiredOutFlow" relation="relation8"/>
        <link port="actualOutFlowTT.level" relation="relation10"/>
        <link port="LMT2LFT_plus_TT2LFT.plus" relation="relation11"/>
        <link port="LMT2LFT_plus_TT2LFT.plus" relation="relation8"/>
        <link port="LMT2LFT_plus_TT2LFT.output" relation="relation15"/>
        <link port="WatchdogTT.sensor" relation="relation19"/>
        <link port="WatchdogTT.clock" relation="relation2"/>
        <link port="WatchdogTT.error" relation="relation7"/>
        <link port="FuelTransfer.Altitude" relation="relation18"/>
        <link port="FuelTransfer.LMT_level" relation="relation4"/>
        <link port="FuelTransfer.LFT_level" relation="relation5"/>
        <link port="FuelTransfer.TT_level" relation="relation19"/>
        <link port="FuelTransfer.TT_error" relation="relation7"/>
        <link port="FuelTransfer.LMT2LFT" relation="relation11"/>
        <link port="FuelTransfer.LMT2TT" relation="relation9"/>
        <link port="FuelTransfer.TT2LFT" relation="relation8"/>
        <link port="WatchdogClock.output" relation="relation2"/>
        <link port="LMT2LFT_plus_LMT2TT.plus" relation="relation3"/>
        <link port="LMT2LFT_plus_LMT2TT.plus" relation="relation11"/>
        <link port="LMT2LFT_plus_LMT2TT.output" relation="relation12"/>
        <link relation1="relation19" relation2="relation10"/>
    </entity>
    <entity name="ConfigurationSwitch" class="ptolemy.actor.lib.ConfigurationSwitch">
        <property name="selector" class="ptolemy.actor.parameters.PortParameter" value="sensorWorking">
            <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                </property>
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 180.0]">
        </property>
        <port name="trueOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="multiport"/>
            <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </port>
        <port name="falseOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="multiport"/>
            <property name="tokenProductionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
        </port>
    </entity>
    <entity name="Discard" class="ptolemy.actor.lib.Discard">
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 230.0]">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
            </property>
        </port>
    </entity>
    <entity name="FaultGenerator" class="ptolemy.actor.lib.DiscreteClock">
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="Infinity">
        </property>
        <property name="period" class="ptolemy.actor.parameters.PortParameter" value="30.0">
        </property>
        <property name="offsets" class="ptolemy.data.expr.Parameter" value="{0.0, 10.0}">
        </property>
        <property name="values" class="ptolemy.data.expr.Parameter" value="{true, false}">
        </property>
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[545.0, 85.0]">
        </property>
    </entity>
    <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="sensorWorking">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 85.0]">
        </property>
    </entity>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[455.0, 265.0]">
        </vertex>
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[300.0, 190.0]">
        </vertex>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[385.0, 130.0]">
        </vertex>
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[400.0, 115.0]">
        </vertex>
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[105.0, 200.0]">
        </vertex>
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[95.0, 190.0]">
        </vertex>
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[85.0, 180.0]">
        </vertex>
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[75.0, 170.0]">
        </vertex>
    </relation>
    <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[65.0, 160.0]">
        </vertex>
    </relation>
    <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[55.0, 150.0]">
        </vertex>
    </relation>
    <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[45.0, 140.0]">
        </vertex>
    </relation>
    <relation name="relation16" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[105.0, 245.0]">
        </vertex>
    </relation>
    <relation name="relation17" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[95.0, 255.0]">
        </vertex>
    </relation>
    <relation name="relation18" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[85.0, 265.0]">
        </vertex>
    </relation>
    <relation name="relation19" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[75.0, 275.0]">
        </vertex>
    </relation>
    <relation name="relation20" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[65.0, 285.0]">
        </vertex>
    </relation>
    <relation name="relation21" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[55.0, 295.0]">
        </vertex>
    </relation>
    <relation name="relation22" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[45.0, 305.0]">
        </vertex>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="TimedPlotter2.input" relation="relation8"/>
    <link port="TimedPlotter2.input" relation="relation7"/>
    <link port="TimedPlotter2.input" relation="relation"/>
    <link port="Plant.LFT_dInFlow" relation="relation15"/>
    <link port="Plant.LFT_dOutFlow" relation="relation14"/>
    <link port="Plant.LFT_level" relation="relation8"/>
    <link port="Plant.LMT_dOutFlow" relation="relation13"/>
    <link port="Plant.LMT_aOutFlow" relation="relation12"/>
    <link port="Plant.LMT_level" relation="relation7"/>
    <link port="Plant.TT_dInFlow" relation="relation11"/>
    <link port="Plant.TT_dOutFlow" relation="relation10"/>
    <link port="Plant.TT_level" relation="relation3"/>
    <link port="Plant.TT_aInFlow" relation="relation2"/>
    <link port="Plant.TT_aOutFlow" relation="relation9"/>
    <link port="Controller.TT_aInFlow" relation="relation2"/>
    <link port="Controller.TT_level" relation="relation"/>
    <link port="Controller.LMT_level" relation="relation7"/>
    <link port="Controller.LFT_level" relation="relation8"/>
    <link port="Controller.TT_aOutFlow" relation="relation16"/>
    <link port="Controller.TT_dOutFlow" relation="relation17"/>
    <link port="Controller.TT_dInFlow" relation="relation18"/>
    <link port="Controller.LMT_aOutFlow" relation="relation19"/>
    <link port="Controller.LMT_dOutFlow" relation="relation20"/>
    <link port="Controller.LFT_dOutFlow" relation="relation21"/>
    <link port="Controller.LFT_dInFlow" relation="relation22"/>
    <link port="ConfigurationSwitch.input" relation="relation3"/>
    <link port="ConfigurationSwitch.trueOutput" relation="relation"/>
    <link port="ConfigurationSwitch.falseOutput" relation="relation4"/>
    <link port="Discard.input" relation="relation4"/>
    <link port="FaultGenerator.output" relation="relation6"/>
    <link port="SetVariable.input" relation="relation6"/>
    <link relation1="relation9" relation2="relation16"/>
    <link relation1="relation10" relation2="relation17"/>
    <link relation1="relation11" relation2="relation18"/>
    <link relation1="relation12" relation2="relation19"/>
    <link relation1="relation13" relation2="relation20"/>
    <link relation1="relation14" relation2="relation21"/>
    <link relation1="relation15" relation2="relation22"/>
</entity>
