<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="CarTrackingAttackModeling" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="10.0.devel">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={7, 36, 1248, 732}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1014, 622]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.9333387803272737">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{407.2832031249999, 268.8857460781872}">
    </property>
    <property name="Annotation6" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This model shows a simple adaptive cruise control system,&#10;illustrating model-integrated control strategies. A leading&#10;car model produces information that is observed with possible&#10;flaws by a following car. If the following car detects flaws, it&#10;uses a conservative strategy. Otherwise, it tracks the leading&#10;car closely.">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 290.0]">
        </property>
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="200.0">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 35.0]">
        </property>
    </property>
    <property name="enableBackwardTypeInference" class="ptolemy.data.expr.Parameter" value="true">
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="To use the model, switch the aspects &#10;in the relation between the LeadingCar &#10;and the FollowingCar:&#10;&#10;1. Right-click on the FollowingCar input &#10;    port&#10;2. Customize -&gt; Configure&#10;3. Enable one of the four Attack Models &#10;    by ticking the box and setting the &#10;    inputPort to 'in'.">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[560.0, 10.0]">
        </property>
        <property name="_expertMode" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
    </property>
    <entity name="Position" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="automaticRescale" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="leading car, normal, man in the middle, fabrication, interruption, replay">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-1129, 281, 522, 343}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[522, 299]">
        </property>
        <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="disconnectGraphOnAbsentValue" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="useLocalTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 265.0]">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.XMLIcon">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="DecoratorAttributesFor_ManInTheMiddleAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ManInTheMiddleAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
            <property name="DecoratorAttributesFor_FabricationAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="FabricationAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
            <property name="DecoratorAttributesFor_InterruptionAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="InterruptionAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
            <property name="DecoratorAttributesFor_InterruptionAttack2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ReplayAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
        </port>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Position</title>
<xLabel>time (seconds)</xLabel>
<yLabel>distance (meters)</yLabel>
<xRange min="0.0" max="200.0"/>
<yRange min="0.0" max="3746.239461898263"/>
</plot>?>
        </configure>
    </entity>
    <entity name="LeadingCar" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 155.0]">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="textSize" class="ptolemy.data.expr.Parameter" value="12">
            </property>
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Simulate the&#10;driver of the&#10;leading car.&#10;Output is the &#10;driver's&#10;desired speed.">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, 320.0]">
            </property>
        </property>
        <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="textSize" class="ptolemy.data.expr.Parameter" value="12">
            </property>
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Simulate a car&#10;that matches&#10;the desired speed&#10;using feedback&#10;control with a&#10;specified time&#10;constant.">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 340.0]">
            </property>
        </property>
        <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 125.0]">
            </property>
        </property>
        <port name="position" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 255.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
        </port>
        <port name="speed" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 195.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="desiredSpeed" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 195.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="DecoratorAttributesFor_ManInTheMiddleAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ManInTheMiddleAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
            <property name="DecoratorAttributesFor_FabricationAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="FabricationAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
            <property name="DecoratorAttributesFor_InterruptionAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="InterruptionAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
            <property name="DecoratorAttributesFor_InterruptionAttack2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ReplayAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
        </port>
        <entity name="Car Model" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, 195.0]">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[619, 409]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[-4, -4]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={446, 124, 788, 328}, maximized=false}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.XMLIcon">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{309.5, 204.5}">
            </property>
            <property name="Annotation6" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Car simulator. This model takes as input a desired speed and implements a &#10;simple proportional controller with the specified loop gain to achieve that speed. &#10;It outputs the acceleration, speed, and position of the car.">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 270.0]">
                </property>
            </property>
            <property name="initialPosition" class="ptolemy.data.expr.Parameter" value="10.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[260.0, 195.0]">
                </property>
            </property>
            <property name="initialSpeed" class="ptolemy.data.expr.Parameter" value="0.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[395.0, 80.0]">
                </property>
            </property>
            <property name="timeConstant" class="ptolemy.data.expr.Parameter" value="1.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 120.0]">
                </property>
            </property>
            <port name="desiredSpeed" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 30.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[488.0, 50.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="speed" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 135.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="position" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 180.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="Subtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 40.0]">
                </property>
            </entity>
            <entity name="MultiplyDivide4" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[250.0, 50.0]">
                </property>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="timeConstant">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[165.0, 90.0]">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
            </entity>
            <entity name="Integrator2" class="ptolemy.domains.continuous.lib.Integrator">
                <property name="initialState" class="ptolemy.actor.parameters.PortParameter" value="initialPosition">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[422.0, 180.0]">
                </property>
            </entity>
            <entity name="Integrator" class="ptolemy.domains.continuous.lib.Integrator">
                <property name="initialState" class="ptolemy.actor.parameters.PortParameter" value="initialSpeed">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[337.0, 95.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="[387.0, 135.0]">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="relation27" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                </property>
                <vertex name="vertex1" value="[297.0, 50.0]">
                </vertex>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="desiredSpeed" relation="relation5"/>
            <link port="acceleration" relation="relation27"/>
            <link port="speed" relation="relation"/>
            <link port="position" relation="relation3"/>
            <link port="Subtract.plus" relation="relation5"/>
            <link port="Subtract.minus" relation="relation"/>
            <link port="Subtract.output" relation="relation4"/>
            <link port="MultiplyDivide4.multiply" relation="relation4"/>
            <link port="MultiplyDivide4.divide" relation="relation6"/>
            <link port="MultiplyDivide4.output" relation="relation27"/>
            <link port="Const.output" relation="relation6"/>
            <link port="Integrator2.derivative" relation="relation"/>
            <link port="Integrator2.state" relation="relation3"/>
            <link port="Integrator.derivative" relation="relation27"/>
            <link port="Integrator.state" relation="relation"/>
        </entity>
        <entity name="PeriodicSampler" class="ptolemy.domains.continuous.lib.PeriodicSampler">
            <property name="samplePeriod" class="ptolemy.data.expr.Parameter" value="0.1">
            </property>
            <property name="microstep" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 195.0]">
            </property>
        </entity>
        <entity name="ZeroOrderHold" class="ptolemy.domains.continuous.lib.ZeroOrderHold">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 195.0]">
            </property>
        </entity>
        <entity name="PeriodicSampler2" class="ptolemy.domains.continuous.lib.PeriodicSampler">
            <property name="samplePeriod" class="ptolemy.data.expr.Parameter" value="0.1">
            </property>
            <property name="microstep" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[387.0, 254.89453125]">
            </property>
        </entity>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="position" relation="relation"/>
        <link port="speed" relation="relation3"/>
        <link port="desiredSpeed" relation="relation2"/>
        <link port="Car Model.desiredSpeed" relation="relation8"/>
        <link port="Car Model.speed" relation="relation4"/>
        <link port="Car Model.position" relation="relation5"/>
        <link port="PeriodicSampler.input" relation="relation4"/>
        <link port="PeriodicSampler.output" relation="relation3"/>
        <link port="ZeroOrderHold.input" relation="relation2"/>
        <link port="ZeroOrderHold.output" relation="relation8"/>
        <link port="PeriodicSampler2.input" relation="relation5"/>
        <link port="PeriodicSampler2.output" relation="relation"/>
    </entity>
    <entity name="Speed" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="automaticRescale" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="leading car, following car">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-1169, 281, 522, 343}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[522, 299]">
        </property>
        <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="disconnectGraphOnAbsentValue" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="useLocalTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 115.0]">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.XMLIcon">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="DecoratorAttributesFor_ManInTheMiddleAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ManInTheMiddleAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
            <property name="DecoratorAttributesFor_FabricationAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="FabricationAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
            <property name="DecoratorAttributesFor_InterruptionAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="InterruptionAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
            <property name="DecoratorAttributesFor_InterruptionAttack2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ReplayAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
        </port>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Position</title>
<xLabel>time (seconds)</xLabel>
<yLabel>distance (meters)</yLabel>
<xRange min="0.0" max="200.0"/>
<yRange min="0.0" max="50.0"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Urban Driving Cycle" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 105.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={137, 35, 1055, 638}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[821, 528]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{282.1816603535353, 143.5099431818182}">
        </property>
        <port name="desiredSpeed" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[212.5, -40.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="DiscreteClock" class="ptolemy.actor.lib.DiscreteClock">
            <property name="period" class="ptolemy.actor.parameters.PortParameter" value="200.0">
            </property>
            <property name="offsets" class="ptolemy.data.expr.Parameter" value="{0.0, 11.0, 23, 49, 85, 117, 155, 168}">
            </property>
            <property name="values" class="ptolemy.data.expr.Parameter" value="{0.0, 15.0, 0.0, 32.0, 0.0, 50.0, 35.0, 0.0}">
            </property>
            <doc>Create periodic timed events.</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-27.5, -40.0]">
            </property>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="DecoratorAttributesFor_ManInTheMiddleAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ManInTheMiddleAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_InterruptionAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="InterruptionAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_FabricationAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="FabricationAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_InterruptionAttack2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ReplayAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="period" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_ManInTheMiddleAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ManInTheMiddleAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_InterruptionAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="InterruptionAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_FabricationAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="FabricationAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_InterruptionAttack2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ReplayAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="start" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_ManInTheMiddleAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ManInTheMiddleAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_InterruptionAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="InterruptionAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_FabricationAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="FabricationAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_InterruptionAttack2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ReplayAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="stop" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_ManInTheMiddleAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ManInTheMiddleAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_InterruptionAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="InterruptionAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_FabricationAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="FabricationAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
                <property name="DecoratorAttributesFor_InterruptionAttack2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ReplayAttack">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="desiredSpeed" relation="relation"/>
        <link port="DiscreteClock.output" relation="relation"/>
    </entity>
    <entity name="FollowingCar" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 195.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={321, 33, 1119, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[885, 404]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{442.5, 202.0}">
        </property>
        <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 35.0]">
            </property>
        </property>
        <port name="leadingCarSpeed" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 105.0]">
            </property>
            <property name="DecoratorAttributesFor_ManInTheMiddleAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ManInTheMiddleAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="in">
                </property>
            </property>
            <property name="DecoratorAttributesFor_FabricationAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="FabricationAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="in">
                </property>
            </property>
            <property name="DecoratorAttributesFor_InterruptionAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="InterruptionAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
            <property name="_showInfo" class="ptolemy.kernel.util.StringAttribute" value="Aspects: ManInTheMiddleAttack">
            </property>
            <property name="DecoratorAttributesFor_InterruptionAttack2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ReplayAttack">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                </property>
            </property>
        </port>
        <port name="speed" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[440.0, 110.0]">
            </property>
        </port>
        <port name="position" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[440.0, 150.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
        </port>
        <entity name="Car Model" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[315.0, 105.0]">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[619, 409]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[-4, -4]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={98, 146, 853, 634}, maximized=false}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.XMLIcon">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{309.5, 204.5}">
            </property>
            <property name="Annotation6" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Car simulator. This model takes as input a desired speed and implements a &#10;simple proportional controller with the specified loop gain to achieve that speed. &#10;It outputs the acceleration, speed, and position of the car.">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 270.0]">
                </property>
            </property>
            <property name="initialPosition" class="ptolemy.data.expr.Parameter" value="0.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 20.0]">
                </property>
            </property>
            <property name="initialSpeed" class="ptolemy.data.expr.Parameter" value="0.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 40.0]">
                </property>
            </property>
            <property name="timeConstant" class="ptolemy.data.expr.Parameter" value="1.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[320.0, 20.0]">
                </property>
            </property>
            <property name="Constraint" class="ptolemy.data.ontologies.OntologyAnnotationAttribute" value="timeConstant &gt;= Time">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 0.0, 0.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure><svg><text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text></svg></configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[320.0, 45.0]">
                </property>
            </property>
            <port name="desiredSpeed" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 45.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[495.0, 105.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="speed" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[495.0, 165.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="position" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{495.0, 230.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="Subtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 95.0]">
                </property>
            </entity>
            <entity name="MultiplyDivide4" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 105.0]">
                </property>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="timeConstant">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 145.0]">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
            </entity>
            <entity name="Integrator2" class="ptolemy.domains.continuous.lib.Integrator">
                <property name="initialState" class="ptolemy.actor.parameters.PortParameter" value="initialPosition">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[395.0, 230.0]">
                </property>
            </entity>
            <entity name="Integrator" class="ptolemy.domains.continuous.lib.Integrator">
                <property name="initialState" class="ptolemy.actor.parameters.PortParameter" value="initialSpeed">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{300.0, 150.0}">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="[350.0, 190.0]">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="relation27" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                </property>
                <vertex name="vertex1" value="[260.0, 105.0]">
                </vertex>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="desiredSpeed" relation="relation5"/>
            <link port="acceleration" relation="relation27"/>
            <link port="speed" relation="relation"/>
            <link port="position" relation="relation3"/>
            <link port="Subtract.plus" relation="relation5"/>
            <link port="Subtract.minus" relation="relation"/>
            <link port="Subtract.output" relation="relation4"/>
            <link port="MultiplyDivide4.multiply" relation="relation4"/>
            <link port="MultiplyDivide4.divide" relation="relation6"/>
            <link port="MultiplyDivide4.output" relation="relation27"/>
            <link port="Const.output" relation="relation6"/>
            <link port="Integrator2.derivative" relation="relation"/>
            <link port="Integrator2.state" relation="relation3"/>
            <link port="Integrator.derivative" relation="relation27"/>
            <link port="Integrator.state" relation="relation"/>
        </entity>
        <entity name="ZeroOrderHold" class="ptolemy.domains.continuous.lib.ZeroOrderHold">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 105.0]">
            </property>
        </entity>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leadingCarSpeed" relation="relation"/>
        <link port="speed" relation="relation6"/>
        <link port="position" relation="relation7"/>
        <link port="Car Model.desiredSpeed" relation="relation2"/>
        <link port="Car Model.speed" relation="relation6"/>
        <link port="Car Model.position" relation="relation7"/>
        <link port="ZeroOrderHold.input" relation="relation"/>
        <link port="ZeroOrderHold.output" relation="relation2"/>
    </entity>
    <entity name="ManInTheMiddleAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect">
        <property name="decoratorHighlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.2,0.8,1.0,1.0}">
        </property>
        <property name="CompositeQMIcon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[12.0, 3.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={193, 266, 934, 634}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
            </property>
            <property name="rectangle3" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, -0.5">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="56.0">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="35.0">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line10" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, -3.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-3.0, -2.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-12.0, -5.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="9.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, -5.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="9.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse6" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 7.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.2,0.2,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse4" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-17.0, -5.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.8,0.8,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse5" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, -5.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.8,0.8,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[94.5, 30.0]">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[355.0, 40.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={283, 39, 934, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0890997539907148">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{341.775390625, 233.1563519021738}">
        </property>
        <property name="attackStart" class="ptolemy.data.expr.Parameter" value="20">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[184.5, 25.0]">
            </property>
        </property>
        <property name="attackEnd" class="ptolemy.data.expr.Parameter" value="40">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[319.5, 25.0]">
            </property>
        </property>
        <entity name="in" class="ptolemy.actor.lib.aspect.CommunicationRequestPort">
            <property name="value" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[49.5, 100.0]">
            </property>
        </entity>
        <entity name="out" class="ptolemy.actor.lib.aspect.CommunicationResponsePort">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[554.5, 100.0]">
            </property>
        </entity>
        <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[124.5, 80.0]">
            </property>
            <port name="receiver" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="token" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[429.5, 80.0]">
            </property>
            <port name="receiver" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="token" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[259.5, 155.0]">
            </property>
            <port name="input" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
            </port>
            <port name="attackStart" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="attackEnd" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                </property>
                <port name="input" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-325.0, -155.0}">
                    </property>
                </port>
                <port name="output" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-55.0, -155.0]">
                    </property>
                </port>
                <port name="attackStart" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-325.0, -115.0]">
                    </property>
                </port>
                <port name="attackEnd" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-325.0, -75.0]">
                    </property>
                </port>
                <entity name="normal" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="normal">
                    </property>
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, -110.0]">
                    </property>
                </entity>
                <entity name="attack" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="attack">
                    </property>
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-95.0, -110.0}">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="attackStart_isPresent">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.641217016661413">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="attackEnd_isPresent">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.617898647089942">
                    </property>
                </relation>
                <link port="normal.incomingPort" relation="relation2"/>
                <link port="normal.outgoingPort" relation="relation"/>
                <link port="attack.incomingPort" relation="relation"/>
                <link port="attack.outgoingPort" relation="relation2"/>
            </entity>
            <entity name="normal" class="ptolemy.domains.modal.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-270, -100}">
                    </property>
                </property>
                <port name="input" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-305.0, -45.0]">
                    </property>
                </port>
                <port name="output" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-210.0, -45.0]">
                    </property>
                </port>
                <port name="attackStart" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-305.0, 0.0]">
                    </property>
                </port>
                <port name="attackEnd" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-305.0, 40.0]">
                    </property>
                </port>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="input" relation="relation"/>
                <link port="output" relation="relation"/>
            </entity>
            <entity name="attack" class="ptolemy.domains.modal.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-285.0, -105.0]">
                    </property>
                </property>
                <property name="manipulate_expr" class="ptolemy.data.expr.Parameter" value="6">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-210.0, -105.0]">
                    </property>
                </property>
                <port name="input" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-325.0, -40.0]">
                    </property>
                </port>
                <port name="output" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-90.0, -40.0]">
                    </property>
                </port>
                <port name="attackStart" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-325.0, 0.0]">
                    </property>
                </port>
                <port name="attackEnd" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-325.0, 40.0]">
                    </property>
                </port>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="manipulate_expr">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-200.0, -40.0}">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="input" relation="relation"/>
                <link port="output" relation="relation2"/>
                <link port="Const.output" relation="relation2"/>
                <link port="Const.trigger" relation="relation"/>
            </entity>
            <relation name="inputRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="outputRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="attackStartRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="attackEndRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="input" relation="inputRelation"/>
            <link port="output" relation="outputRelation"/>
            <link port="attackStart" relation="attackStartRelation"/>
            <link port="attackEnd" relation="attackEndRelation"/>
            <link port="_Controller.input" relation="inputRelation"/>
            <link port="_Controller.output" relation="outputRelation"/>
            <link port="_Controller.attackStart" relation="attackStartRelation"/>
            <link port="_Controller.attackEnd" relation="attackEndRelation"/>
            <link port="normal.input" relation="inputRelation"/>
            <link port="normal.output" relation="outputRelation"/>
            <link port="normal.attackStart" relation="attackStartRelation"/>
            <link port="normal.attackEnd" relation="attackEndRelation"/>
            <link port="attack.input" relation="inputRelation"/>
            <link port="attack.output" relation="outputRelation"/>
            <link port="attack.attackStart" relation="attackStartRelation"/>
            <link port="attack.attackEnd" relation="attackEndRelation"/>
        </entity>
        <entity name="AttackStartEvent" class="ptolemy.actor.lib.SingleEvent">
            <property name="time" class="ptolemy.data.expr.Parameter" value="attackStart">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[174.5, 225.0]">
            </property>
        </entity>
        <entity name="AttackEndEvent" class="ptolemy.actor.lib.SingleEvent">
            <property name="time" class="ptolemy.data.expr.Parameter" value="attackEnd">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[174.5, 285.0]">
            </property>
        </entity>
        <entity name="Register" class="ptolemy.domains.de.lib.Register">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[339.5, 90.0]">
            </property>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[339.5, 155.0]">
            </vertex>
        </relation>
        <link port="in.output" relation="relation4"/>
        <link port="out.input" relation="relation2"/>
        <link port="RecordDisassembler.input" relation="relation4"/>
        <link port="RecordDisassembler.receiver" relation="relation3"/>
        <link port="RecordDisassembler.token" relation="relation8"/>
        <link port="RecordAssembler.output" relation="relation2"/>
        <link port="RecordAssembler.receiver" relation="relation"/>
        <link port="RecordAssembler.token" relation="relation5"/>
        <link port="ModalModel.input" relation="relation8"/>
        <link port="ModalModel.output" relation="relation5"/>
        <link port="ModalModel.attackStart" relation="relation9"/>
        <link port="ModalModel.attackEnd" relation="relation10"/>
        <link port="AttackStartEvent.output" relation="relation9"/>
        <link port="AttackEndEvent.output" relation="relation10"/>
        <link port="Register.input" relation="relation3"/>
        <link port="Register.output" relation="relation"/>
        <link port="Register.trigger" relation="relation5"/>
    </entity>
    <entity name="FabricationAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect">
        <property name="decoratorHighlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.8,0.2,1.0}">
        </property>
        <property name="CompositeQMIcon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[12.0, 3.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={193, 266, 934, 634}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
            </property>
            <property name="rectangle3" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, -0.5">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="56.0">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="35.0">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line10" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, -5.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, -5.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="9.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse6" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 7.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.2,0.2,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse4" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-17.0, -5.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.8,0.8,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse5" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, -5.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.8,0.8,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 55.0]">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[150.00000000000003, 40.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={342, 247, 934, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8712798031925719">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{341.775390625, 233.1563519021738}">
        </property>
        <entity name="in" class="ptolemy.actor.lib.aspect.CommunicationRequestPort">
            <property name="value" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.333984375, 120.0]">
            </property>
        </entity>
        <entity name="out" class="ptolemy.actor.lib.aspect.CommunicationResponsePort">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[471.666015625, 120.0]">
            </property>
        </entity>
        <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[21.666015625, 100.0]">
            </property>
            <port name="receiver" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="token" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[341.666015625, 100.0]">
            </property>
            <port name="receiver" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="token" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Register" class="ptolemy.domains.de.lib.Register">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[275.896484375, 110.0]">
            </property>
        </entity>
        <entity name="Merge" class="ptolemy.domains.de.lib.Merge">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 170.0]">
            </property>
        </entity>
        <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
            <property name="seed" class="ptolemy.actor.parameters.SharedParameter" value="1L">
            </property>
            <property name="privateSeed" class="ptolemy.data.expr.Parameter" value="1">
            </property>
            <property name="meanTime" class="ptolemy.data.expr.Parameter" value="10">
            </property>
            <property name="values" class="ptolemy.data.expr.Parameter" value="{true}">
            </property>
            <property name="fireAtStart" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 220.0]">
            </property>
        </entity>
        <entity name="Uniform" class="ptolemy.actor.lib.Uniform">
            <property name="seed" class="ptolemy.actor.parameters.SharedParameter" value="1L">
            </property>
            <property name="privateSeed" class="ptolemy.data.expr.Parameter" value="2L">
            </property>
            <property name="resetOnEachRun" class="ptolemy.actor.parameters.SharedParameter" value="true">
            </property>
            <property name="upperBound" class="ptolemy.actor.parameters.PortParameter" value="20">
            </property>
            <doc>Create a sequence of uniformly distributed random numbers</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[155.0, 230.0]">
            </property>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[275.896484375, 170.0]">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in.output" relation="relation4"/>
        <link port="out.input" relation="relation2"/>
        <link port="RecordDisassembler.input" relation="relation4"/>
        <link port="RecordDisassembler.receiver" relation="relation3"/>
        <link port="RecordDisassembler.token" relation="relation6"/>
        <link port="RecordAssembler.output" relation="relation2"/>
        <link port="RecordAssembler.receiver" relation="relation"/>
        <link port="RecordAssembler.token" relation="relation5"/>
        <link port="Register.input" relation="relation3"/>
        <link port="Register.output" relation="relation"/>
        <link port="Register.trigger" relation="relation5"/>
        <link port="Merge.input" relation="relation6"/>
        <link port="Merge.input" relation="relation7"/>
        <link port="Merge.output" relation="relation5"/>
        <link port="PoissonClock.output" relation="relation9"/>
        <link port="Uniform.output" relation="relation7"/>
        <link port="Uniform.trigger" relation="relation9"/>
    </entity>
    <entity name="InterruptionAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect">
        <property name="decoratorHighlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,1.0,0.2,1.0}">
        </property>
        <property name="CompositeQMIcon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[12.0, 3.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={193, 266, 934, 634}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
            </property>
            <property name="rectangle3" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, -0.5">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="56.0">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="35.0">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line10" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, -3.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="y" class="ptolemy.data.expr.Parameter" value="6.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-12.0, 0.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="9.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse4" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-17.0, 0.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.8,0.8,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse5" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 0.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.8,0.8,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[93.0, 35.0]">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[240.00000000000003, 55.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={283, 266, 934, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8712798031925719">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{341.775390625, 233.1563519021738}">
        </property>
        <property name="attackStart" class="ptolemy.data.expr.Parameter" value="20">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 25.0]">
            </property>
        </property>
        <property name="attackEnd" class="ptolemy.data.expr.Parameter" value="40">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[340.0, 25.0]">
            </property>
        </property>
        <entity name="in" class="ptolemy.actor.lib.aspect.CommunicationRequestPort">
            <property name="value" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[43.0, 100.0]">
            </property>
        </entity>
        <entity name="out" class="ptolemy.actor.lib.aspect.CommunicationResponsePort">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[565.0, 130.0]">
            </property>
        </entity>
        <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[503.0, 80.0]">
            </property>
            <port name="receiver" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="token" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Register" class="ptolemy.domains.de.lib.Register">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[433.0, 90.0]">
            </property>
        </entity>
        <entity name="AttackStartEvent" class="ptolemy.actor.lib.SingleEvent">
            <property name="time" class="ptolemy.data.expr.Parameter" value="attackStart">
            </property>
            <property name="value" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[73.0, 195.0]">
            </property>
        </entity>
        <entity name="AttackEndEvent" class="ptolemy.actor.lib.SingleEvent">
            <property name="time" class="ptolemy.data.expr.Parameter" value="attackEnd">
            </property>
            <property name="value" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[73.0, 255.0]">
            </property>
        </entity>
        <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[118.0, 80.0]">
            </property>
            <port name="receiver" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="token" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Inhibit" class="ptolemy.domains.de.lib.Inhibit">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[378.0, 165.0]">
            </property>
        </entity>
        <entity name="Register2" class="ptolemy.domains.de.lib.Register">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 230.0]">
            </property>
        </entity>
        <entity name="Merge" class="ptolemy.domains.de.lib.Merge">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[168.0, 230.0]">
            </property>
        </entity>
        <entity name="TrueGate" class="ptolemy.actor.lib.logic.TrueGate">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[308.0, 230.0]">
            </property>
        </entity>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[433.0, 165.0]">
            </vertex>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[203.0, 110.0]">
            </vertex>
        </relation>
        <link port="in.output" relation="relation6"/>
        <link port="out.input" relation="relation2"/>
        <link port="RecordAssembler.output" relation="relation2"/>
        <link port="RecordAssembler.receiver" relation="relation"/>
        <link port="RecordAssembler.token" relation="relation5"/>
        <link port="Register.input" relation="relation8"/>
        <link port="Register.output" relation="relation"/>
        <link port="Register.trigger" relation="relation5"/>
        <link port="AttackStartEvent.output" relation="relation3"/>
        <link port="AttackEndEvent.output" relation="relation4"/>
        <link port="RecordDisassembler.input" relation="relation6"/>
        <link port="RecordDisassembler.receiver" relation="relation8"/>
        <link port="RecordDisassembler.token" relation="relation12"/>
        <link port="Inhibit.input" relation="relation12"/>
        <link port="Inhibit.output" relation="relation5"/>
        <link port="Inhibit.inhibit" relation="relation10"/>
        <link port="Register2.input" relation="relation7"/>
        <link port="Register2.output" relation="relation11"/>
        <link port="Register2.trigger" relation="relation12"/>
        <link port="Merge.input" relation="relation3"/>
        <link port="Merge.input" relation="relation4"/>
        <link port="Merge.output" relation="relation7"/>
        <link port="TrueGate.input" relation="relation11"/>
        <link port="TrueGate.output" relation="relation10"/>
    </entity>
    <entity name="ReplayAttack" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect">
        <property name="decoratorHighlightColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.0,1.0,1.0}">
        </property>
        <property name="CompositeQMIcon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[12.0, 3.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={193, 266, 934, 634}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
            </property>
            <property name="rectangle3" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, -0.5">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="56.0">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="35.0">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, -4.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-3.0, -3.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-12.0, -6.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="9.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="line10" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, -6.0]">
                </property>
                <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
                </property>
                <property name="x" class="ptolemy.data.expr.Parameter" value="9.0">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse4" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 6.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.2,0.2,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse5" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-17.0, -6.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.8,0.8,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="ellipse6" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[19.0, -6.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.8,0.8,0.8,1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
            <property name="rectangle4" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[8.0, -6.0]">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="4">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="8">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
                <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </property>
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[87.5, 28.625]">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[460.0, 55.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={359, 113, 934, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8712798031925719">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{341.775390625, 233.1563519021738}">
        </property>
        <property name="recordingStart" class="ptolemy.data.expr.Parameter" value="10">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[217.5, 13.625]">
            </property>
        </property>
        <property name="attackEnd" class="ptolemy.data.expr.Parameter" value="19">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[357.5, 33.625]">
            </property>
        </property>
        <property name="replayStart" class="ptolemy.data.expr.Parameter" value="15">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[217.5, 33.625]">
            </property>
        </property>
        <entity name="in" class="ptolemy.actor.lib.aspect.CommunicationRequestPort">
            <property name="value" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[44.0, 90.125]">
            </property>
        </entity>
        <entity name="out" class="ptolemy.actor.lib.aspect.CommunicationResponsePort">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[354.0, 90.125]">
            </property>
        </entity>
        <entity name="RecordingStart" class="ptolemy.actor.lib.SingleEvent">
            <property name="time" class="ptolemy.data.expr.Parameter" value="recordingStart">
            </property>
            <property name="value" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[104.0, 140.125]">
            </property>
        </entity>
        <entity name="AttackEndEvent" class="ptolemy.actor.lib.SingleEvent">
            <property name="time" class="ptolemy.data.expr.Parameter" value="attackEnd">
            </property>
            <property name="value" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[104.0, 260.125]">
            </property>
        </entity>
        <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[224.0, 90.125]">
            </property>
            <port name="recording" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="out" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
            </port>
            <port name="replaying" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="token" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
            </port>
            <port name="end" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                </property>
                <property name="recordedTokens" class="ptolemy.data.expr.Parameter" value="{}">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[460.0, 55.0]">
                    </property>
                </property>
                <port name="recording" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 85.0]">
                    </property>
                </port>
                <port name="out" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[560.0, 170.0]">
                    </property>
                </port>
                <port name="replaying" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 125.0]">
                    </property>
                </port>
                <port name="token" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 170.0]">
                    </property>
                </port>
                <port name="end" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 165.0]">
                    </property>
                </port>
                <entity name="idling" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="idling">
                    </property>
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[395.0, 74.99999566543127]">
                    </property>
                </entity>
                <entity name="recording" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="recording2">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[328.5, 136.79273587863716]">
                    </property>
                </entity>
                <entity name="replaying" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="replaying2">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[468.5, 136.79273587863716]">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="recording_isPresent">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.07267593043868">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="end_isPresent">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.6005246628962317">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="replaying_isPresent">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4686765672348279">
                    </property>
                    <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </relation>
                <link port="idling.incomingPort" relation="relation2"/>
                <link port="idling.outgoingPort" relation="relation"/>
                <link port="recording.incomingPort" relation="relation"/>
                <link port="recording.outgoingPort" relation="relation3"/>
                <link port="replaying.incomingPort" relation="relation3"/>
                <link port="replaying.outgoingPort" relation="relation2"/>
            </entity>
            <entity name="recording2" class="ptolemy.domains.modal.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[55.0, 165.0]">
                    </property>
                </property>
                <port name="recording" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 220.0]">
                    </property>
                </port>
                <port name="out" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 310.0]">
                    </property>
                </port>
                <port name="replaying" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 260.0]">
                    </property>
                </port>
                <port name="token" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 260.0]">
                    </property>
                </port>
                <port name="end" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 300.0]">
                    </property>
                </port>
                <entity name="ArrayAppend" class="ptolemy.actor.lib.ArrayAppend">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[340.0, 260.0]">
                    </property>
                </entity>
                <entity name="recordedTokens" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="recordedTokens">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 200.0]">
                    </property>
                </entity>
                <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="recordedTokens">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[450.0, 260.0]">
                    </property>
                </entity>
                <entity name="ElementsToArray" class="ptolemy.actor.lib.ElementsToArray">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[195.0, 260.0]">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[135.0, 260.0]">
                    </vertex>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="out" relation="relation3"/>
                <link port="token" relation="relation3"/>
                <link port="ArrayAppend.input" relation="relation"/>
                <link port="ArrayAppend.input" relation="relation4"/>
                <link port="ArrayAppend.output" relation="relation2"/>
                <link port="recordedTokens.output" relation="relation"/>
                <link port="recordedTokens.trigger" relation="relation3"/>
                <link port="SetVariable.input" relation="relation2"/>
                <link port="ElementsToArray.input" relation="relation3"/>
                <link port="ElementsToArray.output" relation="relation4"/>
            </entity>
            <entity name="replaying2" class="ptolemy.domains.modal.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[95.0, 155.0]">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{382.0, 379.181640625}">
                </property>
                <port name="recording" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 205.0]">
                    </property>
                </port>
                <port name="out" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[512.0, 285.0]">
                    </property>
                </port>
                <port name="replaying" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 245.0]">
                    </property>
                </port>
                <port name="token" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[127.0, 205.0]">
                    </property>
                </port>
                <port name="end" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 285.0]">
                    </property>
                </port>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="recordedTokens">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[227.0, 205.0]">
                    </property>
                </entity>
                <entity name="ArrayElement" class="ptolemy.actor.lib.ArrayElement">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[352.0, 285.0]">
                    </property>
                </entity>
                <entity name="ArrayRemoveElement" class="ptolemy.actor.lib.ArrayRemoveElement">
                    <property name="element" class="ptolemy.actor.parameters.PortParameter" value="">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[457.0, 215.0]">
                    </property>
                </entity>
                <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="recordedTokens">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[582.0, 235.0]">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[307.0, 205.0]">
                    </vertex>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[412.0, 285.0]">
                    </vertex>
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="out" relation="relation2"/>
                <link port="token" relation="relation"/>
                <link port="Const.output" relation="relation4"/>
                <link port="Const.trigger" relation="relation"/>
                <link port="ArrayElement.input" relation="relation4"/>
                <link port="ArrayElement.output" relation="relation2"/>
                <link port="ArrayRemoveElement.array" relation="relation4"/>
                <link port="ArrayRemoveElement.output" relation="relation3"/>
                <link port="ArrayRemoveElement.element" relation="relation2"/>
                <link port="SetVariable.input" relation="relation3"/>
            </entity>
            <entity name="idling" class="ptolemy.domains.modal.modal.Refinement">
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[55.0, 165.0]">
                    </property>
                </property>
                <port name="recording" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 175.0]">
                    </property>
                </port>
                <port name="out" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 215.0]">
                    </property>
                </port>
                <port name="replaying" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 175.0]">
                    </property>
                </port>
                <port name="token" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 215.0]">
                    </property>
                </port>
                <port name="end" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{290.0, 175.0}">
                    </property>
                </port>
                <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="recordedTokens">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 255.0]">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="{}">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 255.0]">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[50.0, 215.0]">
                    </vertex>
                </relation>
                <link port="out" relation="relation3"/>
                <link port="token" relation="relation3"/>
                <link port="SetVariable.input" relation="relation2"/>
                <link port="Const.output" relation="relation2"/>
                <link port="Const.trigger" relation="relation3"/>
            </entity>
            <relation name="recordingRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="outRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="replayingRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="tokenRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="endRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="recording" relation="recordingRelation"/>
            <link port="out" relation="outRelation"/>
            <link port="replaying" relation="replayingRelation"/>
            <link port="token" relation="tokenRelation"/>
            <link port="end" relation="endRelation"/>
            <link port="_Controller.recording" relation="recordingRelation"/>
            <link port="_Controller.out" relation="outRelation"/>
            <link port="_Controller.replaying" relation="replayingRelation"/>
            <link port="_Controller.token" relation="tokenRelation"/>
            <link port="_Controller.end" relation="endRelation"/>
            <link port="recording2.recording" relation="recordingRelation"/>
            <link port="recording2.out" relation="outRelation"/>
            <link port="recording2.replaying" relation="replayingRelation"/>
            <link port="recording2.token" relation="tokenRelation"/>
            <link port="recording2.end" relation="endRelation"/>
            <link port="replaying2.recording" relation="recordingRelation"/>
            <link port="replaying2.out" relation="outRelation"/>
            <link port="replaying2.replaying" relation="replayingRelation"/>
            <link port="replaying2.token" relation="tokenRelation"/>
            <link port="replaying2.end" relation="endRelation"/>
            <link port="idling.recording" relation="recordingRelation"/>
            <link port="idling.out" relation="outRelation"/>
            <link port="idling.replaying" relation="replayingRelation"/>
            <link port="idling.token" relation="tokenRelation"/>
            <link port="idling.end" relation="endRelation"/>
        </entity>
        <entity name="ReplayStart" class="ptolemy.actor.lib.SingleEvent">
            <property name="time" class="ptolemy.data.expr.Parameter" value="replayStart">
            </property>
            <property name="value" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[104.0, 200.125]">
            </property>
        </entity>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in.output" relation="relation3"/>
        <link port="out.input" relation="relation4"/>
        <link port="RecordingStart.output" relation="relation2"/>
        <link port="AttackEndEvent.output" relation="relation5"/>
        <link port="ModalModel.recording" relation="relation2"/>
        <link port="ModalModel.out" relation="relation4"/>
        <link port="ModalModel.replaying" relation="relation"/>
        <link port="ModalModel.token" relation="relation3"/>
        <link port="ModalModel.end" relation="relation5"/>
        <link port="ReplayStart.output" relation="relation"/>
    </entity>
    <relation name="relation7_2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[220.0, 155.0]">
        </vertex>
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[105.0, 105.0]">
        </vertex>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[220.0, 195.0]">
        </vertex>
    </relation>
    <link port="Position.input" relation="relation7_2"/>
    <link port="Position.input" relation="relation4"/>
    <link port="LeadingCar.position" relation="relation7_2"/>
    <link port="LeadingCar.speed" relation="relation2"/>
    <link port="LeadingCar.desiredSpeed" relation="relation"/>
    <link port="Speed.input" relation="relation"/>
    <link port="Speed.input" relation="relation2"/>
    <link port="Speed.input" relation="relation3"/>
    <link port="Urban Driving Cycle.desiredSpeed" relation="relation"/>
    <link port="FollowingCar.leadingCarSpeed" relation="relation5"/>
    <link port="FollowingCar.speed" relation="relation3"/>
    <link port="FollowingCar.position" relation="relation4"/>
    <link relation1="relation2" relation2="relation5"/>
</entity>
