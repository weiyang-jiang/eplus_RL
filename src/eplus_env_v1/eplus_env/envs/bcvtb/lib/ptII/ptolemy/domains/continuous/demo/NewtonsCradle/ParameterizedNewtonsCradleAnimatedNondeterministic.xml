<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="ParameterizedNewtonsCradleAnimatedNondeterministic" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="10.0.devel">
    </property>
    <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="40">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
        </property>
        <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1e-8">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{85.0, 45.0}">
        </property>
    </property>
    <property name="acceleration" class="ptolemy.data.expr.Parameter" value="9.8">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 85.0]">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
    </property>
    <property name="initialTheta_1" class="ptolemy.data.expr.Parameter" value="-PI/8">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 150.0]">
        </property>
    </property>
    <property name="initialTheta_1_dot" class="ptolemy.data.expr.Parameter" value="0.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 170.0]">
        </property>
    </property>
    <property name="length" class="ptolemy.data.expr.Parameter" value="8.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 105.0]">
        </property>
    </property>
    <property name="diameter" class="ptolemy.data.expr.Parameter" value="2.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 125.0]">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={70, 182, 860, 634}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[626, 524]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{313.0, 262.0}">
    </property>
    <property name="initialTheta_2" class="ptolemy.data.expr.Parameter" value="0.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 200.0]">
        </property>
    </property>
    <property name="initialTheta_2_dot" class="ptolemy.data.expr.Parameter" value="0.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 220.0]">
        </property>
    </property>
    <property name="initialTheta_3" class="ptolemy.data.expr.Parameter" value="PI/8">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 250.0]">
        </property>
    </property>
    <property name="initialTheta_3_dot" class="ptolemy.data.expr.Parameter" value="0.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 270.0]">
        </property>
    </property>
    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.2,0.2,0.2,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Author: Haiyang Zheng">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 445.0}">
        </property>
    </property>
    <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.0,0.0,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Look inside the&#10;ModalModel to&#10;see how this&#10;is implemented.">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 370.0]">
        </property>
    </property>
    <property name="m1" class="ptolemy.data.expr.Parameter" value="8.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 295.0]">
        </property>
    </property>
    <property name="k1" class="ptolemy.data.expr.Parameter" value="1.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 295.0]">
        </property>
    </property>
    <property name="m2" class="ptolemy.data.expr.Parameter" value="16.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 315.0]">
        </property>
    </property>
    <property name="m3" class="ptolemy.data.expr.Parameter" value="8.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 335.0]">
        </property>
    </property>
    <property name="k2" class="ptolemy.data.expr.Parameter" value="0.8">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 315.0]">
        </property>
    </property>
    <property name="k3" class="ptolemy.data.expr.Parameter" value="0.5">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 335.0]">
        </property>
    </property>
    <property name="k4" class="ptolemy.data.expr.Parameter" value="0.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 355.0]">
        </property>
    </property>
    <property name="annotation" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This hybrid system models an apparatus called Newton's
cradle with 3 balls suspended by strings.

The parameters on the left specify the sizes of the balls 
and their initial states. The m* parameters specify the 
masses of balls and the k* parameters specify the 
restitution coefficients (RC). 

In this model, we set the masses of ball #1 and #3 half 
of the mass of ball #3 and the restitution coefficients 
of the collision between ball #1 and #2 and that between 
ball #2 and #3 both as k1. 

This model exhibits a nondeterministic behavior which 
depends on the order of the collisions.</text></svg></configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 5.0]">
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
    </property>
    <property name="annotation2" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:12; font-family:SansSerif; fill:red">This example requires Java3D. If you do not have
it installed, you can get it from:
https://java3d.java.net/</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[310.0, 450.0]">
        </property>
    </property>
    <class name="BallClass" extends="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[295.0, 420.0]">
        </property>
        <property name="acceleration" class="ptolemy.data.expr.Parameter" value="acceleration">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 30.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </property>
        <property name="length" class="ptolemy.data.expr.Parameter" value="length">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 55.0]">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={51, 22, 875, 605}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[662, 495]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{331.0, 247.5}">
        </property>
        <property name="initialTheta" class="ptolemy.actor.parameters.PortParameter" value="0.0">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
	<polyline points="-15,-15, -3,-5, -16,5" style="stroke:black"></polyline>
      </svg>
    </configure>
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:black" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[265.0, 40.0]">
            </property>
        </property>
        <property name="initialTheta_dot" class="ptolemy.actor.parameters.PortParameter" value="0.0">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
	<polyline points="-15,-15, -3,-5, -16,5" style="stroke:black"></polyline>
      </svg>
    </configure>
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:black" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[265.0, 70.0]">
            </property>
        </property>
        <property name="x_offset" class="ptolemy.data.expr.Parameter" value="0.0">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 80.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </property>
        <property name="y_offset" class="ptolemy.data.expr.Parameter" value="0.0">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 105.0]">
            </property>
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This class defines the dynamics of a pendulum. </text></svg></configure>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[50.0, 370.0]">
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
        </property>
        <property name="Image" class="ptolemy.vergil.kernel.attributes.ImageAttribute">
            <property name="source" class="ptolemy.data.expr.FileParameter" value="$CLASSPATH/ptolemy/domains/continuous/demo/NewtonsCradle/pendulum.gif">
            </property>
            <property name="scale" class="ptolemy.data.expr.Parameter" value="100">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[405.0, 280.0]">
            </property>
        </property>
        <port name="initialTheta" class="ptolemy.actor.parameters.ParameterPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{245.0, 35.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="initialTheta_dot" class="ptolemy.actor.parameters.ParameterPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{245.0, 65.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="x" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[590.0, 165.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="y" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[590.0, 120.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="theta" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[320.0, 305.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="theta_dot" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 305.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="theta_dot" class="ptolemy.domains.continuous.lib.Integrator">
            <property name="initialState" class="ptolemy.actor.parameters.PortParameter" value="initialTheta_dot">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[120.486328125, 249.501953125]">
            </property>
        </entity>
        <entity name="theta" class="ptolemy.domains.continuous.lib.Integrator">
            <property name="initialState" class="ptolemy.actor.parameters.PortParameter" value="initialTheta">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.486328125, 249.501953125]">
            </property>
        </entity>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="-1*sin(theta)*acceleration/length">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[455.486328125, 249.501953125]">
            </property>
            <port name="theta" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="PolarToCartesian" class="ptolemy.actor.lib.conversions.PolarToCartesian">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 130.0]">
            </property>
            <port name="angle" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Const" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="length">
            </property>
            <doc>Create a constant sequence</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, 120.0]">
            </property>
        </entity>
        <entity name="x position" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in + x_offset">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[480.0, 165.0]">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="y position" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in + y_offset">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[480.0, 120.0]">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[165.486328125, 249.501953125]">
            </vertex>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[585.0, 195.0]">
            </vertex>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[295.486328125, 249.501953125]">
            </vertex>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="x" relation="relation5"/>
        <link port="y" relation="relation6"/>
        <link port="theta" relation="relation7"/>
        <link port="theta_dot" relation="relation"/>
        <link port="theta_dot.derivative" relation="relation3"/>
        <link port="theta_dot.state" relation="relation"/>
        <link port="theta.derivative" relation="relation"/>
        <link port="theta.state" relation="relation7"/>
        <link port="Expression.output" relation="relation3"/>
        <link port="Expression.theta" relation="relation7"/>
        <link port="PolarToCartesian.magnitude" relation="relation2"/>
        <link port="PolarToCartesian.angle" relation="relation7"/>
        <link port="PolarToCartesian.x" relation="relation9"/>
        <link port="PolarToCartesian.y" relation="relation10"/>
        <link port="Const.output" relation="relation2"/>
        <link port="x position.output" relation="relation5"/>
        <link port="x position.in" relation="relation10"/>
        <link port="y position.output" relation="relation6"/>
        <link port="y position.in" relation="relation9"/>
    </class>
    <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
        <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[395.0, 335.0]">
        </property>
        <port name="x_1" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="x_2" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="theta_1_dot" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="theta_2_dot" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="x_3" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="theta_3_dot" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="theta_1" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
        </port>
        <port name="theta_2" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
        </port>
        <port name="theta_3" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
        </port>
        <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
        <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
      </configure>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={261, 130, 918, 640}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[705, 529]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.060676264655">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{308.5040373599538, 170.092754564973}">
            </property>
            <property name="annotation" class="ptolemy.kernel.util.Attribute">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">When any two adjacent balls have contact and their relative velocity
is bigger than 0.0, they collide. The restitution coefficient of
collision is k1. (You may try different coefficients.)

The equations for calculating the velocities of two balls after a collision 
is the following, where v1 and v2 are the velocities before the collision, 
and v1' and v2' are the velocities after the collision.

        v1' = ((m1-k*m2)*v1 + m2*(1+k)*v2)/(m1+m2)
        v2' = (m1*(1+k)*v1 + (m2-k*m1)*v2)/(m1+m2)</text></svg></configure>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, -60.0}">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                </property>
            </property>
            <port name="x_1" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[360.0, 305.0]">
                </property>
            </port>
            <port name="x_2" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 305.0]">
                </property>
            </port>
            <port name="theta_1_dot" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[360.0, 345.0]">
                </property>
            </port>
            <port name="theta_2_dot" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 345.0]">
                </property>
            </port>
            <port name="x_3" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 305.0]">
                </property>
            </port>
            <port name="theta_3_dot" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 345.0]">
                </property>
            </port>
            <port name="theta_1" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[360.0, 385.0]">
                </property>
            </port>
            <port name="theta_2" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 385.0]">
                </property>
            </port>
            <port name="theta_3" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 385.0]">
                </property>
            </port>
            <entity name="state" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="state">
                </property>
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[272.7311234474182, 229.44648361206055]">
                </property>
            </entity>
            <entity name="init" class="ptolemy.domains.modal.kernel.State">
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[237.73112344741827, 154.44648361206055]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="((x_1 + diameter) &gt;= x_2) &#10;  &amp;&amp; (theta_1_dot &gt; theta_2_dot)">
                    <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                        <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                        <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                        </property>
                    </property>
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="&#10;state.theta_1_dot_initial = &#10;  ((m1-k1*m2)*theta_1_dot + &#10;    m2*(1+k1)*theta_2_dot)/(m1+m2);&#10;state.theta_2_dot_initial = &#10;  (m1*(1+k1)*theta_1_dot + &#10;   (m2-k1*m1)*theta_2_dot)/(m1+m2)">
                    <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                        <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                        <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                        </property>
                    </property>
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.240573506758693">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.692914903013331">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="true">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="&#10;state.theta_1_dot_initial = initialTheta_1_dot;&#10;state.theta_2_dot_initial = initialTheta_2_dot;&#10;state.theta_3_dot_initial = initialTheta_3_dot;&#10;state.theta_1_initial = initialTheta_1;&#10;state.theta_2_initial = initialTheta_2;&#10;state.theta_3_initial = initialTheta_3">
                    <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                        <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                        <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                        </property>
                    </property>
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.622752043467985">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.5698846633996298">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="((x_2 + diameter) &gt;= x_3) &#10;  &amp;&amp; (theta_2_dot &gt; theta_3_dot)">
                    <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                        <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                        <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                        </property>
                    </property>
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="&#10;state.theta_2_dot_initial = &#10;  ((m2-k1*m3)*theta_2_dot + &#10;    m3*(1+k1)*theta_3_dot)/(m2+m3);&#10;state.theta_3_dot_initial = &#10;  (m2*(1+k1)*theta_2_dot + &#10;   (m3-k1*m2)*theta_3_dot)/(m2+m3)">
                    <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                        <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                        <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                        </property>
                    </property>
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.1833797343216026">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.214785145275142">
                </property>
                <property name="nondeterministic" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                </property>
            </relation>
            <link port="state.incomingPort" relation="relation"/>
            <link port="state.incomingPort" relation="relation2"/>
            <link port="state.incomingPort" relation="relation3"/>
            <link port="state.outgoingPort" relation="relation"/>
            <link port="state.outgoingPort" relation="relation3"/>
            <link port="init.outgoingPort" relation="relation2"/>
        </entity>
        <entity name="state" class="ptolemy.domains.modal.modal.Refinement">
            <property name="Continuous Director" class="ptolemy.domains.continuous.kernel.ContinuousDirector">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 45.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={91, 109, 855, 501}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[642, 391]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{321.0, 195.5}">
            </property>
            <property name="theta_1_dot_initial" class="ptolemy.data.expr.Parameter" value="-0.7090064186363">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 225.0]">
                </property>
            </property>
            <property name="theta_2_dot_initial" class="ptolemy.data.expr.Parameter" value="-0.390999542184">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 250.0]">
                </property>
            </property>
            <property name="theta_3_dot_initial" class="ptolemy.data.expr.Parameter" value="0.3571354414361">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 275.0]">
                </property>
            </property>
            <property name="theta_1_initial" class="ptolemy.data.expr.Parameter" value="-0.3926990816987">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 120.0]">
                </property>
            </property>
            <property name="theta_2_initial" class="ptolemy.data.expr.Parameter" value="0.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 145.0]">
                </property>
            </property>
            <property name="theta_3_initial" class="ptolemy.data.expr.Parameter" value="0.3926990816987">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 170.0]">
                </property>
            </property>
            <port name="x_1" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 35.0]">
                </property>
            </port>
            <port name="x_2" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 160.0]">
                </property>
            </port>
            <port name="theta_1_dot" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 115.0]">
                </property>
            </port>
            <port name="theta_2_dot" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 240.0]">
                </property>
            </port>
            <port name="x_3" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 290.0]">
                </property>
            </port>
            <port name="theta_3_dot" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 370.0]">
                </property>
            </port>
            <port name="theta_1" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 75.0]">
                </property>
            </port>
            <port name="theta_2" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 200.0]">
                </property>
            </port>
            <port name="theta_3" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 330.0]">
                </property>
            </port>
            <entity name="ball1" class="BallClass">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 65.0]">
                </property>
                <property name="initialTheta" class="ptolemy.actor.parameters.PortParameter" value="theta_1_initial">
                </property>
                <property name="initialTheta_dot" class="ptolemy.actor.parameters.PortParameter" value="theta_1_dot_initial">
                </property>
                <port name="initialTheta" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{225.0, 30.0}">
                    </property>
                </port>
                <port name="initialTheta_dot" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{225.0, 60.0}">
                    </property>
                </port>
            </entity>
            <entity name="ball2" class="BallClass">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 190.0]">
                </property>
                <property name="initialTheta" class="ptolemy.actor.parameters.PortParameter" value="theta_2_initial">
                </property>
                <property name="initialTheta_dot" class="ptolemy.actor.parameters.PortParameter" value="theta_2_dot_initial">
                </property>
                <property name="x_offset" class="ptolemy.data.expr.Parameter" value="diameter">
                </property>
                <port name="initialTheta" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{225.0, 30.0}">
                    </property>
                </port>
                <port name="initialTheta_dot" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{225.0, 60.0}">
                    </property>
                </port>
            </entity>
            <entity name="ball3" class="BallClass">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 320.0]">
                </property>
                <property name="initialTheta" class="ptolemy.actor.parameters.PortParameter" value="theta_3_initial">
                </property>
                <property name="initialTheta_dot" class="ptolemy.actor.parameters.PortParameter" value="theta_3_dot_initial">
                </property>
                <property name="x_offset" class="ptolemy.data.expr.Parameter" value="2*diameter">
                </property>
                <port name="initialTheta" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{225.0, 30.0}">
                    </property>
                </port>
                <port name="initialTheta_dot" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{225.0, 60.0}">
                    </property>
                </port>
            </entity>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="x_1" relation="relation"/>
            <link port="x_2" relation="relation2"/>
            <link port="theta_1_dot" relation="relation3"/>
            <link port="theta_2_dot" relation="relation4"/>
            <link port="x_3" relation="relation5"/>
            <link port="theta_3_dot" relation="relation6"/>
            <link port="theta_1" relation="relation9"/>
            <link port="theta_2" relation="relation8"/>
            <link port="theta_3" relation="relation7"/>
            <link port="ball1.x" relation="relation"/>
            <link port="ball1.theta" relation="relation9"/>
            <link port="ball1.theta_dot" relation="relation3"/>
            <link port="ball2.x" relation="relation2"/>
            <link port="ball2.theta" relation="relation8"/>
            <link port="ball2.theta_dot" relation="relation4"/>
            <link port="ball3.x" relation="relation5"/>
            <link port="ball3.theta" relation="relation7"/>
            <link port="ball3.theta_dot" relation="relation6"/>
        </entity>
        <relation name="x_1Relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="x_2Relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="theta_1_dotRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="theta_2_dotRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="x_3Relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="theta_3_dotRelation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="theta_1Relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="theta_2Relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="theta_3Relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="x_1" relation="x_1Relation"/>
        <link port="x_2" relation="x_2Relation"/>
        <link port="theta_1_dot" relation="theta_1_dotRelation"/>
        <link port="theta_2_dot" relation="theta_2_dotRelation"/>
        <link port="x_3" relation="x_3Relation"/>
        <link port="theta_3_dot" relation="theta_3_dotRelation"/>
        <link port="theta_1" relation="theta_1Relation"/>
        <link port="theta_2" relation="theta_2Relation"/>
        <link port="theta_3" relation="theta_3Relation"/>
        <link port="_Controller.x_1" relation="x_1Relation"/>
        <link port="_Controller.x_2" relation="x_2Relation"/>
        <link port="_Controller.theta_1_dot" relation="theta_1_dotRelation"/>
        <link port="_Controller.theta_2_dot" relation="theta_2_dotRelation"/>
        <link port="_Controller.x_3" relation="x_3Relation"/>
        <link port="_Controller.theta_3_dot" relation="theta_3_dotRelation"/>
        <link port="_Controller.theta_1" relation="theta_1Relation"/>
        <link port="_Controller.theta_2" relation="theta_2Relation"/>
        <link port="_Controller.theta_3" relation="theta_3Relation"/>
        <link port="state.x_1" relation="x_1Relation"/>
        <link port="state.x_2" relation="x_2Relation"/>
        <link port="state.theta_1_dot" relation="theta_1_dotRelation"/>
        <link port="state.theta_2_dot" relation="theta_2_dotRelation"/>
        <link port="state.x_3" relation="x_3Relation"/>
        <link port="state.theta_3_dot" relation="theta_3_dotRelation"/>
        <link port="state.theta_1" relation="theta_1Relation"/>
        <link port="state.theta_2" relation="theta_2Relation"/>
        <link port="state.theta_3" relation="theta_3Relation"/>
    </entity>
    <entity name="positions" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="x_1, x_2, x_3">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={2, 460, 494, 267}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[494, 223]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[570.0, 335.0]">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>positions</title>
<xLabel>time</xLabel>
<yLabel>displacements</yLabel>
<xRange min="0.0" max="40.0"/>
<yRange min="-3.7045832711819973" max="7.702536421871367"/>
</plot>?>
        </configure>
    </entity>
    <entity name="velocities" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="theta_1_dot, theta_2_dot, theta_3_dot">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={503, 458, 507, 269}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[507, 225]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{235.0, 335.0}">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>velocities</title>
<xLabel>time</xLabel>
<yLabel>velocities</yLabel>
<xRange min="0.0" max="40.0"/>
<yRange min="-0.52821555033085" max="0.5281988248903854"/>
</plot>?>
        </configure>
    </entity>
    <entity name="Graphic Animation" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[550.0, 410.0]">
        </property>
        <property name="GR" class="ptolemy.domains.gr.kernel.GRDirector">
            <property name="iterations" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="iterationTimeLowerBound" class="ptolemy.data.expr.Parameter" value="33">
            </property>
            <property name="iteration time lower bound" class="ptolemy.data.expr.Parameter" value="50">
            </property>
            <property name="Scheduler" class="ptolemy.domains.gr.kernel.GRScheduler">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[95.0, 50.0]">
            </property>
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[694, 482]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={12, 25, 909, 600}, maximized=false}">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 241.0}">
        </property>
        <property name="scaleFactor" class="ptolemy.data.expr.Parameter" value="0.1">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[295.0, 85.0]">
            </property>
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This subsystem renders three balls on strings
with the angle at which they hang given by inputs.</text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[280.0, 25.0]">
            </property>
        </property>
        <port name="theta_1" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{60.0, 145.0}">
            </property>
        </port>
        <port name="theta2" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{60.0, 210.0}">
            </property>
        </port>
        <port name="theta3" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{60.0, 275.0}">
            </property>
        </port>
        <class name="Ball" extends="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 55.0]">
            </property>
            <property name="radius" class="ptolemy.data.expr.Parameter" value="0.05">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 60.0]">
                </property>
            </property>
            <property name="length" class="ptolemy.data.expr.Parameter" value="0.35">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 80.0]">
                </property>
            </property>
            <property name="position" class="ptolemy.data.expr.Parameter" value="0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 40.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={33, 183, 815, 518}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 200.0}">
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Model of a ball on a string.">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[155.0, 35.0]">
                </property>
            </property>
            <port name="ball" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[465.0, 265.0]">
                </property>
            </port>
            <port name="theta" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 335.0]">
                </property>
            </port>
            <entity name="Sphere" class="ptolemy.domains.gr.lib.Sphere3D">
                <property name="radius" class="ptolemy.data.expr.Parameter" value="radius">
                </property>
                <property name="diffuseColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.5, 0.5, 0.0}">
                </property>
                <property name="shininess" class="ptolemy.actor.parameters.DoubleRangeParameter" value="20.0">
                </property>
                <property name="Sphere3DIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={120, 11, 815, 516}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 215.0]">
                </property>
            </entity>
            <entity name="Translate" class="ptolemy.domains.gr.lib.Translate3D">
                <property name="accumulate" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="initialXTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="initialYTranslation" class="ptolemy.data.expr.Parameter" value="-length">
                </property>
                <property name="initialZTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="xAngle" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="yAngle" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="zAngle" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[175.0, 235.0]">
                </property>
            </entity>
            <entity name="Cylinder" class="ptolemy.domains.gr.lib.Cylinder3D">
                <property name="radius" class="ptolemy.data.expr.Parameter" value="0.005">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="length">
                </property>
                <property name="diffuseColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.3, 0.3, 0.3}">
                </property>
                <property name="shininess" class="ptolemy.actor.parameters.DoubleRangeParameter" value="1.0">
                </property>
                <property name="Cylinder3DIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={120, 11, 815, 516}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 150.0]">
                </property>
            </entity>
            <entity name="Rotate" class="ptolemy.domains.gr.lib.Rotate3D">
                <property name="accumulate" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="initialAngle" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="axisDirection" class="ptolemy.data.expr.Parameter" value="[0.0, 0.0, 1.0]">
                </property>
                <property name="pivotLocation" class="ptolemy.actor.parameters.PortParameter" value="[0.0, 0.0, 0.0]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[305.0, 245.0]">
                </property>
            </entity>
            <entity name="Translate2" class="ptolemy.domains.gr.lib.Translate3D">
                <property name="accumulate" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="initialXTranslation" class="ptolemy.data.expr.Parameter" value="position * radius * 2">
                </property>
                <property name="initialYTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="initialZTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="xAngle" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="yAngle" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="zAngle" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[400.0, 265.0]">
                </property>
            </entity>
            <entity name="Translate3" class="ptolemy.domains.gr.lib.Translate3D">
                <property name="accumulate" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="initialXTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="initialYTranslation" class="ptolemy.data.expr.Parameter" value="-length / 2.0">
                </property>
                <property name="initialZTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="xAngle" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="yAngle" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="zAngle" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[175.0, 170.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="ball" relation="relation4"/>
            <link port="theta" relation="relation5"/>
            <link port="Sphere.sceneGraphOut" relation="relation"/>
            <link port="Translate.sceneGraphIn" relation="relation"/>
            <link port="Translate.sceneGraphOut" relation="relation3"/>
            <link port="Cylinder.sceneGraphOut" relation="relation7"/>
            <link port="Rotate.sceneGraphIn" relation="relation3"/>
            <link port="Rotate.sceneGraphIn" relation="relation2"/>
            <link port="Rotate.sceneGraphOut" relation="relation6"/>
            <link port="Rotate.angle" relation="relation5"/>
            <link port="Translate2.sceneGraphIn" relation="relation6"/>
            <link port="Translate2.sceneGraphOut" relation="relation4"/>
            <link port="Translate3.sceneGraphIn" relation="relation7"/>
            <link port="Translate3.sceneGraphOut" relation="relation2"/>
        </class>
        <entity name="ViewScreen" class="ptolemy.domains.gr.lib.ViewScreen3D">
            <property name="horizontalResolution" class="ptolemy.data.expr.Parameter" value="400">
            </property>
            <property name="verticalResolution" class="ptolemy.data.expr.Parameter" value="460">
            </property>
            <property name="rotatable" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="scalable" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="translatable" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="showAxes" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="iterationSynchronized" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="backgroundColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,1.0,1.0}">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={608, 28, 408, 434}, maximized=false}">
            </property>
            <property name="_viewSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="_pictureSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="scale" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{540.0, 210.0}">
            </property>
        </entity>
        <entity name="Text" class="ptolemy.domains.gr.lib.TextString3D">
            <property name="text" class="ptolemy.actor.parameters.PortParameter" value="Newton's Cradle">
            </property>
            <property name="fontSize" class="ptolemy.data.expr.Parameter" value="0.15">
            </property>
            <property name="diffuseColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 0.0, 0.0}">
            </property>
            <property name="shininess" class="ptolemy.actor.parameters.DoubleRangeParameter" value="20.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 365.0]">
            </property>
        </entity>
        <entity name="Translate2" class="ptolemy.domains.gr.lib.Translate3D">
            <property name="accumulate" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="initialXTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="initialYTranslation" class="ptolemy.data.expr.Parameter" value="0.2">
            </property>
            <property name="initialZTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{415.0, 385.0}">
            </property>
        </entity>
        <entity name="Bar" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{380.0, 310.0}">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{300.0, 225.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="multiport"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{482.57812, 240.89062}">
                </property>
            </port>
            <entity name="0:Translate0" class="ptolemy.domains.gr.lib.Translate3D">
                <property name="accumulate" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="initialXTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="initialYTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="initialZTranslation" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[250.0, 190.0]">
                </property>
            </entity>
            <entity name="0:Box13" class="ptolemy.domains.gr.lib.Box3D">
                <property name="xLength" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="yHeight" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="zWidth" class="ptolemy.data.expr.Parameter" value="0.1">
                </property>
                <property name="diffuseColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.4}">
                </property>
                <property name="shininess" class="ptolemy.actor.parameters.DoubleRangeParameter" value="20.0">
                </property>
                <property name="Box3DIcon" class="ptolemy.vergil.icon.EditorIcon">
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={120, 11, 815, 516}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 170.0]">
                </property>
            </entity>
            <entity name="Scale3D0" class="ptolemy.domains.gr.lib.Scale3D">
                <property name="accumulate" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="scaleFactor" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="xScale" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="yScale" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="zScale" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{370.0, 239.94531}">
                </property>
            </entity>
            <relation name="0:relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="output" relation="relation5"/>
            <link port="0:Translate0.sceneGraphIn" relation="0:relation2"/>
            <link port="0:Translate0.sceneGraphOut" relation="relation4"/>
            <link port="0:Box13.sceneGraphOut" relation="0:relation2"/>
            <link port="Scale3D0.sceneGraphIn" relation="relation4"/>
            <link port="Scale3D0.sceneGraphOut" relation="relation5"/>
        </entity>
        <entity name="InstanceOfBall2" class="Ball">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 210.0]">
            </property>
            <property name="radius" class="ptolemy.data.expr.Parameter" value="diameter * scaleFactor / 2.0">
            </property>
            <property name="length" class="ptolemy.data.expr.Parameter" value="length * scaleFactor">
            </property>
        </entity>
        <entity name="InstanceOfBall1" class="Ball">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 145.0]">
            </property>
            <property name="radius" class="ptolemy.data.expr.Parameter" value="diameter * scaleFactor / 2.0">
            </property>
            <property name="length" class="ptolemy.data.expr.Parameter" value="length * scaleFactor">
            </property>
            <property name="position" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
        </entity>
        <entity name="InstanceOfBall3" class="Ball">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 275.0]">
            </property>
            <property name="radius" class="ptolemy.data.expr.Parameter" value="diameter * scaleFactor / 2.0">
            </property>
            <property name="length" class="ptolemy.data.expr.Parameter" value="length * scaleFactor">
            </property>
            <property name="position" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </entity>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="theta_1" relation="relation7"/>
        <link port="theta2" relation="relation11"/>
        <link port="theta3" relation="relation4"/>
        <link port="ViewScreen.sceneGraphIn" relation="relation6"/>
        <link port="ViewScreen.sceneGraphIn" relation="relation8"/>
        <link port="ViewScreen.sceneGraphIn" relation="relation5"/>
        <link port="ViewScreen.sceneGraphIn" relation="relation"/>
        <link port="ViewScreen.sceneGraphIn" relation="relation9"/>
        <link port="Text.sceneGraphOut" relation="relation2"/>
        <link port="Translate2.sceneGraphIn" relation="relation2"/>
        <link port="Translate2.sceneGraphOut" relation="relation6"/>
        <link port="Bar.output" relation="relation8"/>
        <link port="InstanceOfBall2.ball" relation="relation5"/>
        <link port="InstanceOfBall2.theta" relation="relation11"/>
        <link port="InstanceOfBall1.ball" relation="relation"/>
        <link port="InstanceOfBall1.theta" relation="relation7"/>
        <link port="InstanceOfBall3.ball" relation="relation9"/>
        <link port="InstanceOfBall3.theta" relation="relation4"/>
    </entity>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[495.0, 325.0]">
        </vertex>
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[495.0, 335.0]">
        </vertex>
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[495.0, 345.0]">
        </vertex>
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[290.0, 345.0]">
        </vertex>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[290.0, 325.0]">
        </vertex>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[290.0, 335.0]">
        </vertex>
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="ModalModel.x_1" relation="relation7"/>
    <link port="ModalModel.x_2" relation="relation8"/>
    <link port="ModalModel.theta_1_dot" relation="relation3"/>
    <link port="ModalModel.theta_2_dot" relation="relation5"/>
    <link port="ModalModel.x_3" relation="relation"/>
    <link port="ModalModel.theta_3_dot" relation="relation2"/>
    <link port="ModalModel.theta_1" relation="relation4"/>
    <link port="ModalModel.theta_2" relation="relation6"/>
    <link port="ModalModel.theta_3" relation="relation9"/>
    <link port="positions.input" relation="relation7"/>
    <link port="positions.input" relation="relation8"/>
    <link port="positions.input" relation="relation"/>
    <link port="velocities.input" relation="relation3"/>
    <link port="velocities.input" relation="relation5"/>
    <link port="velocities.input" relation="relation2"/>
    <link port="Graphic Animation.theta_1" relation="relation4"/>
    <link port="Graphic Animation.theta2" relation="relation6"/>
    <link port="Graphic Animation.theta3" relation="relation9"/>
</entity>
