<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="CommunicationAnomalyDetectionCQM" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.0.devel">
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="">
        </property>
        <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-55.0, -10.0}">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={138, 148, 1197, 822}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[963, 712]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8999098597534227">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{184.60918756610727, 180.8364562113856}">
    </property>
    <property name="N" class="ptolemy.data.expr.Parameter" value="200">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{35.0, -30.0}">
        </property>
    </property>
    <property name="sampleSize" class="ptolemy.data.expr.Parameter" value="8*N">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{115.0, -30.0}">
        </property>
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Top level model of a data transmitter and a receiver component, which&#10;communicate via a dedicated communication channel assigned by a &#10;service provider. The transmitter and receiver are agnostic to the means&#10;of communication being used to transmit packets.&#10;&#10;The service channel is modeled as a hidden markov model with 3 states&#10;that correspond to three means of communication with different latency&#10;characteristics.&#10;&#10;The objective of the anomaly detector on the receiver side is to track the&#10;communication latency in the received packages ( clocks are assumed to&#10;be perfectly synchronized for this demo, so that the latency is known exactly)&#10;to determine if the underlying communication channel is a high latency&#10;channel. This classification problem may be used to raise flags if the &#10;anomaly detector &quot;claims&quot; that the channel is not a standard-latency one&#10;and may request reassignment from the service provider.">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-125.0, 210.0]">
        </property>
    </property>
    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="observation batch size per iteration">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{255.0, -40.0}">
        </property>
    </property>
    <entity name="Transmitter" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 170.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={251, 133, 934, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{291.15625, 427.796875}">
        </property>
        <port name="port_0" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{415.0, 230.0}">
            </property>
        </port>
        <entity name="DiscreteClock" class="ptolemy.actor.lib.DiscreteClock">
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="((sampleSize/period)-1.0)">
            </property>
            <property name="period" class="ptolemy.actor.parameters.PortParameter" value="1.0">
            </property>
            <property name="values" class="ptolemy.data.expr.Parameter" value="{1.0}">
            </property>
            <doc>Create periodic timed events.</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 295.0}">
            </property>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="period" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="start" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="stop" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="OutgoingPacket" class="ptolemy.actor.lib.RecordAssembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{290.0, 210.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="payload" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="DecoratorAttributesFor_CommunicationChannel" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="timestamp" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="DecoratorAttributesFor_CommunicationChannel" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="label" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="DecoratorAttributesFor_CommunicationChannel" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
            <doc>Output the current time.</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{170.0, 230.0}">
            </property>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="DecoratorAttributesFor_CommunicationChannel" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="Const" class="ptolemy.actor.lib.Const">
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{180.0, 295.0}">
            </property>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="DecoratorAttributesFor_CommunicationChannel" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{105.0, 295.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CurrentTime.trigger&quot;,x=170.0,y=230.0}, tail={id=&quot;relation3.vertex1&quot;,x=105.0,y=295.0}, points={105.0,230.0} },{ head={id=&quot;DiscreteClock.output&quot;,x=25.0,y=295.0}, tail={id=&quot;relation3.vertex1&quot;,x=105.0,y=295.0}, points={} },{ head={id=&quot;RecordAssembler.label&quot;,x=290.0,y=210.0}, tail={id=&quot;relation3.vertex1&quot;,x=105.0,y=295.0}, points={230.0,240.0,230.0,295.0} },{ head={id=&quot;RecordAssembler.payload&quot;,x=290.0,y=210.0}, tail={id=&quot;relation3.vertex1&quot;,x=105.0,y=295.0}, points={230.0,220.0,230.0,180.0,105.0,180.0} },{ head={id=&quot;relation3.vertex1&quot;,x=105.0,y=295.0}, tail={id=&quot;Const.trigger&quot;,x=180.0,y=295.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;RecordAssembler.timestamp&quot;,x=290.0,y=210.0}, tail={id=&quot;CurrentTime.output&quot;,x=170.0,y=230.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;port_0._location&quot;,x=415.0,y=230.0}, tail={id=&quot;RecordAssembler.output&quot;,x=290.0,y=210.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;RecordAssembler.label&quot;,x=290.0,y=210.0}, tail={id=&quot;Const.output&quot;,x=180.0,y=295.0}, points={230.0,240.0,230.0,295.0} } }">
            </property>
        </relation>
        <link port="port_0" relation="relation2"/>
        <link port="DiscreteClock.output" relation="relation3"/>
        <link port="OutgoingPacket.output" relation="relation2"/>
        <link port="OutgoingPacket.payload" relation="relation3"/>
        <link port="OutgoingPacket.timestamp" relation="relation"/>
        <link port="OutgoingPacket.label" relation="relation4"/>
        <link port="CurrentTime.output" relation="relation"/>
        <link port="CurrentTime.trigger" relation="relation3"/>
        <link port="Const.output" relation="relation4"/>
        <link port="Const.trigger" relation="relation3"/>
    </entity>
    <entity name="Receiver" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 170.0]">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-95.0, 15.0}">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={50, 22, 942, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[708, 524]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.3992505012103637">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{726.1379132699274, 630.8877830615941}">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Compute packet latency">
            </property>
            <property name="_location" class="ptolemy.vergil.basic.RelativeLocation" value="{-65.0, 30.0}">
                <property name="relativeTo" class="ptolemy.kernel.util.StringAttribute" value="LatencyEstimate">
                </property>
                <property name="relativeToElementName" class="ptolemy.kernel.util.StringAttribute" value="entity">
                </property>
            </property>
        </property>
        <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Unsupervised HMM training and classification">
            </property>
            <property name="_location" class="ptolemy.vergil.basic.RelativeLocation" value="{15.0, -15.0}">
            </property>
        </property>
        <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Use every fourth sequence as training data and every other data sequence as test/classify data">
            </property>
            <property name="_location" class="ptolemy.vergil.basic.RelativeLocation" value="{-325.0, 20.0}">
                <property name="relativeTo" class="ptolemy.kernel.util.StringAttribute" value="Expression">
                </property>
                <property name="relativeToElementName" class="ptolemy.kernel.util.StringAttribute" value="entity">
                </property>
            </property>
        </property>
        <port name="data" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-135.0, 300.0}">
            </property>
            <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                </property>
                <property name="enable" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="in">
                </property>
            </property>
            <property name="_showInfo" class="ptolemy.kernel.util.StringAttribute" value="Aspects: ServiceChannel">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="">
            </property>
        </port>
        <entity name="LatencyEstimate" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{230.0, 290.0}">
            </property>
            <port name="plus" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="minus" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
            <property name="useLocalTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <doc>Output the current time.</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{80.0, 225.0}">
            </property>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="_showInfo" class="ptolemy.kernel.util.StringAttribute">
                </property>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="Learning/Detection" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1495.0, 215.0}">
            </property>
            <property name="meanGuess" class="ptolemy.data.expr.Parameter" value="{0.0, 0.2,0.4}">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-215.0, -580.0}">
                </property>
            </property>
            <property name="stdDevGuess" class="ptolemy.data.expr.Parameter" value="{0.01, 0.05,0.05}">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-20.0, -580.0}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1686, 22, 1390, 820}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1156, 710]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.7259536034642746">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.306640625, -104.12747804864745}">
            </property>
            <property name="transGuess" class="ptolemy.data.expr.Parameter" value="[0.4,0.3,0.3;0.3,0.4,0.3;0.3,0.3,0.4]">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{210.0, -580.0}">
                </property>
            </property>
            <property name="stdDevEstimate" class="ptolemy.data.expr.Parameter" value="{0.0096763770441, 0.0346413475215, 0.02960950756}">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{545.0, -580.0}">
                </property>
            </property>
            <property name="meanEstimate" class="ptolemy.data.expr.Parameter" value="{0.0502800748481, 0.1345436034311, 0.2893313876298}">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-535.0, -510.0}">
                </property>
            </property>
            <property name="transEstimate" class="ptolemy.data.expr.Parameter" value="[0.9494526004438, 0.0400037428803, 0.0105436566759; 0.2006586138099, 0.7355111857435, 0.0638302004466; 0.0269667894517, 0.4591387819139, 0.5138944286344]">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-35.0, -510.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="The train and test ports provide arrays of observations to the &quot;Learn Model&quot; and&#10;&quot;Classify Observations&quot; actors respectively.&#10;&#10;&quot;Learn model&quot; implements the Expectation Maximization(EM) algorithm on a Hidden&#10;Markov Model(HMM), initiated with starting guesses provided as parameters. The model&#10;is working under a Gaussian approximation. &#10;&#10;&quot;Classify Observations&quot; accepts parameter estimates for the assumed HMM and&#10;performs Maximum-Likelihood classification of observations to the possible&#10;hidden states.">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-545.0, -490.0}">
                </property>
            </property>
            <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="compute success ratio of the algorithm&#10;by comparing classified labels to the &#10;actual labels ">
                </property>
                <property name="_location" class="ptolemy.vergil.basic.RelativeLocation" value="{-135.0, 30.0}">
                    <property name="relativeTo" class="ptolemy.kernel.util.StringAttribute" value="CountTrues">
                    </property>
                    <property name="relativeToElementName" class="ptolemy.kernel.util.StringAttribute" value="entity">
                    </property>
                </property>
            </property>
            <property name="prior" class="ptolemy.data.expr.Parameter" value="{0.8,0.2,0.0}">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-370.0, -580.0}">
                </property>
            </property>
            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-490.0, -555.0}">
                </property>
            </property>
            <port name="train" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-530.0, -90.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="test" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-65.0, -150.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="trueLabels" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{75.0, -270.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <entity name="ArrayToSequence" class="ptolemy.domains.sdf.lib.ArrayToSequence">
                <property name="arrayLength" class="ptolemy.data.expr.Parameter" value="N">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{180.0, -160.0}">
                </property>
            </entity>
            <entity name="SequencePlotter" class="ptolemy.actor.lib.gui.SequencePlotter">
                <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="automaticRescale" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="true labels [0: WiFi 1:LTE 2:slowLink], classified labels [0: WiFi 1:LTE 2:slowLink]">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={131, 508, 1284, 344}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[1284, 300]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{335.0, -160.0}">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>True Labels vs Classified Labels</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="1199.0"/>
<yRange min="0.0" max="2.0"/>
<default connected="no" marks="various"/>
</plot>?>
                </configure>
            </entity>
            <entity name="ArrayToSequence2" class="ptolemy.domains.sdf.lib.ArrayToSequence">
                <property name="arrayLength" class="ptolemy.data.expr.Parameter" value="N">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, -270.0}">
                </property>
            </entity>
            <entity name="CompareLabels" class="ptolemy.actor.lib.logic.Comparator">
                <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="==">
                    <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                        <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                        </property>
                        <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                        </property>
                        <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                        </property>
                        <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                        </property>
                        <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                        </property>
                    </property>
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{340.0, -260.0}">
                </property>
            </entity>
            <entity name="CountTrues" class="ptolemy.domains.sdf.lib.CountTrues">
                <property name="blockSize" class="ptolemy.data.expr.Parameter" value="N">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{550.0, -260.0}">
                </property>
            </entity>
            <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{855.0, -250.0}">
                </property>
            </entity>
            <entity name="priors2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="N*1.0">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{770.0, -160.0}">
                </property>
            </entity>
            <entity name="Average" class="ptolemy.actor.lib.Average">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-90.0, 170.0}">
                </property>
            </entity>
            <entity name="Average2" class="ptolemy.actor.lib.Average">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-270.0, 260.0}">
                </property>
            </entity>
            <entity name="Average3" class="ptolemy.actor.lib.Average">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-180.0, 80.0}">
                </property>
            </entity>
            <entity name="SequencePlotter2" class="ptolemy.actor.lib.gui.SequencePlotter">
                <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="automaticRescale" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={134, 177, 710, 274}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[710, 230]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{955.0, -250.0}">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Success Ratio per Classification</title>
<xLabel>Sequence Index</xLabel>
<yLabel>Success Ratio</yLabel>
<xRange min="0.0" max="5.0"/>
<yRange min="0.745" max="0.995"/>
<default marks="dots"/>
</plot>?>
                </configure>
            </entity>
            <entity name="HMMGaussianClassifier" class="org.ptolemy.machineLearning.hmm.HMMGaussianClassifier">
                <property name="priorDistribution" class="ptolemy.actor.parameters.PortParameter" value="{0.4961280122604, 0.5038719877396, 0.0}">
                </property>
                <property name="transitionMatrix" class="ptolemy.actor.parameters.PortParameter" value="[0.9994010784025, 5.988399404008257E-4, 8.165710165779971E-8; 0.0048400017625, 0.4407777228675, 0.55438227537; 8.83098030878255E-5, 0.129287482418, 0.870624207779]">
                </property>
                <property name="mean" class="ptolemy.actor.parameters.PortParameter" value="{0.0511737349893, 0.3717640696256, 0.4095265761501}">
                </property>
                <property name="covariance" class="ptolemy.actor.parameters.PortParameter" value="{0.007388509862, 0.1267764362248, 0.0702250869185}">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, -150.0}">
                </property>
                <port name="priorDistribution" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="transitionMatrix" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="mean" class="ptolemy.actor.parameters.ParameterPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="HMMGaussianEstimator" class="org.ptolemy.machineLearning.hmm.HMMGaussianEstimator">
                <property name="likelihoodThreshold" class="ptolemy.data.expr.Parameter" value="1E-2*N">
                </property>
                <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="1000">
                </property>
                <property name="A0" class="ptolemy.data.expr.Parameter" value="transGuess">
                    <display name="Transition Probability Matrix"/>
                </property>
                <property name="priorDistribution" class="ptolemy.data.expr.Parameter" value="prior">
                </property>
                <property name="nStates" class="ptolemy.data.expr.Parameter" value="3">
                    <display name="numberOfStates"/>
                </property>
                <property name="meanVectorGuess" class="ptolemy.data.expr.Parameter" value="meanGuess">
                </property>
                <property name="standardDeviationGuess" class="ptolemy.data.expr.Parameter" value="stdDevGuess">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-465.0, -90.0}">
                </property>
            </entity>
            <entity name="Average4" class="ptolemy.actor.lib.Average">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-180.0, -15.0}">
                </property>
            </entity>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;trueLabels._location&quot;,x=75.0,y=-270.0}, tail={id=&quot;ArrayToSequence2.input&quot;,x=175.0,y=-270.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{275.0, -160.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CompareLabels.right&quot;,x=340.0,y=-260.0}, tail={id=&quot;relation11.vertex1&quot;,x=275.0,y=-160.0}, points={275.0,-250.0} },{ head={id=&quot;ArrayToSequence.output&quot;,x=180.0,y=-160.0}, tail={id=&quot;relation11.vertex1&quot;,x=275.0,y=-160.0}, points={} },{ head={id=&quot;SequencePlotter.input&quot;,x=335.0,y=-160.0,index=2}, tail={id=&quot;relation11.vertex1&quot;,x=275.0,y=-160.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{290.0, -270.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CompareLabels.left&quot;,x=340.0,y=-260.0}, tail={id=&quot;relation7.vertex1&quot;,x=290.0,y=-270.0}, points={} },{ head={id=&quot;ArrayToSequence2.output&quot;,x=175.0,y=-270.0}, tail={id=&quot;relation7.vertex1&quot;,x=290.0,y=-270.0}, points={} },{ head={id=&quot;SequencePlotter.input&quot;,x=335.0,y=-160.0,index=2}, tail={id=&quot;relation7.vertex1&quot;,x=290.0,y=-270.0}, points={290.0,-165.0} } }">
                </property>
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CompareLabels.output&quot;,x=340.0,y=-260.0}, tail={id=&quot;CountTrues.input&quot;,x=550.0,y=-260.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;MultiplyDivide.divide&quot;,x=855.0,y=-250.0}, tail={id=&quot;priors2.output&quot;,x=770.0,y=-160.0}, points={815.0,-240.0,815.0,-160.0} } }">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{705.0, -260.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;priors2.trigger&quot;,x=770.0,y=-160.0}, tail={id=&quot;relation8.vertex1&quot;,x=705.0,y=-260.0}, points={705.0,-160.0} },{ head={id=&quot;CountTrues.output&quot;,x=550.0,y=-260.0}, tail={id=&quot;relation8.vertex1&quot;,x=705.0,y=-260.0}, points={} },{ head={id=&quot;MultiplyDivide.multiply&quot;,x=855.0,y=-250.0}, tail={id=&quot;relation8.vertex1&quot;,x=705.0,y=-260.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;test._location&quot;,x=-65.0,y=-150.0}, tail={id=&quot;HMMGaussianClassifier.input&quot;,x=20.0,y=-150.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;ArrayToSequence.input&quot;,x=180.0,y=-160.0}, tail={id=&quot;HMMGaussianClassifier.output&quot;,x=20.0,y=-150.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;MultiplyDivide.output&quot;,x=855.0,y=-250.0}, tail={id=&quot;SequencePlotter2.input&quot;,x=955.0,y=-250.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Average3.output&quot;,x=-180.0,y=80.0}, tail={id=&quot;HMMGaussianClassifier.transitionMatrix&quot;,x=20.0,y=-150.0}, points={10.0,80.0} } }">
                </property>
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Average3.input&quot;,x=-180.0,y=80.0}, tail={id=&quot;HMMGaussianEstimator.transitionMatrix&quot;,x=-465.0,y=-90.0}, points={-320.0,80.0,-320.0,-110.0} } }">
                </property>
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Average.input&quot;,x=-90.0,y=170.0}, tail={id=&quot;HMMGaussianEstimator.mean&quot;,x=-465.0,y=-90.0}, points={-335.0,170.0,-335.0,-80.0} } }">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Average2.input&quot;,x=-270.0,y=260.0}, tail={id=&quot;HMMGaussianEstimator.standardDeviation&quot;,x=-465.0,y=-90.0}, points={-350.0,260.0,-350.0,-70.0} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;train._location&quot;,x=-530.0,y=-90.0}, tail={id=&quot;HMMGaussianEstimator.input&quot;,x=-465.0,y=-90.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Average.output&quot;,x=-90.0,y=170.0}, tail={id=&quot;HMMGaussianClassifier.mean&quot;,x=20.0,y=-150.0}, points={30.0,170.0} } }">
                </property>
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="{-415.0, -575.0}">
                </vertex>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="train" relation="relation2"/>
            <link port="test" relation="relation3"/>
            <link port="trueLabels" relation="relation10"/>
            <link port="ArrayToSequence.input" relation="relation"/>
            <link port="ArrayToSequence.output" relation="relation11"/>
            <link port="SequencePlotter.input" relation="relation7"/>
            <link port="SequencePlotter.input" relation="relation11"/>
            <link port="ArrayToSequence2.input" relation="relation10"/>
            <link port="ArrayToSequence2.output" relation="relation7"/>
            <link port="CompareLabels.left" relation="relation7"/>
            <link port="CompareLabels.right" relation="relation11"/>
            <link port="CompareLabels.output" relation="relation9"/>
            <link port="CountTrues.input" relation="relation9"/>
            <link port="CountTrues.output" relation="relation8"/>
            <link port="MultiplyDivide.multiply" relation="relation8"/>
            <link port="MultiplyDivide.divide" relation="relation14"/>
            <link port="MultiplyDivide.output" relation="relation5"/>
            <link port="priors2.output" relation="relation14"/>
            <link port="priors2.trigger" relation="relation8"/>
            <link port="Average.input" relation="relation16"/>
            <link port="Average.output" relation="relation15"/>
            <link port="Average2.input" relation="relation4"/>
            <link port="Average2.output" relation="relation17"/>
            <link port="Average3.input" relation="relation18"/>
            <link port="Average3.output" relation="relation13"/>
            <link port="SequencePlotter2.input" relation="relation5"/>
            <link port="HMMGaussianClassifier.priorDistribution" relation="relation6"/>
            <link port="HMMGaussianClassifier.transitionMatrix" relation="relation13"/>
            <link port="HMMGaussianClassifier.input" relation="relation3"/>
            <link port="HMMGaussianClassifier.output" relation="relation"/>
            <link port="HMMGaussianClassifier.mean" relation="relation15"/>
            <link port="HMMGaussianClassifier.covariance" relation="relation17"/>
            <link port="HMMGaussianEstimator.input" relation="relation2"/>
            <link port="HMMGaussianEstimator.transitionMatrix" relation="relation18"/>
            <link port="HMMGaussianEstimator.priorEstimates" relation="relation12"/>
            <link port="HMMGaussianEstimator.mean" relation="relation16"/>
            <link port="HMMGaussianEstimator.standardDeviation" relation="relation4"/>
            <link port="Average4.input" relation="relation12"/>
            <link port="Average4.output" relation="relation6"/>
        </entity>
        <entity name="SequenceToArray" class="ptolemy.domains.sdf.lib.SequenceToArray">
            <property name="arrayLength" class="ptolemy.actor.parameters.PortParameter" value="N">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 300.0}">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="arrayLength" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="TrainOrTest?2" class="ptolemy.actor.lib.BooleanSwitch">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1315.0, 215.0}">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="control" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="TrainOrTest?" class="ptolemy.actor.lib.BooleanSwitch">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1320.0, 90.0}">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="control" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="SequenceToArray2" class="ptolemy.domains.sdf.lib.SequenceToArray">
            <property name="arrayLength" class="ptolemy.actor.parameters.PortParameter" value="N">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{70.0, 90.0}">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showInfo" class="ptolemy.kernel.util.StringAttribute">
                </property>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="arrayLength" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="Discard" class="ptolemy.actor.lib.Discard">
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1495.0, 150.0}">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
                <property name="DecoratorAttributesFor_CompositeCommunicationAspect2" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="IncomingPacket" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-100.0, 280.0}">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_CommunicationChannel" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
            <port name="label" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                </property>
            </port>
            <port name="timestamp" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="payload" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Counter" class="ptolemy.actor.lib.Counter">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{565.0, 310.0}">
            </property>
        </entity>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in % 4 ==1">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{935.0, 310.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{20.0, 300.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;data._location&quot;,x=-135.0,y=300.0}, tail={id=&quot;relation3.vertex1&quot;,x=20.0,y=300.0}, points={} },{ head={id=&quot;CurrentTime.trigger&quot;,x=80.0,y=225.0}, tail={id=&quot;relation3.vertex1&quot;,x=20.0,y=300.0}, points={20.0,225.0} },{ head={id=&quot;IncomingPacket.timestamp&quot;,x=-100.0,y=280.0}, tail={id=&quot;relation3.vertex1&quot;,x=20.0,y=300.0}, points={} },{ head={id=&quot;LatencyEstimate.minus&quot;,x=230.0,y=290.0}, tail={id=&quot;relation3.vertex1&quot;,x=20.0,y=300.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Learning/Detection.test&quot;,x=1495.0,y=215.0}, tail={id=&quot;TrainOrTest?2.falseOutput&quot;,x=1315.0,y=215.0}, points={1395.0,215.0,1395.0,225.0} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{480.0, 300.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;SequenceToArray.output&quot;,x=385.0,y=300.0}, tail={id=&quot;relation6.vertex1&quot;,x=480.0,y=300.0}, points={} },{ head={id=&quot;TrainOrTest?2.input&quot;,x=1315.0,y=215.0}, tail={id=&quot;relation6.vertex1&quot;,x=480.0,y=300.0}, points={480.0,215.0} },{ head={id=&quot;Counter.increment&quot;,x=565.0,y=310.0}, tail={id=&quot;relation6.vertex1&quot;,x=480.0,y=300.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{1280.0, 310.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;TrainOrTest?2.control&quot;,x=1315.0,y=215.0}, tail={id=&quot;relation8.vertex1&quot;,x=1280.0,y=310.0}, points={1315.0,310.0} },{ head={id=&quot;TrainOrTest?.control&quot;,x=1320.0,y=90.0}, tail={id=&quot;relation8.vertex1&quot;,x=1280.0,y=310.0}, points={1320.0,170.0,1280.0,170.0} },{ head={id=&quot;Expression.output&quot;,x=935.0,y=310.0}, tail={id=&quot;relation8.vertex1&quot;,x=1280.0,y=310.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Learning/Detection.trueLabels&quot;,x=1495.0,y=215.0}, tail={id=&quot;TrainOrTest?.falseOutput&quot;,x=1320.0,y=90.0}, points={1410.0,225.0,1410.0,100.0} } }">
            </property>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;TrainOrTest?.input&quot;,x=1320.0,y=90.0}, tail={id=&quot;SequenceToArray2.output&quot;,x=70.0,y=90.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;TrainOrTest?.trueOutput&quot;,x=1320.0,y=90.0}, tail={id=&quot;Discard.input&quot;,x=1495.0,y=150.0}, points={1495.0,80.0} } }">
            </property>
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;data._location&quot;,x=-135.0,y=300.0}, tail={id=&quot;IncomingPacket.input&quot;,x=-100.0,y=280.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;LatencyEstimate.output&quot;,x=230.0,y=290.0}, tail={id=&quot;SequenceToArray.input&quot;,x=385.0,y=300.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;SequenceToArray2.input&quot;,x=70.0,y=90.0}, tail={id=&quot;IncomingPacket.label&quot;,x=-100.0,y=280.0}, points={0.0,80.0,0.0,290.0} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;LatencyEstimate.plus&quot;,x=230.0,y=290.0}, tail={id=&quot;CurrentTime.output&quot;,x=80.0,y=225.0}, points={160.0,280.0,160.0,225.0} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Counter.output&quot;,x=565.0,y=310.0}, tail={id=&quot;Expression.in&quot;,x=935.0,y=310.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Learning/Detection.train&quot;,x=1495.0,y=215.0}, tail={id=&quot;TrainOrTest?2.trueOutput&quot;,x=1315.0,y=215.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="{-20.0, -5.0}">
            </vertex>
        </relation>
        <link port="data" relation="relation15"/>
        <link port="LatencyEstimate.plus" relation="relation2"/>
        <link port="LatencyEstimate.minus" relation="relation3"/>
        <link port="LatencyEstimate.output" relation="relation7"/>
        <link port="CurrentTime.output" relation="relation2"/>
        <link port="CurrentTime.trigger" relation="relation3"/>
        <link port="Learning/Detection.train" relation="relation13"/>
        <link port="Learning/Detection.test" relation="relation5"/>
        <link port="Learning/Detection.trueLabels" relation="relation9"/>
        <link port="SequenceToArray.input" relation="relation7"/>
        <link port="SequenceToArray.output" relation="relation6"/>
        <link port="TrainOrTest?2.input" relation="relation6"/>
        <link port="TrainOrTest?2.control" relation="relation8"/>
        <link port="TrainOrTest?2.trueOutput" relation="relation13"/>
        <link port="TrainOrTest?2.falseOutput" relation="relation5"/>
        <link port="TrainOrTest?.input" relation="relation10"/>
        <link port="TrainOrTest?.control" relation="relation8"/>
        <link port="TrainOrTest?.trueOutput" relation="relation11"/>
        <link port="TrainOrTest?.falseOutput" relation="relation9"/>
        <link port="SequenceToArray2.input" relation="relation12"/>
        <link port="SequenceToArray2.output" relation="relation10"/>
        <link port="Discard.input" relation="relation11"/>
        <link port="IncomingPacket.input" relation="relation15"/>
        <link port="IncomingPacket.label" relation="relation12"/>
        <link port="IncomingPacket.timestamp" relation="relation3"/>
        <link port="Counter.increment" relation="relation6"/>
        <link port="Counter.output" relation="relation4"/>
        <link port="Expression.output" relation="relation8"/>
        <link port="Expression.in" relation="relation4"/>
    </entity>
    <entity name="ServiceChannel" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect">
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{55.0, 15.0}">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{130.0, 70.0}">
        </property>
        <property name="delayStatePriors" class="ptolemy.data.expr.Parameter" value="{0.8,0.2,0.0}">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 15.0]">
            </property>
        </property>
        <property name="delayStateMean" class="ptolemy.data.expr.Parameter" value="{50E-3, 150E-3,400E-3}">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{350.0, -5.0}">
            </property>
        </property>
        <property name="delayStateStandardDeviation" class="ptolemy.data.expr.Parameter" value="{8E-3, 40E-3,80E-3}">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 35.0]">
            </property>
        </property>
        <property name="A" class="ptolemy.data.expr.Parameter" value="[0.9,0.05,0.05;0.5,0.39,0.01;0.01,0.01,0.98]">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 55.0]">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={33, 26, 1407, 874}, maximized=true}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1173, 764]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0907073705611448">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{532.1402498003026, 332.8288877010346}">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="The communication channel model as a Composite QM. &#10;Communication delay evolves according to a Hidden Markov&#10;Model with Rician emission probabilities. &#10;&#10;The modal model generates a latency value, drawn from the&#10;corresponding rician distribution at each state, which is&#10;consequently used as the &quot;delay&quot; value that is used to&#10;delay the particular packet by the produced delay amount.&#10;&#10;The &quot;label&quot; of each data point indicates which communication&#10;state was used for the transmission of the packet, and for&#10;this particular three state communication scheme, takes an &#10;integer value in {0,1,2}. For this particular setting:&#10;Label 0 : Low Latency service link ( WiFi)&#10;Label 1 : Higher Latency service link (GSM)&#10;Label 2 : Anomalous link with high latency &#10;&#10;Note that this model  allows packets to be received in arbitrary&#10;order by the receiver.&#10;&#10;">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-5.0, 85.0}">
            </property>
        </property>
        <entity name="in" class="ptolemy.actor.lib.aspect.CommunicationRequestPort">
            <property name="value" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 470.0}">
            </property>
        </entity>
        <entity name="out" class="ptolemy.actor.lib.aspect.CommunicationResponsePort">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[809.1763000488281, 469.7572479248047]">
            </property>
            <property name="Parameter" class="ptolemy.data.expr.Parameter" value="">
            </property>
        </entity>
        <entity name="CommunicationDelay" class="ptolemy.domains.modal.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 650.0]">
            </property>
            <port name="trigger" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="observation" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="state" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                <property name="seed" class="ptolemy.actor.parameters.SharedParameter" value="0L">
                </property>
                <property name="resetSeedOnEachRun" class="ptolemy.actor.parameters.SharedParameter" value="false">
                </property>
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={185, 132, 1069, 635}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[835, 524]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.329256173705121">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{429.3239301497561, 381.9427747387571}">
                </property>
                <property name="startWithWifi" class="ptolemy.domains.modal.kernel.FSMTransitionParameter">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="1000">
                        </property>
                        <property name="numberOfLines" class="ptolemy.data.expr.Parameter" value="100">
                        </property>
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 195.0]">
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text></svg></configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_configurer" class="ptolemy.actor.gui.TransitionEditorPaneFactory">
                    </property>
                </property>
                <property name="startWithLTE" class="ptolemy.domains.modal.kernel.FSMTransitionParameter">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="1000">
                        </property>
                        <property name="numberOfLines" class="ptolemy.data.expr.Parameter" value="100">
                        </property>
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 215.0]">
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text></svg></configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_configurer" class="ptolemy.actor.gui.TransitionEditorPaneFactory">
                    </property>
                </property>
                <property name="LTEtoWifi" class="ptolemy.domains.modal.kernel.FSMTransitionParameter">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="1000">
                        </property>
                        <property name="numberOfLines" class="ptolemy.data.expr.Parameter" value="100">
                        </property>
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 235.0]">
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text></svg></configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_configurer" class="ptolemy.actor.gui.TransitionEditorPaneFactory">
                    </property>
                </property>
                <property name="wifiToLTE" class="ptolemy.domains.modal.kernel.FSMTransitionParameter">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="1000">
                        </property>
                        <property name="numberOfLines" class="ptolemy.data.expr.Parameter" value="100">
                        </property>
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 255.0]">
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text></svg></configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_configurer" class="ptolemy.actor.gui.TransitionEditorPaneFactory">
                    </property>
                </property>
                <property name="wifiToHLL" class="ptolemy.domains.modal.kernel.FSMTransitionParameter">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="1000">
                        </property>
                        <property name="numberOfLines" class="ptolemy.data.expr.Parameter" value="100">
                        </property>
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 275.0]">
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text></svg></configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_configurer" class="ptolemy.actor.gui.TransitionEditorPaneFactory">
                    </property>
                </property>
                <property name="LTEtoHLL" class="ptolemy.domains.modal.kernel.FSMTransitionParameter">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="1000">
                        </property>
                        <property name="numberOfLines" class="ptolemy.data.expr.Parameter" value="100">
                        </property>
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 295.0]">
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text></svg></configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_configurer" class="ptolemy.actor.gui.TransitionEditorPaneFactory">
                    </property>
                </property>
                <property name="HLLtoWifi" class="ptolemy.domains.modal.kernel.FSMTransitionParameter">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="1000">
                        </property>
                        <property name="numberOfLines" class="ptolemy.data.expr.Parameter" value="100">
                        </property>
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 315.0]">
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text></svg></configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_configurer" class="ptolemy.actor.gui.TransitionEditorPaneFactory">
                    </property>
                </property>
                <property name="HLLtoLTE" class="ptolemy.domains.modal.kernel.FSMTransitionParameter">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="1000">
                        </property>
                        <property name="numberOfLines" class="ptolemy.data.expr.Parameter" value="100">
                        </property>
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 335.0]">
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text></svg></configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_configurer" class="ptolemy.actor.gui.TransitionEditorPaneFactory">
                    </property>
                </property>
                <port name="trigger" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 380.0]">
                    </property>
                </port>
                <port name="observation" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 460.0]">
                    </property>
                </port>
                <port name="state" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 420.0]">
                    </property>
                </port>
                <entity name="LTE" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="LTE">
                    </property>
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[609.6801009874732, 387.102668837001]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </entity>
                <entity name="WiFi" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="WiFi">
                    </property>
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[454.6801009874732, 392.102668837001]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </entity>
                <entity name="init" class="ptolemy.domains.modal.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[524.6801009874732, 257.102668837001]">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </entity>
                <entity name="highLatencyLink" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="slowLink">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 510.0]">
                    </property>
                    <property name="c" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.0,0.0,1.0}">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                        <property name="ellipse" class="ptolemy.vergil.kernel.attributes.EllipseAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="-2.999999999999993, 1.0">
                            </property>
                            <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,0.0,1.0}">
                            </property>
                            <property name="width" class="ptolemy.data.expr.Parameter" value="114.00000000000001">
                            </property>
                            <property name="height" class="ptolemy.data.expr.Parameter" value="30.0">
                            </property>
                            <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.6,0.6,1.0}">
                            </property>
                        </property>
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="fsmTransitionParameterName" class="ptolemy.data.expr.StringParameter" value="wifiToLTE">
                    </property>
                    <property name="showFSMTransitionParameter" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="probability(A(0,1))">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="fsmTransitionParameterName" class="ptolemy.data.expr.StringParameter" value="LTEtoWifi">
                    </property>
                    <property name="showFSMTransitionParameter" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="probability(A(1,0))">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.141592653589793">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="fsmTransitionParameterName" class="ptolemy.data.expr.StringParameter" value="startWithWifi">
                    </property>
                    <property name="showFSMTransitionParameter" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="probability(delayStatePriors(0)) ">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.237100140489169">
                    </property>
                    <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="fsmTransitionParameterName" class="ptolemy.data.expr.StringParameter" value="startWithLTE">
                    </property>
                    <property name="showFSMTransitionParameter" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="probability(delayStatePriors(1)) ">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4782036133588728">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.8073737631720138">
                    </property>
                    <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="fsmTransitionParameterName" class="ptolemy.data.expr.StringParameter" value="wifiToHLL">
                    </property>
                    <property name="showFSMTransitionParameter" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="probability(A(0,2))">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.159758362241139">
                    </property>
                </relation>
                <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="fsmTransitionParameterName" class="ptolemy.data.expr.StringParameter" value="LTEtoHLL">
                    </property>
                    <property name="showFSMTransitionParameter" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="probability(A(2,1))">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.0267813905440273">
                    </property>
                </relation>
                <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="fsmTransitionParameterName" class="ptolemy.data.expr.StringParameter" value="HLLtoWifi">
                    </property>
                    <property name="showFSMTransitionParameter" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="probability(A(2,0))">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-1.7146176714436303">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.3280086837125262">
                    </property>
                </relation>
                <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="fsmTransitionParameterName" class="ptolemy.data.expr.StringParameter" value="HLLtoLTE">
                    </property>
                    <property name="showFSMTransitionParameter" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="probability(A(1,2))">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-1.6992123513314994">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.8256937921547352">
                    </property>
                </relation>
                <link port="LTE.incomingPort" relation="relation"/>
                <link port="LTE.incomingPort" relation="relation4"/>
                <link port="LTE.incomingPort" relation="relation6"/>
                <link port="LTE.outgoingPort" relation="relation2"/>
                <link port="LTE.outgoingPort" relation="relation8"/>
                <link port="WiFi.incomingPort" relation="relation2"/>
                <link port="WiFi.incomingPort" relation="relation3"/>
                <link port="WiFi.incomingPort" relation="relation7"/>
                <link port="WiFi.outgoingPort" relation="relation"/>
                <link port="WiFi.outgoingPort" relation="relation5"/>
                <link port="init.outgoingPort" relation="relation3"/>
                <link port="init.outgoingPort" relation="relation4"/>
                <link port="highLatencyLink.incomingPort" relation="relation5"/>
                <link port="highLatencyLink.incomingPort" relation="relation8"/>
                <link port="highLatencyLink.outgoingPort" relation="relation6"/>
                <link port="highLatencyLink.outgoingPort" relation="relation7"/>
            </entity>
            <entity name="WiFi" class="ptolemy.domains.modal.modal.Refinement">
                <property name="stateIndex" class="ptolemy.data.expr.Parameter" value="0">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 250.0}">
                    </property>
                </property>
                <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                    <property name="iterations" class="ptolemy.data.expr.Parameter" value="AUTO">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{215, 285}">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{467.0, 495.748046875}">
                </property>
                <port name="trigger" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{140.0, 345.0}">
                    </property>
                </port>
                <port name="observation" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{325.0, 345.0}">
                    </property>
                </port>
                <port name="state" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{325.0, 400.0}">
                    </property>
                </port>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="stateIndex">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{255.0, 400.0}">
                    </property>
                </entity>
                <entity name="Rician2" class="ptolemy.actor.lib.Rician">
                    <property name="seed" class="ptolemy.actor.parameters.SharedParameter" value="0L">
                    </property>
                    <property name="privateSeed" class="ptolemy.data.expr.Parameter" value="">
                    </property>
                    <property name="resetOnEachRun" class="ptolemy.actor.parameters.SharedParameter" value="false">
                    </property>
                    <property name="xMean" class="ptolemy.data.expr.Parameter" value="delayStateMean(stateIndex)">
                    </property>
                    <property name="standardDeviation" class="ptolemy.data.expr.Parameter" value="delayStateStandardDeviation(stateIndex)">
                    </property>
                    <doc>Create an array of rician random variables</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{255.0, 345.0}">
                    </property>
                </entity>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;state._location&quot;,x=325.0,y=400.0}, tail={id=&quot;Const.output&quot;,x=255.0,y=400.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;observation._location&quot;,x=325.0,y=345.0}, tail={id=&quot;Rician2.output&quot;,x=255.0,y=345.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{175.0, 345.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;port._location&quot;,x=140.0,y=345.0}, tail={id=&quot;relation4.vertex1&quot;,x=175.0,y=345.0}, points={} },{ head={id=&quot;Const.trigger&quot;,x=255.0,y=400.0}, tail={id=&quot;relation4.vertex1&quot;,x=175.0,y=345.0}, points={175.0,400.0} },{ head={id=&quot;Rician2.trigger&quot;,x=255.0,y=345.0}, tail={id=&quot;relation4.vertex1&quot;,x=175.0,y=345.0}, points={} } }">
                    </property>
                </relation>
                <link port="trigger" relation="relation4"/>
                <link port="observation" relation="relation"/>
                <link port="state" relation="relation2"/>
                <link port="Const.output" relation="relation2"/>
                <link port="Const.trigger" relation="relation4"/>
                <link port="Rician2.output" relation="relation"/>
                <link port="Rician2.trigger" relation="relation4"/>
            </entity>
            <entity name="LTE" class="ptolemy.domains.modal.modal.Refinement">
                <property name="stateIndex" class="ptolemy.data.expr.Parameter" value="1">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{280.0, 250.0}">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{477.0, 493.89453125}">
                </property>
                <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                    <property name="iterations" class="ptolemy.data.expr.Parameter" value="AUTO">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{169.0, 269.89453125}">
                    </property>
                </property>
                <port name="trigger" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 400.0}">
                    </property>
                </port>
                <port name="observation" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 400.0}">
                    </property>
                </port>
                <port name="state" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{320.0, 330.0}">
                    </property>
                </port>
                <entity name="Rician" class="ptolemy.actor.lib.Rician">
                    <property name="xMean" class="ptolemy.data.expr.Parameter" value="delayStateMean(stateIndex)">
                    </property>
                    <property name="standardDeviation" class="ptolemy.data.expr.Parameter" value="delayStateStandardDeviation(stateIndex)">
                    </property>
                    <doc>Create an array of rician random variables</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{255.0, 400.0}">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="stateIndex">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{255.0, 330.0}">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;state._location&quot;,x=320.0,y=330.0}, tail={id=&quot;Const.output&quot;,x=255.0,y=330.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{185.0, 400.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Const.trigger&quot;,x=255.0,y=330.0}, tail={id=&quot;relation4.vertex1&quot;,x=185.0,y=400.0}, points={185.0,330.0} },{ head={id=&quot;Rician.trigger&quot;,x=255.0,y=400.0}, tail={id=&quot;relation4.vertex1&quot;,x=185.0,y=400.0}, points={} },{ head={id=&quot;port._location&quot;,x=150.0,y=400.0}, tail={id=&quot;relation4.vertex1&quot;,x=185.0,y=400.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="trigger" relation="relation4"/>
                <link port="observation" relation="relation2"/>
                <link port="state" relation="relation"/>
                <link port="Rician.output" relation="relation2"/>
                <link port="Rician.trigger" relation="relation4"/>
                <link port="Const.output" relation="relation"/>
                <link port="Const.trigger" relation="relation4"/>
            </entity>
            <entity name="slowLink" class="ptolemy.domains.modal.modal.Refinement">
                <property name="stateIndex" class="ptolemy.data.expr.Parameter" value="2">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{280.0, 250.0}">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{477.0, 493.89453125}">
                </property>
                <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                    <property name="iterations" class="ptolemy.data.expr.Parameter" value="AUTO">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{219.0, 282.89453125}">
                    </property>
                </property>
                <port name="trigger" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 340.0}">
                    </property>
                </port>
                <port name="observation" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{335.0, 340.0}">
                    </property>
                </port>
                <port name="state" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{335.0, 395.0}">
                    </property>
                </port>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="stateIndex">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{265.0, 395.0}">
                    </property>
                </entity>
                <entity name="Rician" class="ptolemy.actor.lib.Rician">
                    <property name="xMean" class="ptolemy.data.expr.Parameter" value="delayStateMean(stateIndex)">
                    </property>
                    <property name="standardDeviation" class="ptolemy.data.expr.Parameter" value="delayStateStandardDeviation(stateIndex)">
                    </property>
                    <doc>Create an array of rician random variables</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{265.0, 340.0}">
                    </property>
                </entity>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;state._location&quot;,x=335.0,y=395.0}, tail={id=&quot;Const.output&quot;,x=265.0,y=395.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{185.0, 340.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Const.trigger&quot;,x=265.0,y=395.0}, tail={id=&quot;relation4.vertex1&quot;,x=185.0,y=340.0}, points={185.0,395.0} },{ head={id=&quot;port._location&quot;,x=150.0,y=340.0}, tail={id=&quot;relation4.vertex1&quot;,x=185.0,y=340.0}, points={} },{ head={id=&quot;Rician.trigger&quot;,x=265.0,y=340.0}, tail={id=&quot;relation4.vertex1&quot;,x=185.0,y=340.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Rician.output&quot;,x=265.0,y=340.0}, tail={id=&quot;observation._location&quot;,x=335.0,y=340.0}, points={} } }">
                    </property>
                </relation>
                <link port="trigger" relation="relation4"/>
                <link port="observation" relation="relation"/>
                <link port="state" relation="relation3"/>
                <link port="Const.output" relation="relation3"/>
                <link port="Const.trigger" relation="relation4"/>
                <link port="Rician.output" relation="relation"/>
                <link port="Rician.trigger" relation="relation4"/>
            </entity>
            <relation name="triggerRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="observationRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="stateRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="trigger" relation="triggerRelation"/>
            <link port="observation" relation="observationRelation"/>
            <link port="state" relation="stateRelation"/>
            <link port="_Controller.trigger" relation="triggerRelation"/>
            <link port="_Controller.observation" relation="observationRelation"/>
            <link port="_Controller.state" relation="stateRelation"/>
            <link port="WiFi.trigger" relation="triggerRelation"/>
            <link port="WiFi.observation" relation="observationRelation"/>
            <link port="WiFi.state" relation="stateRelation"/>
            <link port="LTE.trigger" relation="triggerRelation"/>
            <link port="LTE.observation" relation="observationRelation"/>
            <link port="LTE.state" relation="stateRelation"/>
            <link port="slowLink.trigger" relation="triggerRelation"/>
            <link port="slowLink.observation" relation="observationRelation"/>
            <link port="slowLink.state" relation="stateRelation"/>
        </entity>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="0.4091087037835">
            </property>
            <property name="minimumDelay" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[734.1763000488281, 469.7572479248047]">
            </property>
        </entity>
        <entity name="UpdateLabels" class="ptolemy.actor.lib.RecordUpdater">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{295.0, 460.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{payload=double, label=int, timestamp=double}">
                </property>
            </port>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="label" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="input.token">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{140.0, 470.0}">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="DecoratorAttributesFor_ServiceChannel" class="ptolemy.actor.lib.aspect.CompositeCommunicationAspect$CompositeCommunicationAspectAttributes">
                    <property name="decoratorName" class="ptolemy.kernel.util.StringAttribute" value="ServiceChannel">
                    </property>
                    <property name="enable" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="sequenceNumber" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="inputPort" class="ptolemy.data.expr.StringParameter" value="">
                    </property>
                </property>
            </port>
        </entity>
        <entity name="UpdateCompositeCommunicationAspectToken" class="ptolemy.actor.lib.RecordUpdater">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{425.0, 450.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="token" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="LatencyDistribution" class="ptolemy.actor.lib.gui.HistogramPlotter">
            <property name="automaticRescale" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="WiFi, LTE, anomalous">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={863, 152, 464, 312}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[464, 268]">
            </property>
            <property name="binWidth" class="ptolemy.data.expr.Parameter" value="10E-3">
            </property>
            <property name="binOffset" class="ptolemy.data.expr.Parameter" value="5E-3">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{440.0, 550.0}">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>LatencyDistribution</title>
<xRange min="-0.7599999999999999" max="0.86"/>
<yRange min="0.0" max="255.0"/>
<barGraph width="0.5" offset="0.15"/>
<bin width="0.01" offset="0.005"/>
</plot>?>
            </configure>
        </entity>
        <entity name="Switch" class="ptolemy.actor.lib.Switch">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{330.0, 540.0}">
            </property>
        </entity>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{55.0, 470.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;in.output&quot;,x=15.0,y=470.0}, tail={id=&quot;relation3.vertex1&quot;,x=55.0,y=470.0}, points={} },{ head={id=&quot;Expression.input&quot;,x=140.0,y=470.0}, tail={id=&quot;relation3.vertex1&quot;,x=55.0,y=470.0}, points={} },{ head={id=&quot;UpdateCompositeCommunicationAspectToken.input&quot;,x=425.0,y=450.0}, tail={id=&quot;relation3.vertex1&quot;,x=55.0,y=470.0}, points={385.0,460.0,385.0,420.0,55.0,420.0} },{ head={id=&quot;CommunicationDelay.port&quot;,x=120.0,y=650.0}, tail={id=&quot;relation3.vertex1&quot;,x=55.0,y=470.0}, points={55.0,650.0} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;UpdateLabels.input&quot;,x=295.0,y=460.0}, tail={id=&quot;Expression.output&quot;,x=140.0,y=470.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;UpdateLabels.output&quot;,x=295.0,y=460.0}, tail={id=&quot;UpdateCompositeCommunicationAspectToken.token&quot;,x=425.0,y=450.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;out.input&quot;,x=665.0,y=470.0}, tail={id=&quot;TimeDelay.output&quot;,x=590.0,y=470.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[260.0, 640.0]">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;relation7.vertex1&quot;,x=260.0,y=640.0}, tail={id=&quot;Switch.input&quot;,x=330.0,y=540.0}, points={260.0,540.0} },{ head={id=&quot;TimeDelay.delay&quot;,x=590.0,y=470.0}, tail={id=&quot;relation7.vertex1&quot;,x=260.0,y=640.0}, points={590.0,640.0} },{ head={id=&quot;CommunicationDelay.observation&quot;,x=120.0,y=650.0}, tail={id=&quot;relation7.vertex1&quot;,x=260.0,y=640.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{245.0, 595.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;relation8.vertex1&quot;,x=245.0,y=595.0}, tail={id=&quot;Switch.control&quot;,x=330.0,y=540.0}, points={330.0,595.0} },{ head={id=&quot;CommunicationDelay.state&quot;,x=120.0,y=650.0}, tail={id=&quot;relation8.vertex1&quot;,x=245.0,y=595.0}, points={225.0,660.0,225.0,595.0} },{ head={id=&quot;UpdateLabels.label&quot;,x=295.0,y=460.0}, tail={id=&quot;relation8.vertex1&quot;,x=245.0,y=595.0}, points={245.0,490.0} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;LatencyDistribution.input&quot;,x=440.0,y=550.0,index=3}, tail={id=&quot;Switch.output&quot;,x=330.0,y=540.0,index=3}, points={} } }">
            </property>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Switch.output&quot;,x=330.0,y=540.0,index=3}, tail={id=&quot;LatencyDistribution.input&quot;,x=440.0,y=550.0,index=3}, points={} } }">
            </property>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="1">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Switch.output&quot;,x=330.0,y=540.0,index=3}, tail={id=&quot;LatencyDistribution.input&quot;,x=440.0,y=550.0,index=3}, points={} } }">
            </property>
        </relation>
        <link port="in.output" relation="relation3"/>
        <link port="out.input" relation="relation5"/>
        <link port="CommunicationDelay.trigger" relation="relation3"/>
        <link port="CommunicationDelay.observation" relation="relation7"/>
        <link port="CommunicationDelay.state" relation="relation8"/>
        <link port="TimeDelay.input" relation="relation"/>
        <link port="TimeDelay.output" relation="relation5"/>
        <link port="TimeDelay.delay" relation="relation7"/>
        <link port="UpdateLabels.output" relation="relation4"/>
        <link port="UpdateLabels.input" relation="relation6"/>
        <link port="UpdateLabels.label" relation="relation8"/>
        <link port="Expression.output" relation="relation6"/>
        <link port="Expression.input" relation="relation3"/>
        <link port="UpdateCompositeCommunicationAspectToken.output" relation="relation"/>
        <link port="UpdateCompositeCommunicationAspectToken.input" relation="relation3"/>
        <link port="UpdateCompositeCommunicationAspectToken.token" relation="relation4"/>
        <link port="LatencyDistribution.input" relation="relation2"/>
        <link port="LatencyDistribution.input" relation="relation9"/>
        <link port="LatencyDistribution.input" relation="relation10"/>
        <link port="Switch.input" relation="relation7"/>
        <link port="Switch.output" relation="relation2"/>
        <link port="Switch.output" relation="relation9"/>
        <link port="Switch.output" relation="relation10"/>
        <link port="Switch.control" relation="relation8"/>
    </entity>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Transmitter.port_0&quot;,x=45.0,y=60.0}, tail={id=&quot;Receiver.data&quot;,x=250.0,y=60.0}, points={} } }">
        </property>
    </relation>
    <link port="Transmitter.port_0" relation="relation"/>
    <link port="Receiver.data" relation="relation"/>
</entity>
